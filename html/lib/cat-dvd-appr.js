/* ---------------------------------------------------------------------------- *\
 *  Film Aficionado is public domain software. Promotional material images,
 *  if present, are copyrighted by the respective copyright owners and should
 *  only be used under the provisions dictated by those copyright holders.
 *  There are no warranties expressed on implied.
\* ---------------------------------------------------------------------------- */
var Ajax={_http:false,_uniSeed:'',_getHttpObj:function(){var h=false;if(window.XMLHttpRequest){try{h=new XMLHttpRequest();}catch(e){h=false;}}else{if(window.ActiveXObject){try{h=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{h=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){h=false;}}}}if(h.overrideMimeType)h.overrideMimeType('text/xml');return h;},_call:function(s_file,f_callback,s_get,s_post){if(!Ajax._http)Ajax._http=Ajax._getHttpObj();if(Ajax._http){Ajax._http.abort();Ajax._http.onreadystatechange=f_callback;if(s_post){Ajax._http.open('POST','/utils/ajax-'+s_file+'.php'+s_get,true);Ajax._http.setRequestHeader("Content-type","application/x-www-form-urlencoded");Ajax._http.setRequestHeader("Content-length",s_post.length);Ajax._http.setRequestHeader("Connection","close");Ajax._http.send(s_post);}else{Ajax._http.open('GET','/utils/ajax-'+s_file+'.php'+s_get,true);Ajax._http.send(null);}}},_uniCall:function(s_file,f_callback,s_get,s_post,s_seed){if(s_seed!=Ajax._uniSeed)return;Ajax._call(s_file,f_callback,s_get,s_post);},asynch:function(s_file,s_callback,s_get,s_post,n_delay){s_file="'"+s_file+"'";s_get=typeof(s_get)=='undefined'||!s_get?0:"'"+s_get.replace(/\x27/g,"\\'")+"'";s_post=typeof(s_post)=='undefined'||!s_post?0:"'"+s_post.replace(/\x27/g,"\\'")+"'";n_delay=typeof(n_delay)=='undefined'?200:n_delay;setTimeout("Ajax._call("+s_file+","+s_callback+","+s_get+","+s_post+")",n_delay);},asynchNoDup:function(s_file,s_callback,s_get,s_post,n_delay){s_file="'"+s_file+"'";s_get=typeof(s_get)=='undefined'||!s_get?0:"'"+s_get.replace(/\x27/g,"\\'")+"'";s_post=typeof(s_post)=='undefined'||!s_post?0:"'"+s_post.replace(/\x27/g,"\\'")+"'";n_delay=typeof(n_delay)=='undefined'?200:n_delay;Ajax._uniSeed=(new Date()).getTime()+','+Math.random();setTimeout("Ajax._uniCall("+s_file+","+s_callback+","+s_get+","+s_post+",'"+Ajax._uniSeed+"')",n_delay);},ready:function(){return Ajax._http.readyState==4&&Ajax._http.status==200;},getParms:function(o){o.sta=o.msg=o.err='';if(!Ajax.ready())return false;o.lines=Ajax.getLines();o.length=o.lines.length;if(o.length<2)return false;o.line1=o.lines[1];return Ajax.statusErr(o,o.line1);},statusErr:function(o,s){o.sta=Ajax.statusTxt(s,'status');o.msg=Ajax.statusTxt(s,'msg');o.err=o.sta=='SUCCESS'?'':(o.msg?o.msg:'ERROR');return o.err=='';},statusInt:function(s,v){var re=new RegExp(v+"='([^\x27]+)'");re=re.exec(s);return re&&re.index?Dec.parse(re[1]):0;},statusTxt:function(s,v){var re=new RegExp(v+"='([^\x27]+)'");re=re.exec(s);return re&&re.index?re[1]:'';},getText:function(){return Ajax._http.responseText;},getLines:function(){return Ajax._http.responseText.split('\n');},__ignore:function(s,t){}};var Asin={validate:function(s_field,o_changed,n_min_len,n_max_len,b_empty,s_name){var b=Str.validate(s_field,o_changed,n_min_len,n_max_len,b_empty,s_name)!==false,b_unlikelly=false,b_10_digits,e;if(b&&(e=$(s_field))){if((s=Str.trim(e.value).toLowerCase())){if((b_10_digits=s.length==10)){if(s.substr(0,1)=="b"){if((b_unlikelly=s.match(/^b0[0-9a-z]{8}$/)==null)){if(s.substr(1,1)=="o")s=s.substr(0,1)+'0'+s.substr(2,8);if(s.substr(2,1)=="o")s=s.substr(0,2)+'0'+s.substr(3,7);if(s.substr(3,1)=="o")s=s.substr(0,3)+'0'+s.substr(4,6);if(s.substr(4,1)=="o")s=s.substr(0,4)+'0'+s.substr(5,5);b_unlikelly=s.match(/^b0[0-9a-z]{8}$/)==null;}}else{b_unlikelly=s.match(/^[016][0-9]{8}[0-9x]$/)==null;}}if(!b_10_digits||b_unlikelly){if(!Validate.warn(e,true,true,(b_unlikelly?s_name+', is probably not valid.\n\n':'')+(!b_10_digits?s_name+' is not 10 characters in length.\n\n':'')+'An ASIN is how Amazon.com and their international sites\nidentify a title. Most ASINs start with "B" followed by\n1 or more zeros; a few are all numbers and some end with\nan "X", but they are all 10 characters in length.\n\nYou entered "'+s+'".',true))return false;}e.value=s=s.toUpperCase();return s;}}return b;},test:function(){var a=$('n_a_asin'),b=$('n_a_amz_country');if(a&&b){a=Str.trim(a.value);b=DropDown.getSelValue(b);if(a&&b){switch(b){case 'C':a='http://www.amazon.ca/exec/obidos/ASIN/'+a+'/dvdaficiona05-20';break;case 'K':a='http://www.amazon.co.uk/exec/obidos/ASIN/'+a+'/dvdaficionado-21';break;case 'F':a='http://www.amazon.fr/exec/obidos/ASIN/'+a+'/dvdaficiona01-21';break;case 'D':a='http://www.amazon.de/exec/obidos/ASIN/'+a+'/dvdaficiona0e-21';break;case 'I':a='http://www.amazon.it/exec/obidos/ASIN/'+a+'/dvaf-21';break;case 'E':a='http://www.amazon.es/exec/obidos/ASIN/'+a+'/dvaf0b-21';break;case 'J':a='http://www.amazon.co.jp/exec/obidos/ASIN/'+a+'/dvdaficionado-22';break;default:a='http://www.amazon.com/exec/obidos/ASIN/'+a+'/dvdaficionado';break;}Win.openStd(a,'amz');return;}}alert('Enter an Amazon ASIN and the corresponding country and we will test it.');}};var Context={_isFireFox:navigator.userAgent.match(/gecko/i),_menuHandle:null,setup:function(){if(Filmaf.onPopup)Context._menuHandle=DynarchMenu.setup('context-menu',{context:true,lazy:true,onPopup:Filmaf.onPopup,ctxbutton:1});else Context._menuHandle=DynarchMenu.setup('context-menu',{context:true,lazy:true,ctxbutton:1});},attach:function(click,edit,s_menu,n_calendar_id){var e=$s(click),f=$s(edit);if(Context._menuHandle&&s_menu&&(e||f)){if(s_menu=='calendar'){if(f)f.onclick=Search.calendars[n_calendar_id];if(e)e.onclick=Search.calendars[n_calendar_id];}else{if(f)f.onclick=f.onkeydown=Context._pressButton;if(e)DynarchMenu.setupContext(e,Context._menuHandle.items[s_menu]);}}},_pressButton:function(ev){ev||(ev=window.event);if(ev.keyCode!=9){var e=ev.currentTarget||ev.srcElement;if(e&&e.tagName=='INPUT')e.setAttribute('autocomplete','off');if(e&&e.id&&(e=$('h'+e.id.substr(1))))e.onclick(ev);else alert('Please use the [...] button next to this field to select an option.');}},getPopupPos:function(e,dx,dy){var r=DynarchMenu.getWinSize(),xi=DynarchMenu.psLeft(),yi=DynarchMenu.psTop(),xf=xi+r.x,yf=yi+r.y;r=Context.getPos(e);var xe=r.x,ye=r.y,zh=e.getAttribute('zoom_hoz'),dn=e.getAttribute('zoom_ver')=='down',lf=zh=='left',lo=zh=='leftoffset';r.beg_y=yi;r.end_y=yf;r.bot_y=0;r.x=lf?xe-dx:xe+(lo?0:e.offsetWidth);r.y=ye-1;r.y+=dn?e.offsetHeight:e.offsetHeight*85/100;if(!lf&&r.x+dx>xf)r.x=lo?r.x=xf-dx-1:r.x-e.offsetWidth-dx;if(r.x<xi)r.x=xi;if(r.y+dy>yf){r.bot_y=r.y-(dn?e.offsetHeight:e.offsetHeight*70/100);r.y=r.bot_y-dy;r.bot_y=r.end_y-r.bot_y;}if(r.y<yi)r.y=yi;r.x=Math.floor(r.x);r.y=Math.floor(r.y);return r;},getPos:function(e){var r={x:0,y:0},op,pn;if(e){r.x=e.offsetLeft;r.y=e.offsetTop;op=e.offsetParent;pn=e.parentNode;while(op){r.x+=op.offsetLeft;r.y+=op.offsetTop;if(op!=document.body&&op!=document.documentElement){r.x-=op.scrollLeft;r.y-=op.scrollTop;}if(Context._isFireFox){while(pn&&op!=pn){r.x-=pn.scrollLeft;r.y-=pn.scrollTop;pn=pn.parentNode;}}pn=op.parentNode;op=op.offsetParent;}}return r;},close:function(){if(window.top&&window.top.DynarchMenu)window.top.DynarchMenu._closeOtherMenus(null);}};var Cookie={get:function(n){var c=('; '+document.cookie).replace(/;\s*([A-Za-z0-9_]+\=)/g,';$1'),i=c.indexOf(';'+n+'=');if(i>=0){i+=n.length+2;n=c.indexOf(';',i);return n>i?c.substr(i,n-i):c.substr(i);}return '';},del:function(n){var c=new Date('January 1, 2001');c='; expires='+c.toGMTString()+'; path=/; domain='+Filmaf.cookieDomain;document.cookie=n+'='+c;},set:function(n,v,d){if(typeof(v)=='string'&&!(v=Str.trim(v).replace(/^,+/,'').replace(/,+$/,''))){Cookie.del(n);return;}if(d)if(d<0)d=0;else{var x=d;d=new Date();d.setDate(d.getDate()+x);}else d=new Date(new Date().setFullYear(new Date().getFullYear()+1));d=(d?'; expires='+d.toGMTString():'')+'; path=/; domain='+Filmaf.cookieDomain;document.cookie=n+'='+v+d;},reset:function(keepers){var z=document.cookie.split(';'),i,s,n;keepers='-,'+keepers.toLowerCase()+',';for(i=0;i<z.length;i++){s=Str.trim(z[i]);n=s.indexOf('=');if(n>=0){s=s.substr(0,n);if(keepers.indexOf(','+s.toLowerCase()+',')<0)Cookie.del(s);}}},amend:function(n,k,v){var c=Cookie.get(n).split('*'),s='',b=0,m,i;if(typeof(v)=='string'){if(v.indexOf('*')>0){v=v.replace(/\*/g,'');alert("Illegal character '*' removed from ammended cookie value");}if(v.indexOf('*')>0||v.indexOf('_')>0){k=k.replace(/\*/g,'').replace(/_/g,'');alert("Illegal characters '*' and/or '_' removed from ammended cookie value");}}for(i=0;i<c.length;i++){m=c[i].split('_',1)[0];if(k==m){if(v!='')s+='*'+k+'_'+v;b=1;}else{if(m!='')s+='*'+c[i];}}if(!b&&v!='')s+='*'+k+'_'+v;if(s=='')Cookie.del(n);else Cookie.set(n,s.slice(1));},extract:function(n,k,def){var c=Cookie.get(n).split('*'),i;for(i=0;i<c.length;i++){if(k==c[i].split('_',1)[0])return c[i].slice(k.length+1);}return typeof(def)=='undefined'?'':def;},extractFromStr:function(c,k,def){var i;c=c.split('*');for(i=0;i<c.length;i++){if(k==c[i].split('_',1)[0])return c[i].slice(k.length+1);}return typeof(def)=='undefined'?'':def;},explode:function(n,ints){var c=Cookie.get(n).split('*'),a=[],i;if(c=='')return '';for(i=0;i<c.length;i++){k=c[i].split('_',1)[0];v=c[i].slice(k.length+1);if(ints)a[i]={key:k,val:v};else a[k]=v;}return a;},explodeStr:function(c,ints){var c=c.split('*'),a=[],i;if(c=='')return '';for(i=0;i<c.length;i++){k=c[i].split('_',1)[0];v=c[i].slice(k.length+1);if(ints)a[i]={key:k,val:v};else a[k]=v;}return a;},clean:function(b_all){var b=confirm(b_all?'This action will log you off FilmAf, delete your shopping\ncart and a few other options. Do you wish to proceed?\n\nOK=Yes - Cancel=No':'This action will delete your shopping cart and\na few other options. Do you wish to proceed?\n\nOK=Yes - Cancel=No');if(b)Cookie.reset(b_all?'orig':'user,parm,orig');return b;}};var DateTime={parseBounded:function(s,yy_min,yy_max,empty){var re,y,m=1,d=1,o='invalid';s=Str.trim(s);if(s=='')return empty?'':false;re=/^([0-9]{4})$/.exec(s);if(re){y=Dec.parse(re[1]);if(y>=yy_min&&y<=yy_max)o='year';}else{re=/^([0-9]{4})[-]([0-9]{2})$/.exec(s);if(re){y=Dec.parse(re[1]);m=Dec.parse(re[2]);if(y>=yy_min&&y<=yy_max){if(m==0)o='year';else if(m>=1&&m<=12)o='month';}}else{re=/^([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s);if(re){y=Dec.parse(re[1]);m=Dec.parse(re[2]);d=Dec.parse(re[3]);if(y>=yy_min&&y<=yy_max){if(m==0&&d==0)o='year';else if(m>=1&&m<=12){if(d==0)o='month';else if(DateTime.isValid(y,m,d,yy_min,yy_max))o='day';}}}else{return false;}}}return{day:d,month:m-1,year:y,option:o};},isLeapYear:function(y){return y%4==0&&(y%100!=0||y%400==0);},daysInMonth:function(m,y){var dm=[0,31,29,31,30,31,30,31,31,30,31,30,31];if(m==2&&y>0)return DateTime.isLeapYear(y)?29:28;return(m>=1&&m<=12)?dm[m]:false;},isStrValid:function(s,yy_min,yy_max){var re=/^([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s);if(re){y=Dec.parse(re[1]);m=Dec.parse(re[2]);d=Dec.parse(re[3]);return DateTime.isValid(y,m,d,yy_min,yy_max);}return false;},isValid:function(y,m,d,yy_min,yy_max){y=Dec.parse(y);m=Dec.parse(m);d=Dec.parse(d);return y>=yy_min&&y<=yy_max&&m>=1&&m<=12&&d>=1&&d<=DateTime.daysInMonth(m,y);},IntToDateStr:function(y,m,d){m=m+1;if(m<10)m='0'+m;if(d<10)d='0'+d;return y+'-'+m+'-'+d;},toDateStr:function(dt){var m=dt.getMonth()+1,d=dt.getDate();if(m<10)m='0'+m;if(d<10)d='0'+d;return dt.getFullYear()+'-'+m+'-'+d;},toTimeStr:function(dt){var m=dt.getMonth()+1,d=dt.getDate(),h=dt.getHours(),i=dt.getMinutes(),s=dt.getSeconds();if(m<10)m='0'+m;if(d<10)d='0'+d;if(h<10)h='0'+h;if(i<10)i='0'+i;if(s<10)s='0'+s;return dt.getFullYear()+'-'+m+'-'+d+' '+h+':'+i+':'+s;},toTimeHHMM:function(dt,zeroPad,ampm){var h=dt.getHours(),i=dt.getMinutes(),b=h>11,m=ampm?(b?' PM':' AM'):'';if(m&&b)h-=12;if(h<10&&zeroPad)h='0'+h;if(i<10)i='0'+i;return h+':'+i+m;},getMonth:function(n){var a=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];if(n>=1&&n<=12)return a[n-1];},validate:function(s_field,o_date,o_changed,yy_min,yy_max,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;o_date.day=0;o_date.month=0;o_date.year=0;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=DateTime.parseBounded(s,yy_min,yy_max,b_allow_empty);if(s===false||(s.option&&s.option!='day')){Validate.warn(e_new,true,true,s_name+' must be a valid date between '+yy_min+' and '+yy_max+' expressed as YYYY-MM-DD.\nYou entered "'+e_new.value+'".',false);return false;}o_date.day=s.day;o_date.month=s.month;o_date.year=s.year;if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;if(s!='')s=DateTime.IntToDateStr(s.year,s.month,s.day);e_new.value=s;return s;}return '';},attachLiveParser:function(s){if((s=$(s)))s.onkeypress=DateTime._liveParser;},_liveParser:function(ev){function has31d(s){s=Dec.parse(s);a=[0,31,29,31,30,31,30,31,31,30,31,30,31];return(s>=1&&s<=12)?a[s]==31:false;};ev||(ev=window.event);var c=ev.keyCode||ev.charCode,d=c?String.fromCharCode(c):'not',e=ev.currentTarget||ev.srcElement,b=e.value,f=b.length,g=d=='-';if((d=='-'||(d>='0'&&d<='9'))&&e){c=true;switch(f){case 0:c=/[1-2]/.test(d);break;case 1:if(!/[1-2]/.test(b))c=0;else{c=(b=='1'?/[8-9]/:/[0]/).test(d);}break;case 2:if(!/(19)|(20)/.test(b))c=0;else{c=(b=='20'?/[0]/:/[0-9]/).test(d);}break;case 3:if(!/(19[0-9])|(200)/.test(b))c=0;else{c=/[0-9]/.test(d);}break;case 4:if(!/(19[0-9][0-9])|(200[0-9])/.test(b))c=0;else{if(!g){e.value+='-';if(!/[0-1]/.test(d))e.value+='0';c=/[0-9]/.test(d);}}break;case 5:if(!/(19[0-9][0-9]-)|(200[0-9]-)/.test(b))c=0;else{if(!/[0-1]/.test(d))e.value+='0';c=/[0-9]/.test(d);}break;case 6:if(!/(19[0-9][0-9]-[0-1])|(200[0-9]-[0-1])/.test(b))c=0;else{if(g&&b.substr(5,1)!='0')e.value=b.substr(0,5)+'0'+b.substr(5,1);else c=(b.substr(5,1)=='1'?/[0-2]/:/[1-9]/).test(d);}break;case 7:if(!/(19[0-9][0-9]-[0-1][0-9])|(200[0-9]-[0-1][0-9])/.test(b))c=0;else{if(!g){e.value+='-';if(!(b.substr(5,2)=='02'?/[0-2]/:/[0-3]/).test(d))e.value+='0';c=/[0-9]/.test(d);}}break;case 8:if(!/(19[0-9][0-9]-[0-1][0-9]-)|(200[0-9]-[0-1][0-9]-)/.test(b))c=0;else{if(!(b.substr(5,2)=='02'?/[0-2]/:/[0-3]/).test(d))e.value+='0';c=/[0-9]/.test(d);}break;case 9:if(!/(19[0-9][0-9]-[0-1][0-9]-[0-3])|(200[0-9]-[0-1][0-9]-[0-3])/.test(b))c=0;else{var y=Dec.parse(b.substr(0,4)),m=Dec.parse(b.substr(5,2));if(m==2)c=(b.substr(8,1)=='2'?(DateTime.isLeapYear(y)?/[0-9]/:/[0-8]/):/[0-9]/).test(d);else c=(b.substr(8,1)=='3'?(DateTime.daysInMonth(m,y)==31?/[0-1]/:/[0]/):/[0-9]/).test(d);}break;default:return false;break;}}else{c=(d>='0'&&d<='9')||d=='-'||d=='not'||Kbd.isEditKey(c);}if(!c)alert("Oops, please enter a valid date 'YYYY-MM-DD'");return c;}};var Dbl={parse:function(s){s=parseFloat(s);return isNaN(s)?0:s;},parseBounded:function(s,min,max,b_allow_empty,b_money){if(typeof(b_money)=='undefined')b_money=false;var re_1,re_2,b_not_num,b_bounds,b_neg=false;s=Str.trim(s);if(s=='')return b_allow_empty?'':false;if(s.substr(0,1)=='-'){b_neg=true;s=s.substr(1);}if(b_money){re_1=/^([0-9]+)[,.]*([0-9]{0,2})$/;re_2=/^[0-9]+[\.]*[0-9]{0,2}%?$/;}else{re_1=/^([0-9]+)[,.]*([0-9]{0,5})$/;re_2=/^[0-9]+[\.]*[0-9]{0,5}%?$/;}s=s.replace(re_1,'$1.$2'). replace(/^([0-9]+)[,.]*$/,'$1');b_not_num=s.match(re_2)==null;b_bounds=b_not_num?false:(max>min?(Dbl.parse(s)>max||Dbl.parse(s)<min):false);if(b_not_num||b_bounds)return false;return b_neg?'-'+s:s;},toStr:function(v,s_on_zero){if(v>-0.005&&v<0.005)return s_on_zero;v+=v>0?0.005:-0.005;v=''+v;var n=v.indexOf('.');if(n>0)return v.substr(0,n)+'.'+(v.substr(n+1)+'00').substr(0,2);return v+'.00';},toUsd:function(v){v=Dbl.toStr(v,'0.00');var m=v.indexOf('-')>=0?1:0,n=v.indexOf('.');if(n-m>3)v=v.substr(0,n-3)+','+v.substr(n-3);return v;},validate:function(s_field,o_changed,e_min,e_max,b_allow_empty,s_name,b_must_change,b_money){if(typeof(b_money)=='undefined')b_money=false;var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Dbl.parseBounded(s,e_min,e_max,b_allow_empty,b_money);if(s===false){Validate.warn(e_new,true,true,s_name+' must be a number between '+e_min+' and '+e_max+' with up to '+(b_money?'two':'five')+' decimal digits.\nYou entered "'+e_new.value+'".',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Dec={parse:function(s){s=parseInt(s,10);return isNaN(s)?0:s;},parseBounded:function(s,min,max,b_allow_empty){s=Str.trim(s);if(s=='')return b_allow_empty?'':false;var b_not_num=s.match(/^[+-]?[0-9]+$/)==null;var b_bounds=b_not_num?false:(max>min?(Dec.parse(s)>max||Dec.parse(s)<min):false);if(b_not_num||b_bounds)return false;return s;},validateN:function(s_field,n_cnt,o_changed,e_min,e_max,b_allow_empty,s_name,b_must_change){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Dec.validate(s_field+i,o_changed,e_min,e_max,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name),i?0:b_must_change);return b!==false;},validate:function(s_field,o_changed,e_min,e_max,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(((s!=''&&s!='0')||b_allow_empty)&&b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Dec.parseBounded(s,e_min,e_max,b_allow_empty);if(s===false){Validate.warn(e_new,true,true,s_name+' must be an integer'+(e_max>e_min?(' between '+e_min+' and '+e_max):'')+'.\nYou entered "'+e_new.value+'".',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Decode={value:function(k,s,id){var a={s:''},t,i,j;if(!s)return '';switch(k){case 'country':if(s.length==2){ulCountry(a);if((s=Decode._fromUl(a,'hm_cno_'+s)))return s;}break;case 'genre':if(s.length==5){if(s=='99999')return id=='b_b_genre'?'Use Default Genre':'Unspecified Genre';ulGenre(a);x=s.substr(2)=='999'?'':Decode._fromUl(a,'hm_gno_'+s.substr(0,2)+'999');s=(x?x+' / ':'')+Decode._fromUl(a,'hm_gno_'+s);if(s)return s;}break;case 'film_rating':if(s=='0')return 'Unknown';if(s=='1')return 'Not Rated';if(s.length==5){ulFilmRating(a);if((s=Decode._fromUl2(a,'hm_fro_'+s)))return s;}break;case 'orig_language':case 'language_add':if(s.length==2){ulLang(a);if((t=Decode._fromUl(a,'hm_lno_'+s)))return t;if((t=Decode._fromUl(a,'hm_lno_'+s+'_ch')))return 'Chinese-'+t;if((t=Decode._fromUl(a,'hm_lno_'+s+'_in')))return 'Indian-'+t;}break;case 'country_birth':if(s==30000)return 'Unknown';if(s==29999)return 'Other';for(i=1;i<=7;i++){t='-:'+Birth.getCountries(i)+':';if((j=t.indexOf(':'+s+':'))>0)if((j=t.indexOf(':',j+1))>0)if((k=t.indexOf(':',j+1))>0)return t.substr(j+1,k-j-1);}break;}alert('Missing decode "'+s+'" for "'+k+'".');return '';},field:function(id,s){return Decode.value(Decode._getFieldType(id),s,id);},_getFieldType:function(id){var r=/^([a-z_]+)(_[0-9]+)*$/;r=r.exec(id.substr(4));if(r&&r[1])return r[1];return '';},_fromUl:function(a,s){s=new RegExp(s+"'>(<.*?>)*(.+?)</");s=s.exec(a.s);return(s&&s[2])?s[2]:'';},_fromUl2:function(a,s){s=new RegExp(s+"'>(<.*?>)*(.+?)</");s=s.exec(a.s);if(s&&s[2]){var f,b,g=s[2];if((f=a.s.lastIndexOf('<ul>',s.index)))if((b=a.s.lastIndexOf('<li>',f)))if((f=Dom.stripTags(a.s.substr(b+4,f-b-4))))return f+' / '+g;return g;}return '';}};var Dom={getParentByType:function(e,t){if(!t)return null;t=t.toLowerCase();while(e&&e.tagName&&e.tagName.toLowerCase()!=t)e=e.parentNode;return(e&&e.tagName&&e.tagName.toLowerCase()==t)?e:null;},getChildrenByType:function(e,t){var a=[],i;if(t)t=t.toLowerCase();if(t&&e&&e.firstChild){for(i=e.firstChild;i;i=i.nextSibling){if(i.nodeType!=1)continue;if(!t||t==i.tagName.toLowerCase())a[a.length]=i;}}return a;},getFirstChildByType:function(e,t){if(t)t=t.toLowerCase();if(t&&e&&e.firstChild){for(var i=e.firstChild;i;i=i.nextSibling){if(i.nodeType!=1)continue;if(!t||t==i.tagName.toLowerCase())return i;}}return null;},decodeHtmlForInput:function(s){if(!s)return '';var d=document.createElement('div');d.innerHTML=s.replace(/<br\x20?\/?>/g,'_ed_magick_');s=document.all?d.innerText:d.textContent;return s.replace(/_ed_magick_/g,'\n');},decodeHtmlEntities:function(s){if(!s)return '';var d=document.createElement('div');d.innerHTML=s;return document.all?d.innerText:d.textContent;},stripTags:function(s){return s.replace(/[<].*?[>]/g,'');},flipHidden:function(s){var e=$(s),f=$(s+'_sav');if(e&&f){s=f.innerHTML;f.innerHTML=e.innerHTML;e.innerHTML=s;return s!='';}return false;},getElementWidth:function(e){if(typeof e.clip!='undefined')return e.clip.width;if(e.style.pixelWidth)return e.style.pixelWidth;return e.offsetWidth;},getElementHeight:function(e){if(typeof this.clip!='undefined')return this.clip.height;if(this.style.pixelHeight)return this.style.pixelHeight;return this.offsetHeight;}};var DropDown={_option_syntax:0,getSelIndex:function(e){return(e=$s(e))?e.selectedIndex:-1;},getSelValue:function(e){return(e=$s(e))?e.options[e.selectedIndex].value:'';},selectFromIndex:function(e,i){if((e=$s(e))&&e.options&&i>=0&&i<e.options.length)return e.options[i].selected=true;return false;},selectFromVal:function(e,v){if((e=$s(e))&&e.options&&(v=DropDown.indexFromVal(e,v))>=0)return e.options[v].selected=true;return false;},indexFromVal:function(e,v){if((e=$s(e))&&(e=e.options))for(var i=0;i<e.length;i++)if(e[i].value==v)return i;return-1;},replaceOptions:function(trg,src){function addChildren(t,s){for(s=s.firstChild;s;s=s.nextSibling){switch(s.tagName.toLowerCase()){case 'a':h=s.href.match(/^http\:\/\/([^\/]+)\/([^?&]+)/i);if(h&&h[2]&&h[2]!='trash-can'&&h[1].substr(0,4)!='www.'){DropDown.addOption(t,h[2],h[2]);if(h[2]==Filmaf.lastMoveFolder)t.selectedIndex=n;n++;}break;case 'li':case 'ul':addChildren(t,s);break;}}};var t=$s(trg),s=$s(src),n=0,h;if(t&&s){DropDown.removeOptions(t);addChildren(t,s);}},removeOptions:function(e){e=$s(e);while(e.length>0)e.remove(0);},addOption:function(sel,val,txt){if(sel&&sel.add){var f=document.createElement('option');f.value=val;f.text=txt;if(DropDown._option_syntax==1)sel.add(f,null);else if(DropDown._option_syntax==2)sel.add(f);else try{sel.add(f,null);DropDown._option_syntax=1;}catch(ex){sel.add(f);DropDown._option_syntax=2;}}}};function $(e){return document.getElementById(e);};function $s(e){return typeof(e)=='string'?document.getElementById(e):(typeof(e)=='object'?e:null);}var Filmaf={baseDomain:'',cookieDomain:'',userCollection:'',viewCollection:'',presentationMode:'',reqPageSize:50,firstRowNo:1,rowsShown:0,onMenuPopup:null,objId:0,lastMoveFolder:'',hasRelWeek:0,loadMainFloat:0,loadContextMenu:0,loadSearchMenu:0,attachExplains:0,contextStr:'',contextMed:'',contextForm:'',inputLine:0,contextRow:0,updatePriceComp:0,config:function(c){var s={s:''},a=$('s_alert'),e=$('context-menu'),r=$('search');if(!c.baseDomain){alert('Missing baseDomain on Filmaf.config');return;}Filmaf.baseDomain=c.baseDomain;if(c.userCollection)Filmaf.userCollection=c.userCollection=='guest'?'':c.userCollection;if(c.viewCollection)Filmaf.viewCollection=c.viewCollection=='www'?'':c.viewCollection;if(c.presentationMode)Filmaf.presentationMode=c.presentationMode;if(c.reqPageSize)Filmaf.reqPageSize=c.reqPageSize;if(c.firstRowNo)Filmaf.firstRowNo=c.firstRowNo;if(c.rowsShown)Filmaf.rowsShown=c.rowsShown;Filmaf.onPopup=c.onPopup?c.onPopup:null;if(c.objId)Filmaf.objId=c.objId;Filmaf.lastMoveFolder=decodeURIComponent(Cookie.get('move'));if(c.hasRelWeek)Filmaf.hasRelWeek=1;if(c.ulExplain)Filmaf.attachExplains=1;if(c.imgPreLoad)Img.preLoad(c.imgPreLoad);if(r)Search.create(0,0);if(c.optionsTag)DropDown.replaceOptions('sel_folder',c.optionsTag);if($('nav_bop'))Menus.cloneNav();if(c.imgHandlers||c.cartHandlers)Img.attach();if(c.cartHandlers)Price.attach();if(c.cartHandlers)Cart.highlight(false);if(c.preloadImgPop)setTimeout('ImgPop.getImgDiv();',200);if(e){if(c.ulAspect)ulAspect(s);if(c.ulBlog)ulBlog(s);if(c.ulBirth)ulBirth(s);if(c.ulCountry)ulCountry(s);if(c.ulDir)ulDir(s);if(c.ulDvd)ulDvd(s);if(c.ulDvdComments)ulDvdComments(s);if(c.ulDvdMany)ulDvdMany(s);if(c.ulDvdOne)ulDvdOne(s);if(c.ulDvdPic)ulDvdPic(s);if(c.ulDvdTitle)ulDvdTitle(s);if(c.ulExplain)ulExplain(s);if(c.ulFilmRating)ulFilmRating(s);if(c.ulGenre)ulGenre(s);if(c.ulHome)ulHome(s);if(c.ulJump)ulJump(s);if(c.ulLang)ulLang(s);if(c.ulPageSize)ulPageSize(s);if(c.ulPerson)ulPerson(s);if(c.ulPicComments)ulPicComments(s);if(c.ulPicMngt)ulPicMngt(s);if(c.ulPub)ulPub(s);if(c.ulRegion)ulRegion(s);if(r)ulSearch(s);if(c.ulStars)ulStars(s);e.innerHTML=s.s;}if(a)alert(a.innerHTML);if(c.splash)splash_me(1);},_getCookieDomain:function(){var c=document.domain?document.domain.match(/\..*\.com$/)||document.domain.match(/\..*\.net$/)||document.domain.match(/\..*\.mil$/)||document.domain.match(/\..*\.edu$/)||document.domain.match(/\..*\.gov$/):'';return typeof(c)=='object'&&c[0]?c[0]:c;}};Filmaf.cookieDomain=Filmaf._getCookieDomain();var Edit={getStr:function(e){return(e=$s(e))?e.value:'';},getStrCmp:function(e,o_changed){var s=Edit.getStr(e);if(!o_changed.b_changed&&(e=$('o_'+e.substr(2))))o_changed.b_changed=s==e.value;return s;},getInt:function(e){return Dec.parse(Edit.getStr(e));},getDbl:function(e){return Dbl.parse(Edit.getStr(e));},setStr:function(e,s){if((e=$s(e)))e.value=s;},setPrefixed:function(name,s){var e;if((e=$('n_'+name)))e.value=s;if((e=$('o_'+name)))e.value=s;if((e=$('d_'+name)))e.innerHTML=s;return s;},countDown:function(e,n){if((e=$(e))){if(n>50)e.innerHTML=n;else if(n<0)e.innerHTML="<span style='color:#bd0b0b;font-weight:bold'>"+n+"</span>";else e.innerHTML="<span style='font-weight:bold'>"+n+"</span>";}},insertAtCursor:function(e,v){var a,b,s;if(document.selection){e.focus();s=document.selection.createRange();s.text=v;}else if(e.selectionStart||e.selectionStart=='0'){a=e.selectionStart;b=e.selectionEnd;e.value=e.value.substring(0,a)+v+e.value.substring(b,e.value.length);}else{e.value+=v;}},getSel:function(e){var s='';if(window.getSelection)s=window.getSelection().toString();else if(document.getSelection)s=document.getSelection().toString();else if(document.selection)s=document.selection.createRange().text;if(!s&&e){e.focus();s=Edit.getSel(null);}return s;}};var Expand={more:function(s_field,n_max_fields,n_size,n_max_length,s_class,n_helper,n_tester,n_force_br){var e,f,i,n,bo=false,bz=false,bg=false,vo=[],vn=[],vz=[],vg=[],vsi=[],vsn=[],x='',sf,sn,so,sh,sz,si,sb,se='',a,b,c,bf=false;if((f=$('s_'+s_field))){for(i=1;;i++){if(!(e=$('n_'+s_field+'_'+i)))break;if(e.tagName.toLowerCase()=='select'){vsi[i]=e.selectedIndex;vsn[i]=e.id;}else{vsi[i]=0;vsn[i]='';}vn[i]=e.value.replace(/\x27/g,'&#39;');vo[i]='';vz[i]='';vg[i]='';if((e=$('o_'+s_field+'_'+i))){vo[i]=e.value.replace(/\x27/g,'&#39;');bo=true;}if((e=$('z_'+s_field+'_'+i))){vz[i]=e.value.replace(/\x27/g,'&#39;');bz=true;}if((e=$('g_'+s_field+'_'+i))){vg[i]=e.value.replace(/\x27/g,'&#39;');bg=true;}if(i==1){a=f.innerHTML;b=a.toLowerCase().indexOf('<select');c=a.toLowerCase().indexOf('</select>');if(b>0&&c>b){se=a.substring(b,c+9).replace(/id=[\\\x22\x27]*[a-z_0-9]*[\\\x22\x27]*/i,"id='X_X_X'").replace(/name=[\\\x22\x27]*[a-z_0-9]*[\\\x22\x27]*/i,"name='X_X_X'").replace(/\x20selected(=[\\\x22\x27]*[a-z_0-9]*[\\\x22\x27]*)*/i,'').replace(/<option\x20value=[\\\x22\x27]{2,4}><\/option>/i,'').replace(/<\/select>/i,"<option value='' selected='selected'></option></select>");}}}if(bg)n_helper=true;n=i;vn[i]=vo[i]=vz[i]=vg[i]='';for(i=1;i<=n;i++){if(se)sn=se.replace(/X_X_X/ig,"n_"+s_field+"_"+i);else if(bg)sn="<input id='g_"+s_field+"_"+i+"' class='ronly' type='text' size='"+n_size+"' maxlength='"+n_max_length+"' readonly='readonly' value='"+vg[i]+"' /><input id='n_"+s_field+"_"+i+"' name='n_"+s_field+"_"+i+"' type='hidden' value='"+vn[i]+"' />";else sn="<input id='n_"+s_field+"_"+i+"' name='n_"+s_field+"_"+i+(s_class?"' class='"+s_class:'')+"' type='text' size='"+n_size+"' maxlength='"+n_max_length+"' value='"+vn[i]+"' />";so=sh=sz=sb='';sf="<img src='http://dv1.us/nb/n-"+(i+1)+".gif' height='13' width='15' alt='"+(i+1)+"' />";if(bo)so="<input id='o_"+s_field+"_"+i+"' name='o_"+s_field+"_"+i+"' type='hidden' value='"+vo[i]+"' />";if(n_helper==1)sh="<input id='h_"+s_field+"_"+i+"' type='button' value='&hellip;' class='but_ctx' />";if(bz)sz="<input id='z_"+s_field+"_"+i+"' type='hidden' value='"+vz[i]+"' />";si="<img id='zi_"+s_field+"_"+i+"' src='http://dv1.us/d1/1.gif' align='top' />";if(n_tester==1)sb="<input id='b_"+s_field+"_"+i+"' type='button' value='&raquo;' class='but_tst' />";bf=n_force_br&&(i+1)%n_force_br==0;x+="<span style='white-space:nowrap'>"+sf+sn+so+sh+sz+si+sb+"</span>"+(bf?"<br />":" ");}if(n+1<n_max_fields){x=x.substr(0,x.length-(bf?13:8))+"<input type='button' value='&rsaquo;' class='but_ctx' onclick='Expand.more("+'"'+s_field+'"'+","+n_max_fields+","+n_size+","+n_max_length+","+'"'+s_class+'"'+","+n_helper+","+n_tester+","+n_force_br+")' /></span>";}f.innerHTML=x;for(i=1;i<vsn.length;i++)if((e=$(vsn[i]))&&vsi[i]>=0)e.selectedIndex=vsi[i];Expand.attach(s_field);if(bz)Img.attach();}},attach:function(s){switch(s){case 'f_orig_language':case 'f_language_add':case 'a_orig_language':case 'a_language_add':Expand._attach('h_',s,'menu-language-no','g_',0);break;case 'f_genre':Expand._attach('h_',s,'menu-genre-no','g_',0);break;case 'a_country':Expand._attach('h_',s,'menu-country-no','g_',0);break;case 'a_region_mask':Expand._attach('h_',s,'menu-region-no',false,0);break;case 'a_director':Expand._attach('h_',s,'menu-director',false,'search');break;case 'a_publisher':Expand._attach('h_',s,'menu-publisher',false,'search');break;case 'a_imdb_id':Expand._attach('b_',s,Imdb.test,false,0);break;case 'a_upc':Expand._attach('b_',s,Upc.test,false,0);break;}},_attach:function(b,s_field,m,c,text){var e,i,x;for(i=0;;i++){if(!(e=$(b+s_field+'_'+i)))break;switch(typeof(m)){case 'string':x=c?c+s_field+'_'+i:false;Context.attach(e,x,m);break;case 'function':e.onclick=m;break;}if(text)e.value=text;}}};var Explain={_asAlert:0,attach:function(){var e=window.self.document.getElementsByTagName('img'),i,x;for(i=e.length;--i>=0;){x=e[i];if(x.id&&x.id.substr(0,3)=='ex_'){Context.attach(x,false,'menu-explain-pop');e.onmouseover=function(ev){Img.mouseOver(ev,this,5);};e.onmouseout=function(){Img.mouseOut(this,5);};}}},show:function(s,b_popup){Explain._asAlert=b_popup?0:1;s=s.replace(/_[0-9]+$/,'').replace(/^ex_/,'');Ajax.asynch('explain','Explain.__paint','?s='+s,0,100);var e=$('explain_div');if(e)e.innerHTML='&nbsp;';},__paint:function(){function parse(s,t){var i,u,v;s=s.split('\t');for(i=0;i<s.length;i+=2){u=s[i+1];v=Dom.decodeHtmlForInput(u);switch(s[i]){case 'keyword':t.keyword=u;break;case 'width':t.width=Dec.parse(u);break;case 'explain':t.explain=u;break;}}return typeof(t.explain)=='string';};if(Ajax.ready()){var a=Ajax.getLines(),b={},e,s,w;if(a.length>=3&&parse(a[2],b)){if(b.explain=='Not found')s='Need to write "Explain" for '+b.keyword+'.';else s=b.explain;}else{s='"Explain" is experiencing problems.\nPlease try again soon or report the issue at http://dvdaf.net.\n\nSorry for the inconvenience.';}if(!Explain._asAlert&&(e=$('explain_div'))){e.innerHTML="<div>"+s+"<div style='margin:4px 0 4px 0;text-align:right'><input type='button' value='close' onclick='Context.close()'></div></div>";}else{alert(s);}}},nav:function(s){Explain.show(s,true);}};var Imdb={test:function(ev){Imdb._test(ev,'t');},testPerson:function(ev){Imdb._test(ev,'p');},_test:function(ev,w){ev||(ev=window.event);var s=ev.currentTarget||ev.srcElement,e;if(ev&&s&&(e=$('n'+s.id.substr(1)))){s=e.value.replace(/[^0-9]+/g,','). replace(/,+/g,','). replace(/^,/,''). replace(/,$/,'');s=+s.split(',',1)[0];if(s){s='0000000'+s;s=s.substr(s.length-7,7);e.value=s;switch(w){case 't':Win.openStd('http://www.imdb.com/title/tt'+s+'/','imdb');break;case 'p':Win.openStd('http://www.imdb.com/name/nm'+s+'/','imdb');break;}}else{switch(w){case 't':w='film';break;case 'p':w='person';break;}alert('Enter an imdb id and we will test it to see what '+w+' it points to.');}}},search:function(f,n){Imdb._search(f,n,'t');},searchPerson:function(f,n){Imdb._search(f,n,'p');},_search:function(f,n,w){var s=Str.firstLine($(f).value);if(s&&(s=Url.fromStr(s))){switch(w){case 't':Win.openStd('https://www.imdb.com/find?q=?'+s,'imdb');break;case 'p':Win.openStd('https://www.imdb.com/find?q=?'+s,'imdb');break;}}else{switch(w){case 't':w='some text';break;case 'p':w="a person's name";break;}alert('No text found in '+n+' to search for on imdb.');}},validateN:function(s_field,n_cnt,o_changed,b_allow_empty,s_name,b_must_change){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Imdb.validate(s_field+i,o_changed,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name),i?0:b_must_change);return b!==false;},validate:function(s_field,o_changed,b_allow_empty,s_name,b_must_change){var s=Dec.validate(s_field,o_changed,1,9999999,b_allow_empty,s_name,b_must_change);if(s&&s.length!=7){if((e=$(s_field))){s='0000000'+s;s=s.substr(s.length-7,7);e.value=s;}}return s;}};var Img={buttons:{},_buttonsLoaded:0,_buttonsInd:{},preLoad:function(s){if(!document.images)return;var s=s.split('.'),i,a;for(i=0;i<s.length;i++){switch(s[i]){case 'pin':a=Img.buttons[0]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bp00.gif';a.b01=new Image();a.b01.src='http://dv1.us/d1/00/bp01.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bp10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/bp11.gif';a.onClick=null;a.afterClick=Search.savePin;break;case 'cart':a=Img.buttons[1]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bc00.png';a.b01=new Image();a.b01.src='http://dv1.us/d1/00/bc01.png';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bc10.png';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/bc11.png';a.onClick=Cart.click;a.afterClick=null;break;case 'price':a=Img.buttons[2]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bd00.png';a.b01=new Image();a.b01.src='http://dv1.us/d1/00/bd01.png';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bd10.png';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/bd11.png';a.onClick=Price.click;a.afterClick=null;break;case 'help':a=Img.buttons[3]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bm00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bm10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'spin':a=Img.buttons[4]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/pn00.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/pn10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/pn11.gif';a.onClick=ImgSpin.click;a.afterClick=null;break;case 'spin_hoz':a=Img.buttons[8]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ph00.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ph10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/ph11.gif';a.onClick=ImgSpin.click;a.afterClick=null;break;case 'explain':a=Img.buttons[5]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bq00.png';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bq10.png';a.onClick=Explain.show;a.afterClick=null;break;case 'drop':a=Img.buttons[6]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/dp00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/dp10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'undo':a=Img.buttons[7]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/1.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ud01.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/ud11.gif';a.b20=new Image();a.b20.src='http://dv1.us/d1/00/rd01.gif';a.b21=new Image();a.b21.src='http://dv1.us/d1/00/rd11.gif';a.onClick=Undo.click;a.afterClick=null;break;case 'pagesize':a=Img.buttons[9]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/sz00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/sz10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'aleft':a=Img.buttons[10]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/al00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/al10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'aright':a=Img.buttons[11]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ar00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ar10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'astop':a=Img.buttons[12]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/as00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/as10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'across':a=Img.buttons[13]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ax00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ax10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'acheck':a=Img.buttons[14]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ak00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ak10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'aplus':a=Img.buttons[15]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ap00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ap10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'adown':a=Img.buttons[16]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ad00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ad10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'tabbk':Img._buttonsInd[0]=new Image();Img._buttonsInd[0].src='http://dv1.us/d1/00/header-back-small.jpg';break;case 'spun':a=Img.buttons[17]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/pn00.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/pn10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/pn11.gif';a.onClick=ImgSpun.click;a.afterClick=null;break;case 'home':a=Img.buttons[18]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/fbh0.png';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/fbh1.png';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'coll':a=Img.buttons[19]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/fbf0.png';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/fbf1.png';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;}}Img._buttonsLoaded=true;},getMouseY:function(ev,e){return Img.getCoord(ev,e).y;},getMouseX:function(ev,e){return Img.getCoord(ev,e).x;},setPin:function(e,b){Img.check(e,0,b);},getPin:function(e){return Img.isChecked(e,0);},attach:function(){var e=window.self.document.getElementsByTagName('img'),i,x;for(i=e.length;--i>=0;){x=e[i];if(x.id){switch(x.id.substr(0,3)){case 'ic_':x.onmouseover=function(ev){Img.mouseOver(ev,this,1);};x.onmouseout=function(){Img.mouseOut(this,1);};x.onclick=function(ev){Img.click(ev,this,1,this.id.substr(3));};break;case 'id_':x.onmouseover=function(ev){Img.mouseOver(ev,this,2);};x.onmouseout=function(){Img.mouseOut(this,2);};x.onclick=function(ev){Img.click(ev,this,2,this.id.substr(3));};break;case 'is_':ImgSpin.attachSpinV(x);break;case 'ex_':x.onmouseover=function(ev){Img.mouseOver(ev,this,5);};x.onmouseout=function(){Img.mouseOut(this,5);};x.onclick=function(ev){Img.click(ev,this,5,this.id.substr(3));};break;case 'dp_':x.onmouseover=function(ev){Img.mouseOver(ev,this,6);};x.onmouseout=function(){Img.mouseOut(this,6);};x.onclick=function(ev){Img.click(ev,this,6,this.id.substr(3));};break;case 'zi_':x.onmouseover=function(ev){Img.mouseOver(ev,this,7);};x.onmouseout=function(){Img.mouseOut(this,7);};x.onclick=function(ev){Img.click(ev,this,7,this.id.substr(3));};Undo.setImg(x,false);Undo.attach(x);break;case 'ih_':ImgSpin.attachSpinH(x);break;case 'sz_':x.onmouseover=function(ev){Img.mouseOver(ev,this,9);};x.onmouseout=function(){Img.mouseOut(this,9);};x.onclick=function(ev){Img.click(ev,this,9,this.id.substr(3));};break;case 'zo_':x.onmouseover=function(ev){ImgPop.show(this,0);};break;}}}},mouseOver:function(ev,img,type){if(!Img._buttonsLoaded)return;var a=Img.buttons[type],o;switch(type){case 0:case 1:case 2:case 3:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 18:case 19:o=Dec.parse(img.src.substr(img.src.length-5,1));img.src=o==2?a.b12.src:(o==1?a.b11.src:a.b10.src);img.style.cursor='pointer';break;case 4:case 17:o=Img.getMouseY(ev,img);if(o>=1&&o<=20){img.style.cursor='pointer';a=o>=11?a.b10.src:a.b11.src;if(a!=img.src)img.src=a;}break;case 5:case 6:case 9:img.style.cursor='pointer';img.src=a.b10.src;break;case 7:Undo.setImg(img,true);break;case 8:o=Img.getMouseX(ev,img);if(o>=1&&o<=20){img.style.cursor='pointer';a=o<10?a.b10.src:a.b11.src;if(a!=img.src)img.src=a;}break;}},mouseOut:function(img,type){if(!Img._buttonsLoaded)return;var a=Img.buttons[type],o;switch(type){case 0:case 1:case 2:case 3:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 18:case 19:o=Dec.parse(img.src.substr(img.src.length-5,1));img.src=o==2?a.b02.src:(o==1?a.b01.src:a.b00.src);img.style.cursor='pointer';break;case 4:case 8:case 17:img.src=a.b00.src;break;case 5:case 6:case 9:img.src=a.b00.src;break;case 7:Undo.setImg(img,false);break;}},click:function(ev,img,type,s_id){if(!Img._buttonsLoaded||!img)return;var a=Img.buttons[type],o,m,e;switch(type){case 0:if((e=ev.currentTarget||ev.srcElement))s_id=e.id;case 1:case 2:o=Dec.parse(img.src.substr(img.src.length-5,1));m=2;if(!a.onClick||a.onClick(s_id,(o+1)%m))o=(o+1)%m;if(type!=2)img.src=o==2?a.b12.src:(o==1?a.b11.src:a.b10.src);if(a.afterClick)a.afterClick(s_id);break;case 4:case 17:o=Img.getMouseY(ev,img);if(o>=1&&o<=20&&a.onClick)a.onClick(s_id,o<=10);break;case 5:case 6:case 7:case 9:if(a.onClick)a.onClick(s_id);break;case 8:o=Img.getMouseX(ev,img);if(o>=1&&o<=20&&a.onClick)a.onClick(s_id,o>10);break;}},isChecked:function(e,type){if(!(e=$s(e)))return 0;switch(type){case 0:case 1:case 2:return Dec.parse(e.src.substr(e.src.length-5,1));}return 0;},check:function(e,type,n_set){e=$s(e);if(!Img._buttonsLoaded||!e)return;switch(type){case 0:case 1:case 2:e.src=n_set==2?Img.buttons[type].b02.src:(n_set==1?Img.buttons[type].b01.src:Img.buttons[type].b00.src);break;}},getPicLoc:function(s,b_thumb){var c,p,k=s.indexOf('-');if(k>3){c=Dec.parse(s.substr(k-1,1));c='http://dv1.us';p=s.indexOf('/');if(p>=0)return c+(p>0?'/':'')+s;else if(b_thumb)return c+'/p0/'+s.substr(k-3,3)+'/'+s+'.gif';else return c+'/p1/'+s.substr(k-3,3)+'/'+s+'.jpg';}return '';},getCoord:function(ev,e){var a={x:0,y:0};if(typeof ev.pageY=='undefined'&&typeof ev.clientX=='number'&&document.documentElement){a.x=ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a.y=ev.clientY+document.body.scrollTop+document.documentElement.scrollTop;}else{a.x=ev.pageX;a.y=ev.pageY;}if(e.offsetParent){a.x-=e.offsetLeft;a.y-=e.offsetTop;while(e=e.offsetParent){a.x-=e.offsetLeft;a.y-=e.offsetTop;}}return a;}};var ImgSpin={attachSpinV:function(e){e.onmouseover=function(ev){Img.mouseOver(ev,this,4);};e.onmousemove=function(ev){Img.mouseOver(ev,this,4);};e.onmousewheel=function(ev){ImgSpin._wheel(ev,this,4,this.id);};e.onmouseout=function(){Img.mouseOut(this,4);};e.onclick=function(ev){Img.click(ev,this,4,this.id);};e.ondblclick=function(ev){if(!ev)Img.click(ev,this,4,this.id);};},attachSpinH:function(e){e.onmouseover=function(ev){Img.mouseOver(ev,this,8);};e.onmousemove=function(ev){Img.mouseOver(ev,this,8);};e.onmousewheel=function(ev){ImgSpin._wheel(ev,this,8,this.id);};e.onmouseout=function(){Img.mouseOut(this,8);};e.onclick=function(ev){Img.click(ev,this,8,this.id);};e.ondblclick=function(ev){if(!ev)Img.click(ev,this,8,this.id);};},_wheel:function(ev,img,type,s_id){ev||(ev=window.event);if(ev.wheelDelta&&(!Img._buttonsLoaded||!img))return;if(ev.srcElement&&ev.srcElement.getAttribute('sp_inc')=='F')return;var a=Img.buttons[type],o=ev.wheelDelta;if(o!=0&&a.onClick)a.onClick(s_id,o>=0);ev.cancelBubble=true;ev.returnValue=false;},click:function(s,u){function ff_bounds(n,p,u){var a=p.getAttribute('sp_min'),b=p.getAttribute('sp_max');if(a&&b){switch(u){case 'int':a=Dec.parse(a);if(n<a)return a;b=Dec.parse(b);if(n>b)return b;break;case 'float':a=Dbl.parse(a);if(n<a)n=a;b=Dbl.parse(b);if(n>b)n=b;n=Dbl.toStr(n,'');break;}}return n;};var k,e,p=$(s);if(p){k=p.getAttribute('sp_inc');if(k=='F'){Folders.onSpin(s,u);}else{if((e=$('n_'+s.substr(5)))){switch(k){case '0':s=Edit.getInt(e)+(u?1:-1);u='int';break;case '1':s=Edit.getInt(e)+(u?10:-10);u='int';break;case '2':s=Edit.getInt(e)+(u?100:-100);u='int';break;case '3':s=Edit.getInt(e)+(u?1000:-1000);u='int';break;case '4':s=Edit.getInt(e)+(u?10000:-10000);u='int';break;case 'a':s=Math.floor(Edit.getInt(e)/10)*10+(u?10:-10);u='int';break;case 'b':s=Math.floor(Edit.getInt(e)/100)*100+(u?100:-100);u='int';break;case 'c':s=Math.floor(Edit.getInt(e)/1000)*1000+(u?1000:-1000);u='int';break;case 'd':s=Math.floor(Edit.getInt(e)/10000)*10000+(u?10000:-10000);u='int';break;case 'e':s=Math.floor(Edit.getInt(e)/100000)*100000+(u?100000:-100000);u='int';break;case 'A':s=Edit.getDbl(e)+(u?0.01:-0.01);u='float';break;case 'B':s=Edit.getDbl(e)+(u?0.1:-0.1);u='float';break;case 'C':s=Edit.getDbl(e)+(u?1:-1);u='float';break;case 'D':s=Edit.getDbl(e)+(u?10:-10);u='float';break;case 'E':s=Edit.getDbl(e)+(u?100:-100);u='float';break;default:return;}e.value=ff_bounds(s,p,u);Undo.change(e);}}}}};var ImgPop={_zoomImg:null,_zoomDvd:0,_zoomSrc:'',_related:{},_onwership:false,_footer:false,skipShowOnWait:false,menuContext:'',setMenuText:function(e){if(Cookie.get('finder')=='N'){e.innerHTML='Edition Finder';ImgPop.menuContext='show';}else{e.innerHTML='Disable Edition Finder';ImgPop.menuContext='stop showing';}},show:function(e,ovr){if(ImgPop.skipShowOnWait)return;var auto=Cookie.get('finder')!='N';if(e&&(ovr||auto)){var f=ImgPop.getImgDiv(),g=$('img_zoom1'),h=$('img_zoom2'),s=e.src,z='',r,x,y,tx,ty,d,o,a,b;if(f&&g&&h){if(/^http:\/\/([a-z]\.)?dv1.us\/p0\/[0-9]{3}\/[0-9]{6}-d[0-9]+\.gif$/.test(s)){z=s.replace(/p0/,'p1').replace(/gif/,'jpg');y='http://dv1.us/d1/wait-big.gif';tx=356;ty=623;d=1;ImgPop._onwership=Filmaf.userCollection!=''&&(Filmaf.userCollection!=Filmaf.viewCollection||typeof(Home)!="undefined");}if(/^http:\/\/dv1.us\/usr\/[a-z-]\/[^\._]+_t\.jpg$/.test(s)){z=s.replace(/_t\./,'_p.');y='http://dv1.us/d1/wait.gif';tx=356;ty=289;d=0;ImgPop._onwership=false;}if(z&&ImgPop._zoomSrc!=z){if((r=$('pop_enable'))){if(auto){r.innerHTML='Disable Edition Finder';r.href='javascript:ImgPop.close(1)';}else{r.innerHTML='Enable Edition Finder';r.href='javascript:ImgPop.close(2)';}}ImgPop._zoomSrc=z;g.src=y;h.src='http://dv1.us/d1/1.gif';$('pop_text').innerHTML='';Pop.open(f,e,tx,ty,d);ImgPop._zoomImg=new Image();ImgPop._zoomImg.onload=function(){ImgPop._doneLoading();};ImgPop._zoomImg.src=z;if(d){ImgPop._zoomDvd=Dec.parse(e.id.substr(3));Ajax.asynchNoDup('img-pop','ImgPop.__paint','?dvd='+ImgPop._zoomDvd,0,250);}}}}},__paint:function(){var o={};if(!Ajax.getParms(o))return;var dvd=Ajax.statusInt(o.line1,'dvd'),y={has:false,amz:'&nbsp;',price:'&nbsp;',imdb:'&nbsp;',media:'&nbsp;',cnt:'&nbsp;',pub:'&nbsp;',rel:'&nbsp;'},s='',x={},i,same=0;if(ImgPop._zoomDvd!=dvd)return;ImgPop._related.same='';ImgPop._related.mine='';ImgPop._related.mine_count=0;ImgPop._related.other='';ImgPop._related.other_count=0;ImgPop._related.dvd=[];for(i=2;i<o.length&&ImgPop._parsePaint(o.lines[i],x);i++){ImgPop._related.dvd[i-1]=x.dvd;if(x.dvd==dvd){y.dvd=x.dvd;y.pic=x.pic;y.folder=x.folder;y.has=x.folder!='';y.amz=x.amz;y.price=x.price;y.imdb=x.imdb;y.media=x.media;y.cnt=x.cnt;y.pub=x.pub;y.rel=x.rel;ImgPop._paintGenAlternates(x,ImgPop._related,y.has?2:1);}else{ImgPop._paintGenAlternates(x,ImgPop._related,0);}}s+="<div id='pop_text2'>";if(ImgPop._onwership)if(y.has)s+=ImgPop.paintInColl(y.folder,'ImgPop.showAll()');else s+=ImgPop._paintAlternates(ImgPop._related,ImgPop._related.mine_count>0?1:0);else s+=ImgPop._paintAlternates(ImgPop._related,0);s+="</div><div style='overflow:hidden'><table class='img_bar' style='width:100%'><tr><td class='img_bar' style='border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.media+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.price+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.rel+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.amz+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.imdb+"</td></tr><tr><td class='img_bar' style='border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.cnt+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-top:solid 2px #0059a6;overflow:hidden' colspan='4'>"+y.pub+"</td></tr></table></div>";$('pop_text').innerHTML=s;Pop.open('div_zoom','',0,0,2);},__paintExpand:function(){var o={};if(!Ajax.getParms(o))return;var dvd=Ajax.statusInt(o.line1,'dvd'),x={},i;ImgPop._related.same='';ImgPop._related.mine='';ImgPop._related.mine_count=0;ImgPop._related.other='';ImgPop._related.other_count=0;ImgPop._related.dvd=[];for(i=2;i<o.length&&ImgPop._parsePaint(o.lines[i],x);i++){ImgPop._related.dvd[i-1]=x.dvd;ImgPop._paintGenAlternates(x,ImgPop._related,x.dvd==dvd?(x.folder!=''?2:1):0);}$('pop_text').innerHTML=ImgPop._paintAlternates(ImgPop._related,2);},showAll:function(){$('pop_text2').innerHTML=ImgPop._paintAlternates(ImgPop._related,2);Pop.open('div_zoom','',0,0,2);},_paintGenAlternates:function(x,h,same){var z=same?'*':'',f='0000000'+x.dvd;f=f.substr(f.length-6,6);f=Filmaf.baseDomain+"/search.html?has="+f+"&init_form=str0_has_"+f;f="<div class='img_float2'><a id='b_"+x.dvd+"' class='dvd_pic' href='"+f+"'><img src='"+(x.pic=='-'?'http://dv1.us/d1/00/pic-no.gif':Img.getPicLoc(x.pic,1))+"' width='63' height='90' /></a> <div class='img_text'>"+z;z+="</div></div>";if(x.folder!=''){f+=ImgPop._getFolderName(x.folder)+z;if(!same){h.mine+=f;h.mine_count++;}}else{f+=x.mediaSm+'/'+x.cntSm+z;if(!same){h.other+=f;h.other_count++;}}if(same)h.same=f;},paintInColl:function(f,s){return "<div><div><div style='float:right'><a href='javascript:"+s+"'>[+]</a></div>In your collection</div><img src='http://dv1.us/d1/"+ImgPop._getFolderImg(f)+"' width='90px' height='90px' /><div class='img_text'>"+ImgPop._getFolderName(f)+"</div></div>";},_paintAlternates:function(h,mine){var tit,cnt,str;switch(mine){case 0:return "<div style='padding:0 4px 4px 4px'><div style='float:right'><a href='javascript:ImgPop.showAll()'>[+]</a></div>&nbsp;</div>";break;case 1:tit="<div style='float:right'><a href='javascript:ImgPop.showAll()'>[+]</a></div>Alternate editions in your collection";cnt=h.mine_count;str=h.mine;break;case 2:tit="Alternate editions";cnt=1+h.mine_count+h.other_count;str=h.same+h.mine+h.other;break;}if(!cnt)return '';var w=cnt*(63+22),t=cnt>4?" style='overflow-x:scroll'":'',c=cnt>4?" ("+cnt+")":'';return "<div style='padding:0 4px 2px 4px'><div style='padding-bottom:2px'>"+tit+c+"</div><div"+t+"><div style='height:104px;width:"+w+"px'>"+str+"</div></div></div>";},_getFolderName:function(s){switch(s){case 'owne':return 'owned';case 'wish':return 'wish&nbsp;list';case 'on-o':return 'on&nbsp;order';case 'work':return 'work';case 'have':return 'have&nbsp;seen';}return '';},_getFolderImg:function(s){switch(s){case 'owne':return 'chk-g.gif';case 'wish':return 'chk-r.gif';case 'on-o':return 'chk-b.gif';case 'work':return 'chk-y.gif';case 'have':return 'chk-z.gif';}return '1.gif';},_getMediaType:function(s,z){switch(s){case '2':return z?'BD/D':'Blu-ray/DVD';case '3':return z?'BD3d':'Blu-ray 3D';case 'A':return z?'Aud':'DVD Audio';case 'B':return z?'BD':'Blu-Ray';case 'C':return z?'HD/D':'HD DVD/DVD';case 'D':return z?'D':'DVD';case 'H':return z?'HD':'HD DVD';case 'O':return z?'Ot':'Other';case 'P':return z?'Hold':'Placeholder';case 'R':return z?'BD-R':'BD-R';case 'T':return z?'HD/D':'HD DVD/DVD';case 'V':return z?'D-R':'DVD-R';}return '&nbsp;';},_parsePaint:function(s,t){var i,n;s=s.split('\t');if(s.length>=10){t.dvd=s[0];t.pic=s[1];t.folder=s[2];t.amz=s[3];t.price=s[4];t.imdb=s[5];t.media=s[6];t.cnt=s[7];t.pub=s[8];t.rel=s[9].trim();t.amz=t.amz!=0?"amz: <a href='"+Filmaf.baseDomain+"/rt.php?vd=amz"+t.dvd+"'>x</a>":'&nbsp;';t.price=t.price>0?"<a href='"+Filmaf.baseDomain+"/rt.php?vd=amz"+t.dvd+"'>$"+t.price+"</a>":'&nbsp;';t.rel=t.rel!='-'?t.rel.substr(0,4)+'-'+t.rel.substr(4,2)+'-'+t.rel.substr(6,2):'&nbsp;';t.cnt=t.cnt!='-'?t.cnt.substr(1,t.cnt.length-2).toUpperCase():'&nbsp;';t.cntSm=t.cnt.substr(0,2);n='0000000'+t.dvd;n=n.substr(n.length-7,7);t.mediaSm=ImgPop._getMediaType(t.media,1);t.media="<a href='"+Filmaf.baseDomain+"/search.html?has="+n+"&init_form=str0_has_"+n+"'>"+ImgPop._getMediaType(t.media,0)+"</a>";if(t.imdb){n=t.imdb;t.imdb='imdb: ';for(i=0;i<n;i++)t.imdb+="<a href='"+Filmaf.baseDomain+"/rt.php?vd=imd"+t.dvd+"-"+i+"'>x</a> ";}else{t.imdb='&nbsp;';}return true;}return false;},getImgDiv:function(){var e=$('div_zoom');if(e)return e;var d=document.createElement('div'),s=d.style,b=document.getElementsByTagName('body').item(0);d.id='div_zoom';s.visibility='hidden';s.position='absolute';s.top=0;s.left=0;s.zIndex=7;b.appendChild(d);d.innerHTML="<div style='background:#0059a6'><div style='border:1px solid #6c8ba6;padding:3px'><div style='background:#ffffff;text-align:center;width:348px'><div><table class='img_bar' style='width:100%'><tr><td class='img_bar' style='border-bottom:solid 2px #0059a6;text-align:left'><div style='float:right'><a href='javascript:ImgPop.close(0)'>Close</a></div><a id='pop_enable' href='javascript:ImgPop.close(1)'>Disable Edition Finder</a></td></tr></table></div><div style='padding:8px 0 4px 0'><img id='img_zoom1' src='http://dv1.us/d1/1.gif' onclick='ImgPop.close(0)' /><img id='img_zoom2' src='http://dv1.us/d1/1.gif' onclick='ImgPop.close(0)' /></div><div id='pop_text'></div></div></div></div>";return d;},close:function(p){if(Pop.close('div_zoom')){ImgPop._zoomImg=null;ImgPop._zoomSrc='';}switch(p){case 1:Cookie.set('finder','N');break;case 2:Cookie.del('finder');break;}},_doneLoading:function(){var g=$('img_zoom1'),h=$('img_zoom2');;if(g&&h){g.src='http://dv1.us/d1/1.gif';h.src=ImgPop._zoomImg.src;}}};var Menus={setup:function(){if($('main-menu'))DynarchMenu.setup('main-menu',{lazy:true,electric:1000,tooltips:true,scrolling:true});if($('context-menu'))Context.setup();if($('search'))Search.setup(1);if(Filmaf.attachExplains)Explain.attach();},cloneNav:function(){var e,f;if((e=$('nav_top'))&&(f=$('nav_bop'))){f.innerHTML=e.innerHTML.replace(/<td width=.8%.><select.*\/select><\/td>/i,'').replace(/sz_page_0/,'sz_page_1').replace(/ex_www_titles_disks_0/,'ex_www_titles_disks_1').replace(/ex_www_dvd_cart_0/,'ex_www_dvd_cart_1').replace(/cart_count_0/,'cart_count_1').replace(/dp_jump_0/,'dp_jump_1');}}};var MiniSearch={display:function(form,what){var s=form[what+'_search']?form[what+'_search'].value:'',r=Dom.getChildrenByType(form,'div');if(r.length>0){s=Str.trim(s).replace(/</g,'%3C').replace(/>/g,'%3D').replace(/=/g,'%3E').replace(/\x20+/g,'+');if(s){s_get='?what='+what+'&parm='+s+'&target='+Filmaf.inputLine;Ajax.asynchNoDup('search-comp','MiniSearch.__search',s_get,0,1000);}}return true;},__search:function(){if(Ajax.ready()){var o={},mod='',trg='',cnt='',c='',s='',a,i;if(Ajax.getParms(o)){mod=Ajax.statusTxt(o.line1,'what');trg=Ajax.statusTxt(o.line1,'target');cnt=Ajax.statusTxt(o.line1,'count');}s="<html><head><link rel='stylesheet' type='text/css' href='/styles/00/filmaf.css' /><script language='javascript' type='text/javascript'>function html_entities_decode(s){var d = document.createElement('div');d.innerHTML = s;return document.all ? d.innerText : d.textContent;};function retName(s){s = html_entities_decode(s.innerHTML);if ( s ) parent.setSearchVal('"+mod+"', '"+trg+"',s);return false;};</script></head><body>";if(o.err){s+=o.err;}else{for(i=2;i<o.length;i++){c=i%2?'':" style='background-color:#e5f6e5'";if(o.lines[i].substr(0,6)=='</div>')break;s+="<div"+c+"><a href='javascript:void(0)' onclick='retName(this)'"+c+">"+o.lines[i]+"</a></div>";}if(o.msg){s+="<div class='dvd_cmts'"+c+">&lt;"+o.msg+"&gt;</div>";}}s+='</body></html>';if((a=Win.findFrame('frame_'+mod))){a.write(s);a.close();}}}};var Region={set:function(r){var e;if((e=$('n'+Filmaf.inputLine.substr(1)))){if(e.options){switch(r){case-1:r='-';break;case 7:r='A';break;case 8:r='B';break;case 9:r='C';break;}DropDown.selectFromVal(e,r);Undo.change(e);}}Context.close();return false;},valMediaN:function(s_field,n_cnt,s_media_cd){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Region.valMedia(s_field+i,s_media_cd);return b!==false;},valMedia:function(s_field,s_media_cd){var e=$(s_field);if(e){var v=DropDown.getSelValue(e),w=false;switch(s_media_cd){case 'D':case 'V':if(/[ABC]/.test(v))w='DVDs';break;case 'B':case '3':case '2':case 'R':if(/[123456]/.test(v))w='Blu-rays';break;case 'H':case 'C':case 'T':if(/[123456ABC]/.test(v))w='HD DVDs';break;case 'A':if(/[123456ABC]/.test(v))w='DVD Audios';break;case 'P':case 'O':default:if(/[123456ABC]/.test(v))w='this media type';break;}if(w)return Validate.warn(e,true,true,'Region '+v+' is not a valid option for '+w+'.',false);if(s_media_cd!='D'&&s_media_cd!='B'&&v=='-')DropDown.selectFromVal(e,'0');}return true;}};var Str={trim:function(s){return s.replace(/^[\s]+/,''). replace(/[\s]+$/,''). replace(/[\t\r\x20]+/g,' '). replace(/\x20\n/g,'\n').replace(/\n\x20/g,'\n');},trimR:function(s){return s.replace(/[\s]+$/,''). replace(/[\t\r\x20]+/g,' '). replace(/\x20\n/g,'\n').replace(/\n\x20/g,'\n');},trimL:function(s){return s.replace(/^[\s]+/,''). replace(/[\t\r\x20]+/g,' '). replace(/\x20\n/g,'\n').replace(/\n\x20/g,'\n');},firstLine:function(s){var n;s=s.replace(/^[\s]+/,'');if((n=s.indexOf('\n'))>1)s=s.substr(0,n);return s.replace(/[\s]+$/,''). replace(/[\s]+/g,' ');},ucFirst:function(s){return s.substr(0,1).toUpperCase()+s.substr(1);},ucWords:function(s){return(s).replace(/^(.)|\s(.)/g,function($1){return $1.toUpperCase();});},ucTitle:function(s){var x=s.split(' '),t=x.length,i,w;for(i=0,s='';i<t;i++){w=x[i];s+=' '+(i&&',the,a,an,aboard,about,above,across,after,against,along,amid,among,anti,around,as,at,before,behind,below,beneath,beside,besides,between,beyond,but,by,concerning,considering,despite,down,during,except,excepting,excluding,following,for,from,in,inside,into,like,minus,near,of,off,on,onto,opposite,outside,over,past,per,plus,regarding,round,save,since,than,through,to,toward,towards,under,underneath,unlike,until,up,upon,vs,versus,via,with,within,without,and,but,for,nor,or,so,yet,to,'.indexOf(','+w+',')>=0?w:w.substr(0,1).toUpperCase()+w.substr(1));}return s.substr(1);},hasSameVal:function(e,f){if((e=$s(e))&&(f=$s(f))&&Str.trim(e.value)!=Str.trim(f.value)){f.style.color='red';f.style.background='#ffcccc';Validate.warn(e,true,true,'The password and the password confirmation fields do not match.',false);return false;}return true;},validateN:function(s_field,n_cnt,o_changed,n_min_len,n_max_len,b_allow_empty,s_name,b_must_change){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Str.validate(s_field+i,o_changed,n_min_len,n_max_len,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name),i?0:b_must_change);return b!==false;},validate:function(s_field,o_changed,n_min_len,n_max_len,b_allow_empty,s_name,b_must_change){var s,n,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;n=s.length;if(n_max_len>0&&n>n_max_len){Validate.warn(e_new,true,true,s_name+' must have no more than '+n_max_len+' characters. You entered '+n+'.',false);return false;}if(n_min_len>0&&n<n_min_len){Validate.warn(e_new,true,true,s_name+' must have at least '+n_min_len+' characters. You entered '+n+'.',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Tab={_length:[],_options:[],_wholepage:false,targetDiv:'',setup:function(tab_id,options){var el=$(tab_id);if(!el){alert('Could not find a tab control by the name "'+tab_id+'".');return;}var a=Dom.getChildrenByType(el,'ul');a=Dom.getChildrenByType(a.length>0?a[0]:el,'li');if(!(a.length>0)){alert('No tab definitions found for "'+tab_id+'".');return;}var k=Tab._length.length;Tab._length[k]=a.length;Tab._options[k]={};Tab._wholepage=(options&&typeof(options['wholepage'])!='undefined')?options['wholepage']=='1':false;Tab.getCmdOptions(Tab._options[k],options,'loadtab',0,0,a.length-1);Tab.getCmdOptions(Tab._options[k],options,'width');Tab.getCmdOptions(Tab._options[k],options,'background');Tab.getCmdOptions(Tab._options[k],options,'padding','8px');Tab.getCmdOptions(Tab._options[k],options,'populate',true);var op=Tab._options[k];var s="<table cellpadding='0' style='position:relative;"+(op.width?" width:"+op.width+";":'')+(op.background?" background:"+op.background+";":'')+(op.padding?" padding:"+op.padding+";":'')+"'><tr><td><table cellpadding='0' width='100%'><tr><td><table cellpadding='0'><tr style='position:relative;z-index:2'><tr>";var href=[];var hdiv=[];for(var i=0;i<a.length;i++){var b=Dom.getChildrenByType(a[i],'a');var label,dx;if(b.length>0){label=b[0].innerHTML;dx=b[0].offsetWidth+20+'px';href[i]=b[0].href;}else{b=Dom.getChildrenByType(a[i],'div');if(b.length>0){hdiv[i]=b[0].innerHTML;a[i].removeChild(a[i].lastChild);}label=a[i].innerHTML;a[i].innerHTML='<span>'+label+'</span>';b=Dom.getChildrenByType(a[i],'span');dx=b.length>0?b[0].offsetWidth+20+'px':'10em';}s+="<td><div class='tab-00' onmouseover='Tab.set("+k+","+i+",1,false);' onmouseout='Tab.set("+k+","+i+",0,false);' onclick='Tab.set("+k+","+i+",2,true);'><div class='tab-01'><div class='tab-10'><div class='tab-11'><div class='tab-xx'><div id='tab"+k+"_"+i+"' unselectable='on' style='width: "+dx+";padding:5px 0 4px 0'>"+label+"</div></div></div></div></div></div></td>";}s+="</tr></table></td></tr><tr><td><table cellpadding='0' width='100%'><tr style='position:relative;z-index:0'><tr><td><div class='cab-t'><div class='cab-b'><div class='cab-r'><div class='cab-l' id='tab"+k+"_div' >&nbsp;</div></div></div></div></td></tr></table></td></tr></table></td></tr></table>";el.innerHTML=s;for(var i=0;i<a.length;i++){el=$('tab'+k+'_'+i);if(el){if(href[i])el['tab_href']=href[i];if(hdiv[i])el['tab_hdiv']=hdiv[i];}}Tab.set(k,op.loadtab,2,op.populate);},set:function(n_tab,n_id,n_state,b_populate){var el=$('tab'+n_tab+'_'+n_id);var ch=n_state==2?'s':(n_state==1?'h':'t');var ol;if(!el)return;if(n_state==2){el['tab_selected']=1;for(var i=0;i<Tab._length[n_tab];i++){if(i==n_id)continue;ol=$('tab'+n_tab+'_'+i);if(ol&&ol.tab_selected==1){ol.tab_selected=0;Tab.set(n_tab,i,0,false);}}Tab.targetDiv='tab'+n_tab+'_div';if(b_populate){ol=$(Tab.targetDiv);if(ol){if(el.tab_hdiv){ol.innerHTML=el.tab_hdiv;}else{var href=el.tab_href?el.tab_href.replace(/%22/g,'"'):'about:blank';if(href.substr(0,11)=='javascript:'){eval(href.substr(11));}else{if(Tab._wholepage){location.href=href;}else{ol.innerHTML="<iframe id='tab"+n_tab+"_frame' scrolling='no' width='99%' frameborder='0' marginwidth='0' src='"+href+"'>Oops, your browser does not support iframes, please follow <a href='"+href+"'>this link</a>.</iframe>";}}}}}}else{if(el['tab_selected']==1)ch='s';}el=el.parentNode;el.className=ch+'ab-xx';el=el.parentNode;el.className=ch+'ab-11';el=el.parentNode;el.className=ch+'ab-10';el=el.parentNode;el.className=ch+'ab-01';el=el.parentNode;el.className=ch+'ab-00';},iframeResize:function(s_id){var el=$(s_id);if(el&&el.contentWindow&&el.contentWindow.document&&el.contentWindow.document.body&&el.contentWindow.document.body.scrollHeight){if(el.scrollHeight<el.contentWindow.document.body.scrollHeight+20)el.style.height=Dec.parse(el.contentWindow.document.body.scrollHeight)+20+'px';}},getCmdOptions:function(a,o,s_item,s_default,n_min,n_max){if(o&&typeof(o[s_item])!='undefined'){a[s_item]=o[s_item];if(n_min&&n_max&&(a[s_item]<n_min||a[s_item]>n_max))a[s_item]=s_default;}else{a[s_item]=s_default;}}};var Title={_test:function(w){var e,s;if((e=$('n_a_dvd_title'))){s=Url.fromStr(Edit.getSel(e));if(s){switch(w){case 'filmaf':s=Filmaf.baseDomain+'/search.html?has='+s+'&init_form=str0_has_'+s;break;case 'imdb':s='https://www.imdb.com/find?q='+s;break;case 'amz':s='http://www.amazon.com/exec/obidos/external-search?mode=dvd&tag=dvdaficionado&keyword='+s;break;default:return;}Win.openStd(s,w);}else{switch(w){case 'filmaf':s='Film Aficionado';break;case 'imdb':s='Imdb';break;case 'amz':s='Amazon';break;default:return;}alert('Please highlight the text you would like to\nsearch for at '+s+'.  Thanks!');}}},seekInFilmaf:function(){Title._test('filmaf');},seekInImdb:function(){Title._test('imdb');},seekInAmz:function(){Title._test('amz');}};var Undo={_redo:{},setImg:function(x,b){var e,f,n,z,s,t='';s=x.id.substr(3);e=$('n_'+s);f=$('z_'+s);if(!e||!f)return;if(e&&e.type=='radio')return;n=e?(e.type=='checkbox'?(e.checked?'Y':'N'):e.value):'';z=f?f.value:'';if(n!=z){s=b?Img.buttons[7].b11.src:Img.buttons[7].b10.src;t='Undo';}else{if(n==Undo._getRedo(s)){s=Img.buttons[7].b00.src;}else{s=b?Img.buttons[7].b21.src:Img.buttons[7].b20.src;t='Redo';}}if(s!=x.src)x.src=s;x.title=t;},attach:function(x){var e,i,n='n'+x.id.substr(2);if((e=$(n))&&e.id==n){switch(e.tagName){case 'INPUT':switch(e.type){case 'text':e.onchange=e.onkeyup=e.onpaste=e.onblur=e.onmouseout=function(){Undo.change(this);};break;case 'checkbox':e.onclick=function(){Undo.change(this);};break;case 'hidden':break;default:alert('Missing attachUndo:1('+e.type+') for '+e.id);break;}break;case 'TEXTAREA':e.onchange=e.onkeyup=e.onpaste=e.onblur=e.onmouseout=function(){Undo.change(this);};break;case 'SELECT':e.onchange=function(){Undo.change(this);};break;default:alert('Missing attachUndo:2('+e.tagName+') for '+e.id);break;}}},set:function(e,v){if((e=$s(e))){switch(e.tagName){case 'INPUT':switch(e.type){case 'text':e.value=v;Undo.change(e);break;case 'hidden':e.value=v;Undo.change(e);Undo._updateDecode('g'+e.id.substr(1),v);break;case 'checkbox':e.checked=v!='N';Undo.change(e);break;default:alert('Missing Undo.set('+e.type+') for '+e.id);break;}break;case 'TEXTAREA':e.value=v;Undo.change(e);break;case 'SELECT':DropDown.selectFromVal(e,v);Undo.change(e);break;default:alert('Missing Undo.set('+e.tagName+') for '+e.id);break;}if(typeof(e.notifySet)=='function')e.notifySet();}},change:function(e){e=e.type=='radio'?e.id.substr(1,e.id.length-3):e.id.substr(1);e=$('zi'+e);if(e)Undo.setImg(e,false);},click:function(s,u){var n,z,g,nv,zv,ov;n=$('n_'+s);nv=n?(n.type=='checkbox'?(n.checked?'Y':'N'):n.value):'';z=$('z_'+s);zv=z?z.value:'';g=$('g_'+s);ov=Undo._getRedo(s);if(n&&z){if(nv!=zv){Undo._redo[s]=nv;Undo.set(n,zv);if(g)Undo.set(g,Decode.field(n.id,zv));}else{if(nv!=ov){Undo.set(n,ov);if(g)Undo.set(g,Decode.field(n.id,ov));}}}},_getRedo:function(s){if(typeof(Undo._redo[s])!="undefined")return Undo._redo[s];s=$('o_'+s);return s?(s.type=='checkbox'?(s.checked?'Y':'N'):s.value):'';},_updateDecode:function(e,s){if((e=$s(e)))if((s=Decode.field(e.id,s)))e.value=s;}};var Upc={toStr:function(s){s=s.replace(/[^0-9]+/g,'');switch(s.length){case 11:case 12:return s.substr(0,1)+'-'+s.substr(1,5)+'-'+s.substr(6,5)+'-'+s.substr(11);case 13:return s.substr(0,1)+'-'+s.substr(1,6)+'-'+s.substr(7);}return s;},validateN:function(s_field,n_cnt,o_changed,n_min_len,n_max_len,b_allow_empty,s_name){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Upc.validate(s_field+i,o_changed,n_min_len,n_max_len,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name));return b!==false;},validate:function(s_field,o_changed,n_min_len,n_max_len,b_empty,s_name){var b=Str.validate(s_field,o_changed,n_min_len,n_max_len,b_empty,s_name)!==false,r={},e,s;if(b&&(e=$(s_field))){s=Str.trim(e.value);if(s){s=Upc.getErrors(e.value,r);Upc.getErrorMsg(s,r,e.value,false);if(r.b_fatal)if(!Validate.warn(e,true,true,r.s_msg.substr(2),true))return false;else return s;e.value=s;return s;}}return b;},getErrors:function(s,r){r.b_10_digits=s.match(/^-*[0-9]{5}-*[0-9]{5}-*$/)!=null;r.b_11_digits=s.match(/^[0-9]-*[0-9]{5}-*[0-9]{5}-*$/)!=null;r.b_12_digits=s.match(/^[0-9]-*[0-9]{5}-*[0-9]{5}-*[0-9]$/)!=null;r.b_1b_digits=!r.b_12_digits&&s.match(/^-*[0-9]{6}-*[0-9]{6}$/)!=null;r.b_13_digits=s.match(/^[0-9]-*[0-9]{6}-*[0-9]{6}$/)!=null;r.b_inv_digit=false;s=s.replace(/[^0-9]+/g,'');if(r.b_11_digits||r.b_1b_digits)s+=r.s_check=Upc._getCheckDigit(s);if(r.b_12_digits||r.b_13_digits)r.b_inv_digit=Upc._isCheckDigitInvalid(s);return s;},_catMsg:function(r,b_fatal,s){r.s_msg+=(r.s_msg?'\n\n':'')+s;if(b_fatal)r.b_fatal=true;else r.b_warn=true;},getErrorMsg:function(s,r,o,b_search){r.s_msg='';r.b_fatal=false;r.b_warn=false;if(r.b_10_digits)Upc._catMsg(r,1,'UPCs have at least 12 digits.  You entered only 10. Perhaps you forgot the first and last digits.');if(r.b_11_digits)Upc._catMsg(r,0,'You did not enter the check digit. We calculated it for you: '+r.s_check+'.');if(r.b_1b_digits)Upc._catMsg(r,0,'You seem to have entered an international UPC without a check digit. We calculated it for you: '+r.s_check+'.');if(r.b_inv_digit)Upc._catMsg(r,1,'Your '+s.length+'-digit UPC has an incorrect check digit. Please check it for a typo. Sometimes ISBNs look like 10 or 13 digit UPCs, but they are not.');if(s.length>15)Upc._catMsg(r,1,'Your UPC has too many digits: '+s.length+'.');if(s.length<12&&!r.b_10_digits&&!r.b_11_digits&&!r.b_1b_digits){if(b_search)if(s.length<5)Upc._catMsg(r,1,'To do a partial UPC search you need to enter at least 5 digits, but no more than 9.');else Upc._catMsg(r,0,'Note that when you enter 5 to 9 digits we will do a partial search.');else Upc._catMsg(r,1,'UPCs have at least 12 digits. You entered only '+s.length+'.');}},_getCheckDigit:function(s){s='00000000000000'+s;s=s.substr(s.length-15,15);var o=(Dec.parse(s.substr(0,1))+Dec.parse(s.substr(2,1))+Dec.parse(s.substr(4,1))+Dec.parse(s.substr(6,1))+Dec.parse(s.substr(8,1))+Dec.parse(s.substr(10,1))+Dec.parse(s.substr(12,1))+Dec.parse(s.substr(14,1)))*3;var e=Dec.parse(s.substr(1,1))+Dec.parse(s.substr(3,1))+Dec.parse(s.substr(5,1))+Dec.parse(s.substr(7,1))+Dec.parse(s.substr(9,1))+Dec.parse(s.substr(11,1))+Dec.parse(s.substr(13,1));return ''+((10-Math.floor((o+e)%10))%10);},_isCheckDigitInvalid:function(s){var c='';if(s.length>=12&&s.length<=15){c=Upc._getCheckDigit(s.substr(0,s.length-1));return s.substr(s.length-1,1)!=c?c:false;}return true;},test:function(ev){ev||(ev=window.event);var s=ev.currentTarget||ev.srcElement,r={},e,o;if(ev&&s&&(e=$('n'+s.id.substr(1)))){if((o=Str.trim(e.value))){s=Upc.getErrors(e.value,r);Upc.getErrorMsg(s,r,e.value,false);if(r.b_fatal){alert(r.s_msg);}else{e.value=Upc.toStr(s);if(!r.b_warn)r.s_msg='This looks like a valid UPC.'+(r.s_msg?'\n\n'+r.s_msg:'');if(e.id.substr(e.id.length-2,2)!='_0')r.s_msg+='\n\nPlease note that only the UPC in the first position is used for finding online prices.';alert(r.s_msg);}}else{alert('Enter an UPC and we will try to validate it.');}}}};var Url={test:function(ev){ev||(ev=window.event);var s=ev.currentTarget||ev.srcElement,e,u;if(ev&&s&&(e=$('n'+s.id.substr(1)))){u=Url.parse(e.value);if(u===false||u.substr(0,7)!='http://')alert('The URL you provided did not start with\nhttp://');else Win.openStd(u,'url');}},getVal:function(key,href){var u=(href||location.href),i=u.indexOf('?');if(i>=0){u='&'+u.substr(i+1);i=u.indexOf('&'+key+'=');if(i>=0){u=u.substr(i+key.length+2);i=u.indexOf('&');if(i>=0)u=u.substr(0,i);return decodeURIComponent(u);}else{i=u.indexOf('&amp;'+key+'=');if(i>=0){u=u.substr(i+key.length+6);i=u.indexOf('&amp;');if(i>=0)u=u.substr(0,i);return decodeURIComponent(u);}}}return '';},setVal:function(key,val,href){var u=(href||location.href),i=u.indexOf('?'),p=i>=0?'&'+u.substr(i+1).replace('/&amp;/','&'):'',s=val!==''?'&'+key+'='+val:'';if(i>=0)u=u.substr(0,i);p=p.indexOf('&'+key+'=')>=0?p.replace(new RegExp('&'+key+'=[^&]*'),s):p+s;return(u+(p?'?'+p.substr(1):'')).replace('/&/','&amp;');},getDec:function(key,href){return Dec.parse(Url.getVal(key,href));},fromStr:function(s){return escape(Str.firstLine(s)).replace(/\+/g,'%2B'). replace(/%20+/g,'\+'). replace(/%26+/g,'\&amp;'). replace(/\&/g,'\&amp;');},parse:function(s){var m;if((s=Str.trim(s))!=''&&s!='http://'){m=new RegExp("^http:\/\/[a-zA-Z0-9_\.,@?^=%&;:/~\+#\(\)-]*$");if(m.test(s))return s=='http://'?'':s;return false;}return '';},validate:function(s_field,s_start,o_changed,n_max_len,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Url.parse(s);if(s===false||(s!=''&&(s_start&&s.substr(0,s_start.length)!=s_start))){if(!s_start)s_start='http://';Validate.warn(e_new,true,true,"Your "+s_name+" seems to be invalid.\n\nWe expected something starting with:\n        "+s_start+"\n\nDo you want to fix it?",false);return false;}n=s.length;if(n_max_len>0&&n>n_max_len){Validate.warn(e_new,true,true,s_name+' must have no more than '+n_max_len+' characters. You entered '+n+'.',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Validate={checkEmptiness:function(e_new,b_allow_empty,s_name){var s=Str.trim(e_new.value),a;if(s==''&&!b_allow_empty){a='aeiou'.indexOf(s.substr(0,1).toLowerCase())>=0?'an':'a';Validate.warn(e_new,true,true,'Please enter '+a+' '+s_name.toLowerCase()+'.',false);return false;}return s;},reset:function(s_field){var a=s_field.split(','),e,i;for(i=0;i<a.length;i++){if((e=$(a[i]))){e.style.color='';e.style.background='';}}},makeResetStr:function(s_field,n){var s='',i;for(i=0;i<n;i++)s+=s_field+n+',';return s;},warn:function(o_focus,b_focus,b_fatal,s_alert,b_allow_overwrite){var y=false;if(o_focus&&o_focus.type=='hidden'){var e=$('g'+o_focus.id.substr(1));o_focus=(e&&e.focus&&e.type!='hidden')?e:null;}if(b_focus&&o_focus!=null){if(b_fatal){o_focus.style.color='red';o_focus.style.background='#ffcccc';}else{if(o_focus.style.color!='red'){o_focus.style.color='green';o_focus.style.background='#ccffcc';}}}if(b_allow_overwrite)y=confirm(s_alert+'\n\nDo you wish to ignore this error?\n\nOK=Yes - Cancel=No');else alert(s_alert);if(o_focus!=null&&o_focus.focus){if(b_focus)o_focus.focus();if(o_focus.select)o_focus.select();}return y;},reload:function(s_url){var y=confirm('Discard changes and reaload data?\n\nOK=Yes - Cancel=No');if(y){location.href=s_url;return true;}return false;},save:function(b_alert_no_change,n_nav,c){var f=$('myform'),b,e;if(f){if(n_nav&&n_nav!=0)f.action+=(f.action.indexOf('?')>=0?'&':'?')+'pg='+n_nav;if(c.b_changed){if(!c.b_undo){b=confirm('The fields in this submission are the same as the current information for this title.\n\nDo you wish to withdraw this submission request?\n\nOK=Yes - Cancel=No');if(b&&(e=$('act'))){e.value='del_sub';f.action=location.href;}}f.submit();}else{location.href=f.action;if(b_alert_no_change)alert('No changes detected.  Nothing to save.');}}}};var Win={openPop:function(b_refresh,s_target,s_url,n_width,n_height,b_reduced,b_scroll){s_url=s_url.replace(/\&amp;/g,'&');b_scroll=b_scroll?'1':'0';if(b_refresh){var t=new Date();s_url=s_url+(s_url.indexOf('?')<0?'?':'&')+'refresh='+t.getTime();}var o_wnd=window.open(s_url,s_target,(b_reduced?'resizable=1,menubar=0,toolbar=0,location=0,directories=0,scrollbars='+b_scroll+',status=0,titlebar=0'+(n_width>0&&n_height>0?',width='+n_width+'px,height='+n_height+'px':''):''));if(o_wnd)o_wnd.focus();return false;},openStd:function(s_url,w){s_url=s_url.replace(/\&amp;/g,'&');if(typeof(w)=='object')if(!w||w.closed)w=window.open(s_url);else w.location=s_url;else w=window.open(s_url,w);if(w)w.focus();return true;},openDyn:function(s_target,s_title,n_width,n_height,b_reduced,s_inc,s_onload,b_scroll){b_scroll=b_scroll?'1':'0';var o_wnd=window.open('',s_target,(b_reduced?'resizable=0,menubar=0,toolbar=0,location=0,directories=0,scrollbars='+b_scroll+',status=0,titlebar=0'+(n_width>0&&n_height>0?',width='+n_width+'px,height='+n_height+'px':''):''));if(o_wnd){o_wnd.document.writeln("<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'DTD/xhtml1-transitional.dtd'>\n<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>\n<head>\n<title>"+s_title+"</title>\n<meta http-equiv='Content-type' content='text/html; charset=UTF-8' />\n"+s_inc+"</head>\n<body onload='"+(s_onload?s_onload+';':'')+"self.focus()'>");}return o_wnd;},endDyn:function(o_wnd){if(o_wnd){o_wnd.document.writeln("</body>\n</html>");o_wnd.document.close();}},showPic:function(s_pic){Win.openPop(false,'large_pic',Filmaf.baseDomain+'/utils/lp.html?pic='+s_pic,354,468,1,0);},reauth:function(s_redirect){if(!s_redirect)s_redirect='/utils/close.html%3Fmsg%3D1';Win.openPop(0,'_blank','/utils/login.html?redirect='+s_redirect,680,520,1,0);},findFrame:function(s_id){var i;for(i=0;i<parent.frames.length;i++){var elid;try{elid=parent.frames[i].frameElement.id}catch(e){elid='verbotten';}if(elid==s_id)return parent.frames[i].document;}return 0;}};function ulCountry(s){s.s+="<li id='menu-country-no' onclick='onMenuClick(this)'><ul id='help_cno'><li>The Americas<ul><li id='hm_cno_us'><a><span style='color:blue'>U.S.</span></a></li><li id='hm_cno_ar'>Argentina</li><li id='hm_cno_br'>Brazil</li><li id='hm_cno_ca'>Canada</li><li id='hm_cno_cl'>Chile</li><li id='hm_cno_cu'>Cuba</li><li id='hm_cno_mx'>Mexico</li></ul></li><li>Europe<ul><li id='hm_cno_at'>Austria</li><li id='hm_cno_be'>Belgium</li><li id='hm_cno_hr'>Croatia</li><li id='hm_cno_cz'>Czech Republic</li><li id='hm_cno_dk'>Denmark</li><li id='hm_cno_ee'>Estonia</li><li id='hm_cno_fi'>Finland</li><li id='hm_cno_fr'><a><span style='color:blue'>France</span></a></li><li id='hm_cno_de'><a><span style='color:blue'>Germany</span></a></li><li id='hm_cno_gr'>Greece</li><li id='hm_cno_hu'>Hungary</li><li id='hm_cno_is'>Iceland</li><li id='hm_cno_it'><a><span style='color:blue'>Italy</span></a></li><li id='hm_cno_lt'>Lithuania</li><li id='hm_cno_mk'>Macedonia</li><li id='hm_cno_nl'>Netherlands</li><li id='hm_cno_no'>Norway</li><li id='hm_cno_pl'>Poland</li><li id='hm_cno_pt'>Portugal</li><li id='hm_cno_ro'>Romania</li><li id='hm_cno_ru'>Russian Federation</li><li id='hm_cno_rs'>Serbia</li><li id='hm_cno_sk'>Slovakia</li><li id='hm_cno_si'>Slovenia</li><li id='hm_cno_es'>Spain</li><li id='hm_cno_se'>Sweden</li><li id='hm_cno_ch'>Switzerland</li><li id='hm_cno_uk'><a><span style='color:blue'>U.K.</span></a></li></ul></li><li>Asia & Oceania<ul><li id='hm_cno_au'><a><span style='color:blue'>Australia</span></a></li><li id='hm_cno_cn'>China</li><li id='hm_cno_hk'><a><span style='color:blue'>Hong Kong</span></a></li><li id='hm_cno_in'>India</li><li id='hm_cno_id'>Indonesia</li><li id='hm_cno_il'>Israel</li><li id='hm_cno_jp'>Japan</li><li id='hm_cno_my'>Malaysia</li><li id='hm_cno_nz'>New Zealand</li><li id='hm_cno_ph'>Philippines</li><li id='hm_cno_sg'>Singapore</li><li id='hm_cno_kr'>South Korea</li><li id='hm_cno_tw'><a><span style='color:blue'>Taiwan</span></a></li><li id='hm_cno_th'>Thailand</li><li id='hm_cno_tr'>Turkey</li></ul></li><li>Africa<ul><li id='hm_cno_za'>South Africa</li></ul></li><li id='hm_cno_un'>Unknown Country</li><li></li><li id='hm_cno_xx'>None</li></ul></li>";};function ulDir(s){s.s+="<li id='menu-director'><ul id='help_dir'><li><div class='pop_div'>Please enter a search string with at least 2 characters to locate a director.<div class='pop_sep_long' />&nbsp;</div><form id='mform_dir' name='mform_dir' style='margin-top:1px; margin-bottom:4px' onsubmit='return false' action=''>Find a director:<input type='text' id='dir_search' onkeyup='return MiniSearch.display(this.form,\"dir\")' size='20'><br /><div style='margin-top:4px'><iframe width='200px' heigh='50px' scrolling='yes' style='margin-bottom:4px' id='frame_dir'></iframe></div></form><div class='pop_sep_long' />&nbsp;</div>Once you found who you are looking for clicking on his/her name will make your choice effective.</div></li></ul></li>";};function ulDvdTitle(s){s.s+="<li id='menu-dvd-title'><ul id='help_dvd_search'><li><div class='pop_div'>Please enter a search string with at least 3 characters. You may use the search below to locate a specific title.<div class='pop_sep_long' />&nbsp;</div><form id='mform_dvd' name='mform_dvd' style='margin-top:1px; margin-bottom:4px' onsubmit='return false' action=''>Find a title:<input type='text' id='dvd_search' onkeyup='return MiniSearch.display(this.form,\"dvd\")' size='20'><br /><div style='margin-top:4px'><iframe width='200px' heigh='50px' scrolling='yes' style='margin-bottom:4px' id='frame_dvd'></iframe></div></form><div class='pop_sep_long' />&nbsp;</div>Once you have located your title, clicking on it will make your choice effective.</div></li></ul></li>";};function ulExplain(s){s.s+="<li id='menu-explain-pop' class='context-class-a-explain'><ul id='explain_pop'><li><div style='margin:4px 0 4px 0;width:300px'><form id='mform_explain' name='mform_explain' onsubmit='return false' action=''><div id='explain_div' style='margin:4px 0 4px 0'><div><div style='margin:4px 0 4px 0;text-align:right'><input type='button' value='close' onclick='Context.close()'></div></div></div></form></div></li></ul></li>";};function ulGenre(s){s.s+="<li id='menu-genre-no' onclick='onMenuClick(this)'><ul id='help_gno'><li>Action-Adventure<ul><li id='hm_gno_10999'><a><strong>Action-Adventure</strong></a></li><li></li><li id='hm_gno_10100'>Comedy</li><li id='hm_gno_10200'>Crime</li><li id='hm_gno_10300'>Disaster</li><li id='hm_gno_10400'>Epic</li><li id='hm_gno_10500'>Espionage</li><li id='hm_gno_10600'>Martial Arts</li><li id='hm_gno_10700'>Military</li><li id='hm_gno_10750'>Samurai</li></ul></li><li>Animation<ul><li id='hm_gno_13999'><a><strong>Animation</strong></a></li><li></li><li id='hm_gno_13100'>Cartoons</li><li id='hm_gno_13300'>Family</li><li id='hm_gno_13600'>Mature</li><li id='hm_gno_13700'>Puppetry &amp; Stop-Motion</li><li id='hm_gno_13800'>Sci-Fi</li><li id='hm_gno_13900'>Superheroes</li></ul></li><li>Anime<ul><li id='hm_gno_16999'><a><strong>Anime</strong></a></li><li></li><li id='hm_gno_16200'>Action</li><li id='hm_gno_16250'>Comedy</li><li id='hm_gno_16300'>Drama</li><li id='hm_gno_16400'>Fantasy</li><li id='hm_gno_16500'>Horror</li><li id='hm_gno_16600'>Mahou Shoujo (Magical Girls)</li><li id='hm_gno_16700'>Martial Arts</li><li id='hm_gno_16750'>Mecha (Giant Robots)</li><li id='hm_gno_16800'>Mo&#233; (Cute Girls, Romance)</li><li id='hm_gno_16850'>Romance</li><li id='hm_gno_16900'>Sci-Fi</li></ul></li><li>Comedy<ul><li id='hm_gno_20999'><a><strong>Comedy</strong></a></li><li></li><li id='hm_gno_20100'>Dark</li><li id='hm_gno_20200'>Farce</li><li id='hm_gno_20300'>Horror</li><li id='hm_gno_20400'>Romantic</li><li id='hm_gno_20600'>Satire</li><li id='hm_gno_20650'>Sci-Fi</li><li id='hm_gno_20700'>Screwball</li><li id='hm_gno_20750'>Sitcom</li><li id='hm_gno_20800'>Sketches &amp; Stand-Up</li><li id='hm_gno_20850'>Slapstick</li><li id='hm_gno_20900'>Teen</li></ul></li><li>Documentary<ul><li id='hm_gno_24999'><a><strong>Documentary</strong></a></li><li></li><li id='hm_gno_24100'>Biography</li><li id='hm_gno_24200'>Crime</li><li id='hm_gno_24250'>Culture</li><li id='hm_gno_24270'>Entertainment</li><li id='hm_gno_24300'>History</li><li id='hm_gno_24400'>Nature</li><li id='hm_gno_24500'>Propaganda</li><li id='hm_gno_24600'>Religion</li><li id='hm_gno_24700'>Science</li><li id='hm_gno_24750'>Social</li><li id='hm_gno_24800'>Sports</li><li id='hm_gno_24900'>Travel</li></ul></li><li>Drama<ul><li id='hm_gno_28999'><a><strong>Drama</strong></a></li><li></li><li id='hm_gno_28100'>Courtroom</li><li id='hm_gno_28150'>Crime</li><li id='hm_gno_28200'>Docudrama</li><li id='hm_gno_28400'>Melodrama</li><li id='hm_gno_28600'>Period</li><li id='hm_gno_28800'>Romance</li><li id='hm_gno_28900'>Sports</li><li id='hm_gno_28950'>War</li></ul></li><li>Educational<ul><li id='hm_gno_32999'><a><strong>Educational</strong></a></li><li></li><li id='hm_gno_32200'>Children</li><li id='hm_gno_32700'>School</li></ul></li><li>Erotica<ul><li id='hm_gno_36999'><a><strong>Erotica</strong></a></li><li></li><li id='hm_gno_36100'>Hentai</li></ul></li><li id='hm_gno_39999'>Experimental</li><li>Exploitation<ul><li id='hm_gno_41999'><a><strong>Exploitation</strong></a></li><li></li><li id='hm_gno_41100'>Blaxploitation</li><li id='hm_gno_41300'>Nazisploitation</li><li id='hm_gno_41400'>Nunsploitation</li><li id='hm_gno_41500'>Pinku Eiga</li><li id='hm_gno_41600'>Sexploitation</li><li id='hm_gno_41700'>Shockumentary</li><li id='hm_gno_41800'>WIP</li></ul></li><li id='hm_gno_43999'>Fantasy</li><li id='hm_gno_47999'>Film Noir</li><li>Horror<ul><li id='hm_gno_55999'><a><strong>Horror</strong></a></li><li></li><li id='hm_gno_55050'>Anthology</li><li id='hm_gno_55250'>Creature &amp; Animal</li><li id='hm_gno_55300'>ESP &amp; Ghosts</li><li id='hm_gno_55350'>Eurotrash</li><li id='hm_gno_55400'>Exploitation</li><li id='hm_gno_55450'>Gialli</li><li id='hm_gno_55500'>Gore &amp; Shock</li><li id='hm_gno_55550'>Gothic</li><li id='hm_gno_55700'>Possession &amp; Satan</li><li id='hm_gno_55800'>Shockumentary</li><li id='hm_gno_55850'>Slasher &amp; Survival</li><li id='hm_gno_55900'>Vampires</li><li id='hm_gno_55950'>Zombies &amp; Infected</li><li id='hm_gno_55960'>Other Undead</li></ul></li><li>Music<ul><li id='hm_gno_59999'><a><strong>Music</strong></a></li><li></li><li id='hm_gno_59300'>Live in Concert</li><li id='hm_gno_59700'>Music Videos</li></ul></li><li id='hm_gno_62999'>Musical</li><li>Performing Arts<ul><li id='hm_gno_66999'><a><strong>Performing Arts</strong></a></li><li></li><li id='hm_gno_66100'>Circus</li><li id='hm_gno_66300'>Concerts</li><li id='hm_gno_66500'>Dance</li><li id='hm_gno_66700'>Operas</li><li id='hm_gno_66900'>Theater</li></ul></li><li>Sci-Fi<ul><li id='hm_gno_70999'><a><strong>Sci-Fi</strong></a></li><li></li><li id='hm_gno_70100'>Alien</li><li id='hm_gno_70200'>Alternate Reality</li><li id='hm_gno_70250'>Apocalyptic</li><li id='hm_gno_70300'>Cyber Punk</li><li id='hm_gno_70400'>Kaiju (Giant Monster)</li><li id='hm_gno_70500'>Lost Worlds</li><li id='hm_gno_70550'>Military</li><li id='hm_gno_70600'>Other Worlds</li><li id='hm_gno_70800'>Space</li><li id='hm_gno_70850'>Space Horror</li><li id='hm_gno_70870'>Superheroes</li><li id='hm_gno_70900'>Utopia &amp; Dystopia</li></ul></li><li id='hm_gno_73999'>Short</li><li>Silent<ul><li id='hm_gno_76999'><a><strong>Silent</strong></a></li><li></li><li id='hm_gno_76100'>Animation</li><li id='hm_gno_76300'>Horror</li><li id='hm_gno_76500'>Melodrama</li><li id='hm_gno_76700'>Slapstick</li><li id='hm_gno_76800'>Western</li></ul></li><li>Sports<ul><li id='hm_gno_80999'><a><strong>Sports</strong></a></li><li></li><li id='hm_gno_80100'>Baseball</li><li id='hm_gno_80130'>Basketball</li><li id='hm_gno_80170'>Biking</li><li id='hm_gno_80200'>Fitness</li><li id='hm_gno_80250'>Football</li><li id='hm_gno_80300'>Golf</li><li id='hm_gno_80350'>Hockey</li><li id='hm_gno_80400'>Martial Arts</li><li id='hm_gno_80450'>Motor Sports</li><li id='hm_gno_80500'>Olympics</li><li id='hm_gno_80600'>Skateboard</li><li id='hm_gno_80700'>Skiing</li><li id='hm_gno_80800'>Soccer</li><li id='hm_gno_80850'>Tennis</li><li id='hm_gno_80900'>Wrestling</li></ul></li><li>Suspense<ul><li id='hm_gno_84999'><a><strong>Suspense</strong></a></li><li></li><li id='hm_gno_84400'>Mystery</li><li id='hm_gno_84700'>Thriller</li></ul></li><li>War<ul><li id='hm_gno_88999'><a><strong>War</strong></a></li><li></li><li id='hm_gno_88200'>US Civil War</li><li id='hm_gno_88300'>World War I</li><li id='hm_gno_88400'>World War II</li><li id='hm_gno_88500'>Korea</li><li id='hm_gno_88600'>Vietnam</li><li id='hm_gno_88700'>Post-Cold War</li><li id='hm_gno_88900'>Other</li></ul></li><li>Western<ul><li id='hm_gno_91999'><a><strong>Western</strong></a></li><li></li><li id='hm_gno_91400'>Epic</li><li id='hm_gno_91700'>Singing Cowboy</li><li id='hm_gno_91800'>Spaghetti</li></ul></li><li id='hm_gno_95999'>DVD Audio</li><li>Other<ul><li id='hm_gno_98999'><a><strong>Other</strong></a></li><li></li><li id='hm_gno_98200'>Digital Comic Books</li><li id='hm_gno_98250'>Game Shows</li><li id='hm_gno_98300'>Games</li></ul></li><li id='hm_gno_99999'><a><strong>Unspecified Genre</strong></a></li><li></li><li id='hm_gno_00000'>None</li></ul></li>";};function ulLang(s){s.s+="<li id='menu-language-no' onclick='onMenuClick(this)'><ul id='help_lno'><li>The Americas<ul><li id='hm_lno_en'><a><span style='color:blue'>English</span></a></li><li id='hm_lno_fr'>French</li><li id='hm_lno_br'>Portuguese-Brazilian</li><li id='hm_lno_es'><a><span style='color:blue'>Spanish</span></a></li></ul></li><li>Europe<ul><li id='hm_lno_bg'>Bulgarian</li><li id='hm_lno_ve'>Catalan</li><li id='hm_lno_cz'>Czech</li><li id='hm_lno_dk'>Danish</li><li id='hm_lno_nl'>Dutch</li><li id='hm_lno_en'><a><span style='color:blue'>English</span></a></li><li id='hm_lno_et'>Estonian</li><li id='hm_lno_fi'>Finnish</li><li id='hm_lno_fr'><a><span style='color:blue'>French</span></a></li><li id='hm_lno_ge'>Georgian</li><li id='hm_lno_de'><a><span style='color:blue'>German</span></a></li><li id='hm_lno_gr'>Greek</li><li id='hm_lno_hu'>Hungarian</li><li id='hm_lno_is'>Icelandic</li><li id='hm_lno_it'><a><span style='color:blue'>Italian</span></a></li><li id='hm_lno_lv'>Latvian</li><li id='hm_lno_lt'>Lithuanian</li><li id='hm_lno_mk'>Macedonian</li><li id='hm_lno_no'>Norwegian</li><li id='hm_lno_pl'>Polish</li><li id='hm_lno_pt'>Portuguese</li><li id='hm_lno_rm'>Romani</li><li id='hm_lno_ro'>Romanian</li><li id='hm_lno_ru'>Russian</li><li id='hm_lno_sc'>Serbo-Croatian</li><li id='hm_lno_sk'>Slovak</li><li id='hm_lno_si'>Slovenian</li><li id='hm_lno_es'><a><span style='color:blue'>Spanish</span></a></li><li id='hm_lno_se'>Swedish</li><li id='hm_lno_uk'>Ukrainian</li><li id='hm_lno_il'>Yiddish</li></ul></li><li>Asia<ul><li id='hm_lno_ar'>Arabic</li><li id='hm_lno_am'>Armenian</li><li id='hm_lno_id'>Bahasa-Indonesia</li><li id='hm_lno_my'>Bahasa-Malaysia</li><li>Chinese<ul><li id='hm_lno_ct_ch'>Cantonese</li><li id='hm_lno_ho_ch'>Hokkien</li><li id='hm_lno_ma_ch'>Mandarin</li><li id='hm_lno_cs_ch'>Shanghainese</li><li id='hm_lno_tw_ch'>Taiwanese</li></ul></li><li id='hm_lno_fa'>Farsi</li><li id='hm_lno_ph'>Filipino</li><li id='hm_lno_he'>Hebrew</li><li>Associated with India<ul><li id='hm_lno_hi_in'>Hindi</li><li id='hm_lno_bn_in'>Bengali</li><li id='hm_lno_ml_in'>Malayalam</li><li id='hm_lno_pu_in'>Punjabi</li><li id='hm_lno_ta_in'>Tamil</li><li id='hm_lno_te_in'>Telugu</li><li id='hm_lno_ur_in'>Urdu</li><li id='hm_lno_in_in'>Others</li></ul></li><li id='hm_lno_jp'><a><span style='color:blue'>Japanese</span></a></li><li id='hm_lno_kz'>Kazakh</li><li id='hm_lno_kh'>Khmer</li><li id='hm_lno_kr'>Korean</li><li id='hm_lno_ku'>Kurdish</li><li id='hm_lno_mn'>Mongolian</li><li id='hm_lno_th'>Thai</li><li id='hm_lno_tr'>Turkish</li><li id='hm_lno_vi'>Vietnamese</li></ul></li><li>Others<ul><li id='hm_lno_nz'>Aramaic</li><li id='hm_lno_eo'>Esperanto</li><li id='hm_lno_la'>Latin</li><li id='hm_lno_sl'><a><span style='color:blue'>Silent</span></a></li><li id='hm_lno_ot'>Others</li></ul></li><li id='hm_lno_un'>Unknown Language</li><li></li><li id='hm_lno_xx'>None</li></ul></li>";};function ulDvdComments(s){s.s+="<li id='menu-moddvd' onclick='onMenuClick(this)'><ul id='help_mdv'><li>Good<ul><li id='hm_mdv_11'><a><div style='color:blue'>THANKS:</div><div style='width:300px;font-size:9px' id='mdv11'>Thanks!</div></a></li><li></li><li id='hm_mdv_12'><a><div style='color:blue'>FIXED:</div><div style='width:300px;font-size:9px' id='mdv12'>Fixed.</div></a></li><li></li><li id='hm_mdv_13'><a><div style='color:blue'>MADE IT A PLACEHOLDER:</div><div style='width:300px;font-size:9px' id='mdv13'>Since we do not have an official announcement we will make this submission into a placeholder for now.</div></a></li></ul></li><li>Okay<ul><li id='hm_mdv_21'><a><div style='color:orange'>PLS UP BETTER PIC SOON:</div><div style='width:300px;font-size:9px' id='mdv21'>Okay for now. Please upload a better version of the artwork as soon as you can. Thanks.</div></a></li><li></li><li id='hm_mdv_22'><a><div style='color:orange'>PLS UP PIC SOON:</div><div style='width:300px;font-size:9px' id='mdv22'>Okay for now. Please upload artwork as soon as you can. Thanks.</div></a></li><li></li><li id='hm_mdv_23'><a><div style='color:orange'>PLS MORE IN THE FUTURE:</div><div style='width:300px;font-size:9px' id='mdv23'>Okay for now. In the future please ensure that your submission has directors, publishers, imdb ids, UPC, release dates, good quality artwork, etc. or it is likely not to be approved.</div></a></li><li></li><li id='hm_mdv_24'><a><div style='color:orange'>DOCS NOT IN IMDB:</div><div style='width:300px;font-size:9px' id='mdv24'>Currently documentaries must be in imdb in order to be listed.</div></a></li><li></li><li id='hm_mdv_25'><a><div style='color:orange'>NON-US MSRP:</div><div style='width:300px;font-size:9px' id='mdv25'>We currently do not list MSRP for non-US releases.</div></a></li></ul></li><li>Bad<ul><li id='hm_mdv_31'><a><div style='color:red'>ALREADY IN - RECENT:</div><div style='width:300px;font-size:9px' id='mdv31'>Sorry, we just approved another submission for this title.</div></a></li><li></li><li id='hm_mdv_32'><a><div style='color:red'>ALREADY IN - OLD:</div><div style='width:300px;font-size:9px' id='mdv32'>Sorry, title already in database.</div></a></li><li></li><li id='hm_mdv_33'><a><div style='color:red'>PIC WATERMARKED:</div><div style='width:300px;font-size:9px' id='mdv33'>Sorry, the uploaded picture is watermarked.</div></a></li><li></li><li id='hm_mdv_34'><a><div style='color:red'>PIC TOO POOR:</div><div style='width:300px;font-size:9px' id='mdv34'>Sorry, the uploaded picture is too poor.</div></a></li><li></li><li id='hm_mdv_35'><a><div style='color:red'>PIC TOO SMALL:</div><div style='width:300px;font-size:9px' id='mdv35'>Sorry, the uploaded picture is too small.</div></a></li><li></li><li id='hm_mdv_36'><a><div style='color:red'>STOP RESUBMITS:</div><div style='width:300px;font-size:9px' id='mdv36'>Please stop re-submitting rejected changes or your ability to update listings will be taken away. Instead try to understand the reasoning behind the rejection. You may try to make your point at http://dvdaf.net/. Thanks.</div></a></li><li></li><li id='hm_mdv_37'><a><div style='color:red'>NO PORN:</div><div style='width:300px;font-size:9px' id='mdv37'>Sorry, FilmAf does not list porn unless the title has special social or historical significance.</div></a></li><li></li><li id='hm_mdv_38'><a><div style='color:red'>VERIFY EXISTENCE:</div><div style='width:300px;font-size:9px' id='mdv38'>Please provide a link so that we can verify the existence of this title.</div></a></li><li></li><li id='hm_mdv_39'><a><div style='color:red'>INCOMPLETE:</div><div style='width:300px;font-size:9px' id='mdv39'>Sorry, your submission is incomplete. Please ensure it has directors, publishers, imdb ids, UPC, release dates, good quality artwork (if you have not uploaded it already), etc.</div></a></li><li></li><li id='hm_mdv_40'><a><div style='color:red'>ALL CAPS:</div><div style='width:300px;font-size:9px' id='mdv40'>Please do not user ALL CAPS because we have to retype everything. Sorry.</div></a></li><li></li><li id='hm_mdv_41'><a><div style='color:red'>PLS USE PLACEHOLDER:</div><div style='width:300px;font-size:9px' id='mdv41'>We will wait for an official announcement. Meanwhile please use the placeholder listing with the &quot;To be Determined&quot; publisher.</div></a></li></ul></li></ul></li>";};function ulDvdPic(s){s.s+="<li class='context-class-input-mp'><ul id='help_pic' onclick='onMenuClick(this)'><li id='hm_pic_lg'>Show larger picture</li><li id='hm_pic_up'>Show uploaded picture</li><li></li><li id='hm_pic_ed'>Edit and Approve picture</li><li id='hm_pic_rj'>Reject picture submission</li></ul></li>";};function ulPub(s){s.s+="<li id='menu-publisher'><ul id='help_pub'><li><div class='pop_div'>Please enter a search string with at least 5 characters. You may use the search below to locate a specific publisher.<div class='pop_sep_long' />&nbsp;</div><form id='mform_pub' name='mform_pub' style='margin-top:1px; margin-bottom:4px' onsubmit='return false' action=''>Find a publisher:<input type='text' id='pub_search' onkeyup='return MiniSearch.display(this.form,\"pub\")' size='20'><br /><div style='margin-top:4px'><iframe width='200px' heigh='50px' scrolling='yes' style='margin-bottom:4px' id='frame_pub'></iframe></div></form><div class='pop_sep_long' />&nbsp;</div>Once you have located your publisher, clicking on his/her name will make your choice effective.</div></li></ul></li>";};function ulRegion(s){s.s+="<li id='menu-region-no' onclick='onMenuClick(this)'><ul id='help_rno'><li><div style='margin-top:2px;width:450px'><div id='help_rno_txt'>Click on the map to select the appropriate DVD Region Code.</div><div class='pop_sep_short' style='margin:8px 0px 8px 0px'>&nbsp;</div><div style='display:none'><img src='http://dv1.us/d1/region-dvd.gif' /><img src='http://dv1.us/d1/region-bd.gif' /><img src='http://dv1.us/d1/region-sat.gif' /></div><div id='help_rno_img'><img src='http://dv1.us/d1/region-sat.gif' width='450' height='218' border='0' style='img:focus:outline:none' /></div><map name='region_dvd_map'><area shape='rect' href='javascript:void(Region.set(-1))' alt='Unknwown Region' coords='0,202,125,217' /><area shape='rect' href='javascript:void(Region.set(0))' alt='Region 0: Plays on any DVD Player' coords='0,187,125,201' /><area shape='poly' href='javascript:void(Region.set(1))' alt='Region 1: US and Canada' coords='101,0,183,0,168,10,185,82,147,82,143,87,140,86,142,79,130,70,128,72,128,76,107,74,104,72,104,70,103,69,100,69,98,66,95,66,92,66,90,65,86,65,45,87,3,87,10,68,20,53,35,37,54,22,75,11' /><area shape='poly' href='javascript:void(Region.set(2))' alt='Region 2: Europe, Middle East, Japan and South Africa' coords='424,131,421,138,429,145,432,139' /><area shape='poly' href='javascript:void(Region.set(2))' alt='Region 2: Europe, Middle East, Japan and South Africa' coords='381,49,388,46,392,56,400,75,376,75,379,60' /><area shape='poly' href='javascript:void(Region.set(2))' alt='Region 2: Europe, Middle East, Japan and South Africa' coords='156,101,156,107,159,106,160,104' /><area shape='poly' href='javascript:void(Region.set(2))' alt='Region 2: Europe, Middle East, Japan and South Africa' coords='244,148,246,148,246,149,248,149,248,148,249,148,249,143,250,143,250,146,251,146,251,145,253,144,256,144,260,139,263,139,265,146,265,148,257,156,247,156,244,150' /><area shape='poly' href='javascript:void(Region.set(2))' alt='Region 2: Europe, Middle East, Japan and South Africa' coords='183,0,256,0,254,17,256,26,254,28,256,33,251,38,251,44,256,43,259,45,258,48,264,52,275,50,289,59,291,57,297,59,297,66,300,71,301,94,289,94,288,91,280,94,271,78,267,78,267,79,255,79,255,64,245,63,237,57,226,58,216,61,180,61,168,10' /><area shape='poly' href='javascript:void(Region.set(3))' alt='Region 3: Southeast Asia' coords='337,80,339,80,339,75,340,73,342,71,344,72,344,77,347,79,351,79,354,77,356,79,355,83,358,86,368,82,374,66,371,59,374,56,379,60,376,75,400,75,400,123,387,123,354,135,333,126,333,85' /><area shape='poly' href='javascript:void(Region.set(4))' alt='Region 4: Australia, New Zealand and Latin America' coords='333,126,333,218,349,218,369,209,389,199,407,187,423,172,435,158,445,139,450,120,450,97,445,80,440,69,435,61,394,61,400,75,400,123,387,123,354,135' /><area shape='poly' href='javascript:void(Region.set(4))' alt='Region 4: Australia, New Zealand and Latin America' coords='3,87,45,87,86,65,90,65,92,66,98,66,100,69,103,69,104,70,104,72,107,74,128,76,128,72,130,70,142,79,140,86,143,87,147,82,185,82,187,82,193,82,193,217,126,217,126,172,27,172,17,159,9,147,3,131,0,118,0,97' /><area shape='poly' href='javascript:void(Region.set(5))' alt='Region 5: Africa, Eastern Europe and the rest of Asia' coords='193,61,216,61,226,58,237,57,245,63,255,64,255,79,267,79,267,78,271,78,280,94,288,91,289,94,301,94,300,71,297,66,297,59,291,57,289,59,275,50,264,52,258,48,259,45,256,43,251,44,251,38,256,33,254,28,256,26,254,17,256,0,348,0,371,9,390,19,403,28,418,40,435,61,394,61,388,46,381,49,379,60,374,56,371,59,369,55,373,51,373,49,375,47,375,45,372,43,372,45,370,45,369,43,365,43,359,37,354,37,355,38,355,42,353,42,353,43,358,45,358,46,354,48,351,48,351,52,344,53,336,52,331,48,328,48,325,45,322,43,320,43,320,46,318,46,316,48,316,50,317,50,317,52,311,55,311,57,315,61,319,61,319,67,321,68,325,68,331,71,336,71,338,69,341,69,342,70,342,71,340,73,339,75,339,80,337,80,333,85,333,158,234,158,193,158' /><area shape='poly' href='javascript:void(Region.set(6))' alt='Region 6: China and Hong Kong' coords='311,55,317,52,317,50,316,50,316,48,318,46,320,46,320,43,322,43,325,45,328,48,331,48,336,52,344,53,351,52,351,48,354,48,358,46,358,45,353,43,353,42,355,42,355,40,355,38,354,37,359,37,365,43,369,43,370,45,372,45,372,43,375,45,375,47,373,49,373,51,369,55,371,59,374,66,368,82,358,86,355,83,356,79,354,77,351,79,347,79,344,77,344,72,342,71,342,70,341,69,338,69,336,71,331,71,325,68,321,68,319,67,319,65,319,61,315,61,311,57' /></map><map name='region_bd_map'><area shape='rect' href='javascript:void(Region.set(-1))' alt='Unknwown Region' coords='0,202,125,217' /><area shape='rect' href='javascript:void(Region.set(0))' alt='Region Free: Plays on any Blu-ray DVD Player' coords='0,187,125,201' /><area shape='poly' href='javascript:void(Region.set(9))' alt='Region C: Eastern Europe and the rest of Asia' coords='348,0,377,12,399,25,418,40,431,54,443,73,448,89,450,108,400,108,402,59,392,54,388,47,383,48,376,50,369,54,369,59,374,66,368,82,358,86,355,83,356,79,354,77,351,79,347,79,344,77,344,72,342,71,340,73,339,76,339,80,337,80,333,85,333,126,302,113,300,71,297,65,297,59,291,57,289,59,282,54,275,50,264,52,258,48,259,45,256,43,251,44,251,38,256,33,254,28,256,26,254,17,256,0' /><area shape='poly' href='javascript:void(Region.set(8))' alt='Region B: Europe, Australia, New Zealand and Africa' coords='156,101,156,107,159,106,160,104' /><area shape='poly' href='javascript:void(Region.set(8))' alt='Region B: Europe, Australia, New Zealand and Africa' coords='183,0,256,0,254,17,256,26,254,28,256,33,251,38,251,44,256,43,259,45,258,48,264,52,275,50,289,59,291,57,297,59,297,65,300,71,302,113,354,135,387,123,400,123,400,108,450,108,448,127,442,145,432,162,416,179,402,190,386,201,365,211,347,218,217,218,168,10' /><area shape='poly' href='javascript:void(Region.set(7))' alt='Region A: Americas, Japan, Korea and Southeast Asia' coords='374,51,383,48,388,47,392,54,402,59,400,109,400,123,387,123,354,135,333,126,333,85,337,80,339,80,339,76,340,73,342,71,344,72,344,77,347,79,351,79,354,77,356,79,355,83,358,86,368,82,374,66,369,59,369,54' /><area shape='poly' href='javascript:void(Region.set(7))' alt='Region A: Americas, Japan, Korea and Southeast Asia' coords='168,10,183,0,101,0,70,13,44,30,23,50,9,71,2,91,0,111,4,138,15,158,27,172,126,172,126,218,217,218' /></map><map name='region_sat_map'><area shape='poly' href='javascript:void(Region.set(0))' alt='Region Free: Plays on any Player' coords='345,0,376,11,405,29,426,48,440,69,447,88,450,109,447,130,439,150,425,170,402,191,371,209,345,218,102,218,76,207,47,190,26,171,11,150,3,130,0,110,2,89,10,69,24,48,45,29,74,11,104,0' /></map><div class='pop_sep_short' style='margin:8px 0px 8px 0px'>&nbsp;</div></div></li></ul></li>";};var DvdEdit={setup:function(){var e;if((e=$('myform'))){Img.attach();Calendar.setup({inputField:'n_a_film_rel_dd',clearInput:'x_a_film_rel_dd',ifFormat:'%Y-%m-%d',button:'h_a_film_rel_dd',singleClick:true,step:1});Calendar.setup({inputField:'n_a_dvd_rel_dd',clearInput:'x_a_dvd_rel_dd',ifFormat:'%Y-%m-%d',button:'h_a_dvd_rel_dd',singleClick:true,step:1});Calendar.setup({inputField:'n_a_dvd_oop_dd',clearInput:'x_a_dvd_oop_dd',ifFormat:'%Y-%m-%d',button:'h_a_dvd_oop_dd',singleClick:true,step:1});Menus.setup();DvdEdit._initSearch('h_a_dvd_title','search');DvdEdit._initTitleLookup('b_a_dvd_title','filmaf',Title.seekInFilmaf);DvdEdit._initTitleLookup('b1_a_dvd_title','imdb',Title.seekInImdb);DvdEdit._initTitleLookup('b2_a_dvd_title','amz',Title.seekInAmz);Context.attach('h_a_dvd_title',false,'menu-dvd-title');Context.attach('h_a_genre','g_a_genre','menu-genre-no');Expand.attach('a_orig_language');Expand.attach('a_country');Expand.attach('a_region_mask');Expand.attach('a_director');Expand.attach('a_publisher');Expand.attach('a_imdb_id');Expand.attach('a_upc');Expand.attach('a_amz');DvdEdit._initOutOfPrint();$('b_a_amz_country').onclick=Asin.test}},onPopup:function(el){if(!this.id)return;var i=this.menu.items,t=this.menu.target,z=this;switch(this.id){default:z.filmaf=ObjEdit.onPopup;z.filmaf(this,el);break;}},onClick:function(action){if(action.info&&action.info.id){var id=action.info.id,z=this;switch(id.substr(0,7)){default:z.filmaf=ObjEdit.onClick;z.filmaf(this,action);break;}}},_initSearch:function(n,s){var e;if((e=$(n))){e.value=s;e.style.width='60px';}},_initTitleLookup:function(n,s,f){var e;if((e=$(n))){e.value=s+' '+e.value;e.onclick=f;e.style.width='60px';}},_initOutOfPrint:function(){var e=$('cb_out_of_print'),f=$('n_a_rel_status');if(e){e.checked=DropDown.getSelValue(f)=='O';e.onclick=function(){var a,b;if((a=$('n_a_rel_status'))){if(this.checked)b='O';else if((b=$('o_a_rel_status')))b=b.value=='O'?'C':b.value;else b='C';DropDown.selectFromVal(a,b);Undo.change(a);}};}if(f){f.onchange=function(){var a=$('cb_out_of_print');if(a){a.checked=DropDown.getSelValue(this)=='O';Undo.change(this);}};f.notifySet=function(){var a=$('cb_out_of_print');if(a)a.checked=DropDown.getSelValue(this)=='O';};}},validate:function(b_alert_no_change,n_nav){var cnt={n_country:0,n_region_mask:0,n_orig_language:0,n_imdb_id:0,n_director:0,n_publisher:0,n_upc:0,n_sku:0},c={b_changed:false},d1={},b=true,mod=false,eid=0,i,e,f,m;if((f=$('edit_id')))eid=Edit.getInt(f);if((f=$('moderator')))mod=f.value==1;if(!(f=$('myform')))return true;for(i=0;(e=$('n_a_country_'+i));i++)cnt.n_country=i+1;for(i=0;(e=$('n_a_region_mask_'+i));i++)cnt.n_region_mask=i+1;for(i=0;(e=$('n_a_orig_language_'+i));i++)cnt.n_orig_language=i+1;for(i=0;(e=$('n_a_imdb_id_'+i));i++)cnt.n_imdb_id=i+1;for(i=0;(e=$('n_a_director_'+i));i++)cnt.n_director=i+1;for(i=0;(e=$('n_a_publisher_'+i));i++)cnt.n_publisher=i+1;for(i=0;(e=$('n_a_upc_'+i));i++)cnt.n_upc=i+1;for(i=0;(e=$('n_a_sku_'+i));i++)cnt.n_sku=i+1;Validate.reset('n_zaupdate_justify,n_zaproposer_notes,n_a_dvd_title,n_a_film_rel_year,n_a_film_rel_dd,'+Validate.makeResetStr('g_a_orig_language_',cnt.n_orig_language)+'g_a_genre,n_a_source,n_a_media_type,'+Validate.makeResetStr('g_a_region_mask_',cnt.n_region_mask)+Validate.makeResetStr('g_a_country_',cnt.n_country)+'n_a_rel_status,n_a_dvd_rel_dd,n_a_dvd_oop_dd,n_a_asin,n_a_amz_country,'+Validate.makeResetStr('n_a_imdb_id_',cnt.n_imdb_id)+Validate.makeResetStr('n_a_director_',cnt.n_director)+Validate.makeResetStr('n_a_publisher_',cnt.n_publisher)+'n_a_num_titles,n_a_num_disks,'+Validate.makeResetStr('n_a_upc_',cnt.n_upc)+Validate.makeResetStr('n_a_sku_',cnt.n_sku)+'n_a_list_price');m=DropDown.getSelValue('n_a_media_type');if(m=='')m='D';if(Str.validate('n_a_dvd_title',c,0,2000,0,'DVD Title',1)!==false)if(Dec.validate('n_a_film_rel_year',c,1880,new Date().getFullYear()+1,1,'Film release year',0)!==false)if(DateTime.validate('n_a_film_rel_dd',d1,c,1880,new Date().getFullYear()+1,1,'Film release date',0)!==false)if(Str.validateN('n_a_orig_language_',cnt.n_orig_language,c,0,0,0,'Original language ',1)!==false)if(Str.validate('n_a_genre',c,0,0,0,'Genre',1)!==false)if(Str.validate('n_a_source',c,0,0,0,'Source',1)!==false)if(Str.validate('n_a_media_type',c,0,0,0,'Media type',1)!==false)if(Str.validateN('n_a_region_mask_',cnt.n_region_mask,c,0,0,0,'Region ',1)!==false)if(Region.valMediaN('n_a_region_mask_',cnt.n_region_mask,m)!==false)if(Str.validateN('n_a_country_',cnt.n_country,c,0,0,0,'DVD country ',1)!==false)if(Str.validate('n_a_rel_status',c,0,0,0,'Release status',1)!==false)if(DateTime.validate('n_a_dvd_rel_dd',d1,c,1990,new Date().getFullYear()+1,1,'DVD release date',0)!==false)if(DateTime.validate('n_a_dvd_oop_dd',d1,c,1990,new Date().getFullYear()+1,1,'Out of print date',0)!==false)if(Asin.validate('n_a_asin',c,0,0,1,'Amazon ASIN',0)!==false)if(Str.validate('n_a_amz_country',c,0,0,1,'Amazon country',0)!==false)if(Imdb.validateN('n_a_imdb_id_',cnt.n_imdb_id,c,1,'Imdb link ',0)!==false)if(Str.validateN('n_a_director_',cnt.n_director,c,0,0,1,'Director ',0)!==false)if(Str.validateN('n_a_publisher_',cnt.n_publisher,c,0,0,1,'Publisher ',0)!==false)if(Dec.validate('n_a_num_titles',c,0,1000,0,'Number of titles',1)!==false)if(Dec.validate('n_a_num_disks',c,1,1000,0,'Number of discs',1)!==false)if(Upc.validateN('n_a_upc_',cnt.n_upc,c,0,0,1,'UPC ',0)!==false)if(Str.validateN('n_a_sku_',cnt.n_sku,c,0,0,1,'Studio product code ',0)!==false)if(Dbl.validate('n_a_list_price',c,0,1000,1,'List price',0,1)!==false){if(c.b_changed||eid>0){if(b)b=Str.validate('n_zaproposer_notes',c,0,1000,1,'Proposer notes',0)!==false;if(b)b=Str.validate('n_zaupdate_justify',c,0,200,mod,'Update justification',!mod)!==false;}if(b){if(n_nav&&n_nav!=1&&n_nav!=0)f.action+=(f.action.indexOf('?')>=0?'&':'?')+'pg='+n_nav;if(c.b_changed){if(!c.b_undo){b=confirm('The fields in this submission are the same as the current information for this title.\n\nDo you wish to withdraw this submission request?\n\nOK=Yes - Cancel=No');if(b&&(e=$('act'))){e.value='del_sub';f.action=location.href;}}f.submit();}else{location.href=f.action;if(b_alert_no_change)alert('No changes detected.  Nothing to save.');}}}return false;},removeUpcDashes:function(){var e,i;for(i=0;(e=$('n_a_upc_'+i));i++)e.value=e.value.replace(/-/g,'');},withdrawSub:function(){var y,e;if((y=confirm('Do you wish to withdraw this submission request?\n\nOK=Yes - Cancel=No'))&&(e=$('act'))){e.value='del_sub';if((e=$('myform'))){e.action=location.href;e.submit();}}return false;},managePics:function(){var e,f,y;if((e=$('edit_id'))&&(f=$('dvd_id'))){e=Edit.getInt(e);f=Edit.getInt(f);if(e<=0&&f<=0){if(confirm('In order to upload a picture for a new title you must first save your request.\nDo you wish to save it now?\n\nOK=Yes - Cancel=No'))if((e=$('b_submit')))e.onclick();}else{Win.openPop(false,'target_pic','/utils/x-pic-mngt.html?obj_type=dvd&obj='+f+'&obj_edit='+e,1080,900,1,1)}}return false;},setSearchVal:function(mode,target,val){var e,s;switch(mode){case 'dvd':if((e=$('n_a_dvd_title')))Edit.insertAtCursor(e,val);break;case 'dir':if((e=$('n'+Filmaf.inputLine.substr(1,100))))e.value=val;break;case 'pub':if((e=$('n'+Filmaf.inputLine.substr(1,100))))e.value=val;break;default:return;}Context.close();}};var DvdApprove={_fields:['a_dvd_title','a_film_rel_year','a_director','a_publisher','a_orig_language','a_country','a_region_mask','a_genre','a_media_type','a_num_titles','a_num_disks','a_source','a_rel_status','a_film_rel_dd','a_dvd_rel_dd','a_dvd_oop_dd','a_imdb_id','a_list_price','a_sku','a_upc','a_asin'],inputPicName:'',inputPicDispo:'',inputPicReq:'',inputPicMod:'',inputPicId:0,inputPicEditId:0,setup:function(){var e;if((e=$('myform'))){DvdApprove._setCopyButtons();Calendar.setup({inputField:'n_a_film_rel_dd',clearInput:'x_a_film_rel_dd',ifFormat:'%Y-%m-%d',button:'h_a_film_rel_dd',singleClick:true,step:1});Calendar.setup({inputField:'n_a_dvd_rel_dd',clearInput:'x_a_dvd_rel_dd',ifFormat:'%Y-%m-%d',button:'h_a_dvd_rel_dd',singleClick:true,step:1});Calendar.setup({inputField:'n_a_dvd_oop_dd',clearInput:'x_a_dvd_oop_dd',ifFormat:'%Y-%m-%d',button:'h_a_dvd_oop_dd',singleClick:true,step:1});Menus.setup();DvdEdit._initSearch('h_a_dvd_title','search');DvdEdit._initTitleLookup('b_a_dvd_title','filmaf',Title.seekInFilmaf);DvdEdit._initTitleLookup('b1_a_dvd_title','imdb',Title.seekInImdb);DvdEdit._initTitleLookup('b2_a_dvd_title','amz',Title.seekInAmz);Context.attach('h_a_dvd_title',false,'menu-dvd-title');Context.attach('mod_txt',false,'menu-moddvd');Context.attach('h_a_genre','g_a_genre','menu-genre-no');Expand.attach('a_orig_language');Expand.attach('a_country');Expand.attach('a_region_mask');Expand.attach('a_director');Expand.attach('a_publisher');Expand.attach('a_imdb_id');Expand.attach('a_upc');Img.attach();$('b_a_amz_country').onclick=Asin.test}},_setCopyButtons:function(){var i,j,e,f,s,b;for(i=0;i<DvdApprove._fields.length;i++){s=DvdApprove._fields[i];b=false;if((e=$('p_'+s))){if((f=$('o_'+s)))b=e.value!=f.value;else b=e.value!='';}else{for(j=0;!b&&(e=$('p_'+s+'_'+j));j++)if((f=$('o_'+s+'_'+j)))b=e.value!=f.value;else b=e.value!='';if(!b&&(f=$('p_'+s+'_'+j)))b=true;}j=s.substr(1);if((e=$('t1'+j))){e.style.textAlign='center';e.innerHTML=b?"<input type='button' onclick='DvdApprove.copyField(\""+s+"\",false)' value='&hellip;&laquo; Rej' style='width:54px' />":"<span class='hl'>...</span>";}if((e=$('t2'+j))){e.style.textAlign='center';e.innerHTML=b?"<input type='button' onclick='DvdApprove.copyField(\""+s+"\",true)' value='App &raquo;&hellip;' style='width:54px' />":"<span class='hl'>...</span>";}}},approveAll:function(n_nav){if(!DvdApprove._areValuesEqual(null,'n_','o_')){var y=confirm("Your changes on the right side will be lost as we overlay the member's proposed changes. Continue?\n\nOK=Yes - Cancel=No");if(!y)return true;}DvdApprove.copyFields(true);return DvdApprove._validate(true,n_nav);},saveRight:function(n_nav){if(DvdApprove._areValuesEqual(null,'n_','o_')){var y=confirm('You are attempting to save the values on the right side but they have not been changed.\nWould it not be better to cancel out and reject the submission?\n\nContinue?\n\nOK=Yes - Cancel=No');if(!y)return true;}return DvdApprove._validate(true,n_nav);},discard:function(){var f=$('myform'),e=$('act'),c={b_changed:false};if(f&&e){Validate.reset('n_zareviewer_notes');if(Str.validate('n_zareviewer_notes',c,5,1000,true,'Reviewer notes',true)!==false){if(confirm('You are rejecting this submission.\n\nContinue?\n\nOK=Yes - Cancel=No')){e.value='discard';f.action=location.href;f.submit();return false;}}}return true;},resurrect:function(dvd_edit,pic_edit){location.href='/utils/resurrect.html?dvd_edit='+dvd_edit+'&pic_edit='+pic_edit;},_validate:function(b_alert_no_change,n_nav){var i,e,f,b,m,c={b_changed:false},d1={},cnt={n_country:0,n_region_mask:0,n_orig_language:0,n_imdb_id:0,n_director:0,n_publisher:0,n_upc:0,n_sku:0};if(!(f=$('myform')))return true;for(i=0;(e=$('n_a_country_'+i));i++)cnt.n_country=i+1;for(i=0;(e=$('n_a_region_mask_'+i));i++)cnt.n_region_mask=i+1;for(i=0;(e=$('n_a_orig_language_'+i));i++)cnt.n_orig_language=i+1;for(i=0;(e=$('n_a_imdb_id_'+i));i++)cnt.n_imdb_id=i+1;for(i=0;(e=$('n_a_director_'+i));i++)cnt.n_director=i+1;for(i=0;(e=$('n_a_publisher_'+i));i++)cnt.n_publisher=i+1;for(i=0;(e=$('n_a_upc_'+i));i++)cnt.n_upc=i+1;for(i=0;(e=$('n_a_sku_'+i));i++)cnt.n_sku=i+1;Validate.reset('n_zareviewer_notes,n_a_dvd_title,n_a_film_rel_year,'+Validate.makeResetStr('n_a_director_',cnt.n_director)+Validate.makeResetStr('n_a_publisher_',cnt.n_publisher)+Validate.makeResetStr('g_a_orig_language_',cnt.n_orig_language)+Validate.makeResetStr('g_a_country_',cnt.n_country)+Validate.makeResetStr('g_a_region_mask_',cnt.n_region_mask)+'g_a_genre,n_a_media_type,n_a_num_titles,n_a_num_disks,n_a_source,n_a_rel_status,n_a_film_rel_dd,n_a_dvd_rel_dd,n_a_dvd_oop_dd,'+Validate.makeResetStr('n_a_imdb_id_',cnt.n_imdb_id)+'n_a_list_price,'+Validate.makeResetStr('n_a_sku_',cnt.n_sku)+Validate.makeResetStr('n_a_upc_',cnt.n_upc)+'n_a_asin,n_a_amz_country');m=DropDown.getSelValue('n_a_media_type');if(m=='')m='D';if(Str.validate('n_zareviewer_notes',c,0,1000,1,'Reviewer notes',0)!==false)if(Str.validate('n_a_dvd_title',c,0,2000,0,'DVD Title',1)!==false)if(Dec.validate('n_a_film_rel_year',c,1880,new Date().getFullYear()+1,1,'Film release year',0)!==false)if(Str.validateN('n_a_director_',cnt.n_director,c,0,0,1,'Director ',0)!==false)if(Str.validateN('n_a_publisher_',cnt.n_publisher,c,0,0,1,'Publisher ',0)!==false)if(Str.validateN('n_a_orig_language_',cnt.n_orig_language,c,0,0,0,'Original language ',1)!==false)if(Str.validateN('n_a_country_',cnt.n_country,c,0,0,0,'DVD country ',1)!==false)if(Str.validateN('n_a_region_mask_',cnt.n_region_mask,c,0,0,0,'Region ',1)!==false)if(Region.valMediaN('n_a_region_mask_',cnt.n_region_mask,m)!==false)if(Str.validate('n_a_genre',c,0,0,0,'Genre',1)!==false)if(Str.validate('n_a_media_type',c,0,0,0,'Media type',1)!==false)if(Dec.validate('n_a_num_titles',c,0,1000,0,'Number of titles',1)!==false)if(Dec.validate('n_a_num_disks',c,1,1000,0,'Number of discs',1)!==false)if(Str.validate('n_a_source',c,0,0,0,'Source',1)!==false)if(Str.validate('n_a_rel_status',c,0,0,0,'Release status',1)!==false)if(DateTime.validate('n_a_film_rel_dd',d1,c,1880,new Date().getFullYear()+1,1,'Film release date',0)!==false)if(DateTime.validate('n_a_dvd_rel_dd',d1,c,1990,new Date().getFullYear()+1,1,'DVD release date',0)!==false)if(DateTime.validate('n_a_dvd_oop_dd',d1,c,1990,new Date().getFullYear()+1,1,'Out of print date',0)!==false)if(Imdb.validateN('n_a_imdb_id_',cnt.n_imdb_id,c,1,'Imdb link ',0)!==false)if(Dbl.validate('n_a_list_price',c,0,1000,1,'List price',0,1)!==false)if(Str.validateN('n_a_sku_',cnt.n_sku,c,0,0,1,'Studio product code ',0)!==false)if(Upc.validateN('n_a_upc_',cnt.n_upc,c,0,0,1,'UPC ',0)!==false)if(Asin.validate('n_a_asin',c,0,0,1,'Amazon ASIN',0)!==false)if(Str.validate('n_a_amz_country',c,0,0,1,'Amazon country',0)!==false){if(n_nav&&n_nav!=1&&n_nav!=0)f.action+=(f.action.indexOf('?')>=0?'&':'?')+'pg='+n_nav;if((e=$('reject'))){var c={s_changed:''};DvdApprove._areValuesEqual(c,'n_','p_');e.value=c.s_changed?c.s_changed:'none';}f.submit();}return false;},diffFields:function(d){function _diff(p,s,d){function _setFieldColor(e,b,d){if(b){if(d){e.style.color='red';e.style.background='#ffcccc';}else{e.style.color='green';e.style.background='#ccffcc';}}else{e.style.color='';e.style.background='';}return b;};var e,f,g,i,t,x,b=false,u=s=='a_upc',p1='n_'+s,p2=p+s,p3='g_'+s;e=$(p1);if(!e){t=DvdApprove._expandField(s,d);for(i=0;i<t;i++){e=$(p1+'_'+i);f=$(p2+'_'+i);g=$(p3+'_'+i);if(e&&_setFieldColor((g?g:e),!DvdApprove._isValueEqual(e,f,u),d))b=true;}}else{f=$(p2);g=$(p3);if(_setFieldColor((g?g:e),!DvdApprove._isValueEqual(e,f,u),d))b=true;}return b;};var i,b=false,p=d?'p_':'o_';for(i=0;i<DvdApprove._fields.length;i++)if(_diff(p,DvdApprove._fields[i],d))b=true;if(_diff(p,'a_amz_country',d))b=true;if(!b){if(d)alert('Right side is no different than PROPOSED values.');else alert('Right side is no different than CURRENT values.');}return false;},copyFields:function(d){for(var i=0;i<DvdApprove._fields.length;i++)DvdApprove.copyField(DvdApprove._fields[i],d);return false;},copyField:function(s,d){function _copyIt(f,d){d=d?'p_':'o_';var n=$('n_'+f),o=$(d+f),g=$('g_'+f);d=o?o.value:'';if(n){Undo.set(n,d);if(g)Undo.set(g,Decode.field(n.id,d));}};var i,t;switch(s){case 'a_dvd_title':case 'a_film_rel_year':case 'a_media_type':case 'a_num_titles':case 'a_num_disks':case 'a_source':case 'a_film_rel_dd':case 'a_dvd_rel_dd':case 'a_dvd_oop_dd':case 'a_list_price':_copyIt(s,d);break;case 'a_director':case 'a_publisher':case 'a_imdb_id':case 'a_sku':case 'a_upc':t=DvdApprove._expandField(s,d);for(i=0;i<t;i++)_copyIt(s+'_'+i,d);break;case 'a_genre':_copyIt(s,d);break;case 'a_orig_language':case 'a_country':t=DvdApprove._expandField(s,d);for(i=0;i<t;i++)_copyIt(s+'_'+i,d);break;case 'a_rel_status':_copyIt(s,d);break;case 'a_region_mask':t=DvdApprove._expandField(s,d);for(i=0;i<t;i++)_copyIt(s+'_'+i,d);break;case 'a_asin':_copyIt(s,d);_copyIt('a_amz_country',d);break;}return false;},_expandField:function(s,d){function expand(s){switch(s){case 'a_director':Expand.more(s,20,20,500,'og',1,0,2);break;case 'a_publisher':Expand.more(s,10,20,128,'og',1,0,2);break;case 'a_orig_language':Expand.more(s,10,20,1,'og',0,0,1);break;case 'a_country':Expand.more(s,5,15,1,'og',0,0,1);break;case 'a_region_mask':Expand.more(s,4,1,1,'og',1,0,1);break;case 'a_imdb_id':Expand.more(s,62,10,500,'og',0,1,3);break;case 'a_sku':Expand.more(s,4,16,128,'og',0,0,2);break;case 'a_upc':Expand.more(s,4,16,128,'og',0,1,2);break;}};var i,e,cs=0,ct=0,p=d?'p_':'o_';for(i=0;(e=$(p+s+'_'+i));i++)cs=i;for(i=0;(e=$('n_'+s+'_'+i));i++)ct=i;if(cs>ct){for(i=ct;i<cs;i++){expand(s);ct++;}}return ct+1;},managePics:function(n_dvd){Win.openStd('/utils/x-pic-mngt.html?mod=1&obj_type=dvd&obj='+n_dvd,'target_pic');},_areValuesEqual:function(c,p1,p2){function _areEqual(c,p1,p2,fd){var e,i,b_same=true,u=fd=='a_upc';p1+=fd;p2+=fd;e=$(p1);if(!e)for(i=0;b_same&&(e=$(p1+'_'+i));i++)b_same=DvdApprove._isValueEqual(e,$(p2+'_'+i),u);else b_same=DvdApprove._isValueEqual(e,$(p2),u);if(c&&!b_same)c.s_changed+=fd+', ';return b_same;};var i,b_same=true;for(i=0;(b_same||c)&&i<DvdApprove._fields.length;i++)if(!_areEqual(c,p1,p2,DvdApprove._fields[i]))b_same=false;if(b_same||c)if(!_areEqual(c,p1,p2,'a_amz_country'))b_same=false;if(c&&c.s_changed)c.s_changed=c.s_changed.substr(0,c.s_changed.length-2);return b_same;},_isValueEqual:function(e,f,upc){var v1=e?(upc?e.value.replace(/[^0-9]+/g,''):e.value):'';var v2=f?(upc?f.value.replace(/[^0-9]+/g,''):f.value):'';return v1==v2;}};var DvdApprove={_fields:['a_dvd_title','a_film_rel_year','a_director','a_publisher','a_orig_language','a_country','a_region_mask','a_genre','a_media_type','a_num_titles','a_num_disks','a_source','a_rel_status','a_film_rel_dd','a_dvd_rel_dd','a_dvd_oop_dd','a_imdb_id','a_list_price','a_sku','a_upc','a_asin'],inputPicName:'',inputPicDispo:'',inputPicReq:'',inputPicMod:'',inputPicId:0,inputPicEditId:0,setup:function(){var e;if((e=$('myform'))){DvdApprove._setCopyButtons();Calendar.setup({inputField:'n_a_film_rel_dd',clearInput:'x_a_film_rel_dd',ifFormat:'%Y-%m-%d',button:'h_a_film_rel_dd',singleClick:true,step:1});Calendar.setup({inputField:'n_a_dvd_rel_dd',clearInput:'x_a_dvd_rel_dd',ifFormat:'%Y-%m-%d',button:'h_a_dvd_rel_dd',singleClick:true,step:1});Calendar.setup({inputField:'n_a_dvd_oop_dd',clearInput:'x_a_dvd_oop_dd',ifFormat:'%Y-%m-%d',button:'h_a_dvd_oop_dd',singleClick:true,step:1});Menus.setup();DvdEdit._initSearch('h_a_dvd_title','search');DvdEdit._initTitleLookup('b_a_dvd_title','filmaf',Title.seekInFilmaf);DvdEdit._initTitleLookup('b1_a_dvd_title','imdb',Title.seekInImdb);DvdEdit._initTitleLookup('b2_a_dvd_title','amz',Title.seekInAmz);Context.attach('h_a_dvd_title',false,'menu-dvd-title');Context.attach('mod_txt',false,'menu-moddvd');Context.attach('h_a_genre','g_a_genre','menu-genre-no');Expand.attach('a_orig_language');Expand.attach('a_country');Expand.attach('a_region_mask');Expand.attach('a_director');Expand.attach('a_publisher');Expand.attach('a_imdb_id');Expand.attach('a_upc');Img.attach();$('b_a_amz_country').onclick=Asin.test}},_setCopyButtons:function(){var i,j,e,f,s,b;for(i=0;i<DvdApprove._fields.length;i++){s=DvdApprove._fields[i];b=false;if((e=$('p_'+s))){if((f=$('o_'+s)))b=e.value!=f.value;else b=e.value!='';}else{for(j=0;!b&&(e=$('p_'+s+'_'+j));j++)if((f=$('o_'+s+'_'+j)))b=e.value!=f.value;else b=e.value!='';if(!b&&(f=$('p_'+s+'_'+j)))b=true;}j=s.substr(1);if((e=$('t1'+j))){e.style.textAlign='center';e.innerHTML=b?"<input type='button' onclick='DvdApprove.copyField(\""+s+"\",false)' value='&hellip;&laquo; Rej' style='width:54px' />":"<span class='hl'>...</span>";}if((e=$('t2'+j))){e.style.textAlign='center';e.innerHTML=b?"<input type='button' onclick='DvdApprove.copyField(\""+s+"\",true)' value='App &raquo;&hellip;' style='width:54px' />":"<span class='hl'>...</span>";}}},approveAll:function(n_nav){if(!DvdApprove._areValuesEqual(null,'n_','o_')){var y=confirm("Your changes on the right side will be lost as we overlay the member's proposed changes. Continue?\n\nOK=Yes - Cancel=No");if(!y)return true;}DvdApprove.copyFields(true);return DvdApprove._validate(true,n_nav);},saveRight:function(n_nav){if(DvdApprove._areValuesEqual(null,'n_','o_')){var y=confirm('You are attempting to save the values on the right side but they have not been changed.\nWould it not be better to cancel out and reject the submission?\n\nContinue?\n\nOK=Yes - Cancel=No');if(!y)return true;}return DvdApprove._validate(true,n_nav);},discard:function(){var f=$('myform'),e=$('act'),c={b_changed:false};if(f&&e){Validate.reset('n_zareviewer_notes');if(Str.validate('n_zareviewer_notes',c,5,1000,true,'Reviewer notes',true)!==false){if(confirm('You are rejecting this submission.\n\nContinue?\n\nOK=Yes - Cancel=No')){e.value='discard';f.action=location.href;f.submit();return false;}}}return true;},resurrect:function(dvd_edit,pic_edit){location.href='/utils/resurrect.html?dvd_edit='+dvd_edit+'&pic_edit='+pic_edit;},_validate:function(b_alert_no_change,n_nav){var i,e,f,b,m,c={b_changed:false},d1={},cnt={n_country:0,n_region_mask:0,n_orig_language:0,n_imdb_id:0,n_director:0,n_publisher:0,n_upc:0,n_sku:0};if(!(f=$('myform')))return true;for(i=0;(e=$('n_a_country_'+i));i++)cnt.n_country=i+1;for(i=0;(e=$('n_a_region_mask_'+i));i++)cnt.n_region_mask=i+1;for(i=0;(e=$('n_a_orig_language_'+i));i++)cnt.n_orig_language=i+1;for(i=0;(e=$('n_a_imdb_id_'+i));i++)cnt.n_imdb_id=i+1;for(i=0;(e=$('n_a_director_'+i));i++)cnt.n_director=i+1;for(i=0;(e=$('n_a_publisher_'+i));i++)cnt.n_publisher=i+1;for(i=0;(e=$('n_a_upc_'+i));i++)cnt.n_upc=i+1;for(i=0;(e=$('n_a_sku_'+i));i++)cnt.n_sku=i+1;Validate.reset('n_zareviewer_notes,n_a_dvd_title,n_a_film_rel_year,'+Validate.makeResetStr('n_a_director_',cnt.n_director)+Validate.makeResetStr('n_a_publisher_',cnt.n_publisher)+Validate.makeResetStr('g_a_orig_language_',cnt.n_orig_language)+Validate.makeResetStr('g_a_country_',cnt.n_country)+Validate.makeResetStr('g_a_region_mask_',cnt.n_region_mask)+'g_a_genre,n_a_media_type,n_a_num_titles,n_a_num_disks,n_a_source,n_a_rel_status,n_a_film_rel_dd,n_a_dvd_rel_dd,n_a_dvd_oop_dd,'+Validate.makeResetStr('n_a_imdb_id_',cnt.n_imdb_id)+'n_a_list_price,'+Validate.makeResetStr('n_a_sku_',cnt.n_sku)+Validate.makeResetStr('n_a_upc_',cnt.n_upc)+'n_a_asin,n_a_amz_country');m=DropDown.getSelValue('n_a_media_type');if(m=='')m='D';if(Str.validate('n_zareviewer_notes',c,0,1000,1,'Reviewer notes',0)!==false)if(Str.validate('n_a_dvd_title',c,0,2000,0,'DVD Title',1)!==false)if(Dec.validate('n_a_film_rel_year',c,1880,2030,1,'Film release year',0)!==false)if(Str.validateN('n_a_director_',cnt.n_director,c,0,0,1,'Director ',0)!==false)if(Str.validateN('n_a_publisher_',cnt.n_publisher,c,0,0,1,'Publisher ',0)!==false)if(Str.validateN('n_a_orig_language_',cnt.n_orig_language,c,0,0,0,'Original language ',1)!==false)if(Str.validateN('n_a_country_',cnt.n_country,c,0,0,0,'DVD country ',1)!==false)if(Str.validateN('n_a_region_mask_',cnt.n_region_mask,c,0,0,0,'Region ',1)!==false)if(Region.valMediaN('n_a_region_mask_',cnt.n_region_mask,m)!==false)if(Str.validate('n_a_genre',c,0,0,0,'Genre',1)!==false)if(Str.validate('n_a_media_type',c,0,0,0,'Media type',1)!==false)if(Dec.validate('n_a_num_titles',c,0,1000,0,'Number of titles',1)!==false)if(Dec.validate('n_a_num_disks',c,1,1000,0,'Number of discs',1)!==false)if(Str.validate('n_a_source',c,0,0,0,'Source',1)!==false)if(Str.validate('n_a_rel_status',c,0,0,0,'Release status',1)!==false)if(DateTime.validate('n_a_film_rel_dd',d1,c,1880,2030,1,'Film release date',0)!==false)if(DateTime.validate('n_a_dvd_rel_dd',d1,c,1990,2030,1,'DVD release date',0)!==false)if(DateTime.validate('n_a_dvd_oop_dd',d1,c,1990,2030,1,'Out of print date',0)!==false)if(Imdb.validateN('n_a_imdb_id_',cnt.n_imdb_id,c,1,'Imdb link ',0)!==false)if(Dbl.validate('n_a_list_price',c,0,1000,1,'List price',0,1)!==false)if(Str.validateN('n_a_sku_',cnt.n_sku,c,0,0,1,'Studio product code ',0)!==false)if(Upc.validateN('n_a_upc_',cnt.n_upc,c,0,0,1,'UPC ',0)!==false)if(Asin.validate('n_a_asin',c,0,0,1,'Amazon ASIN',0)!==false)if(Str.validate('n_a_amz_country',c,0,0,1,'Amazon country',0)!==false){if(n_nav&&n_nav!=1&&n_nav!=0)f.action+=(f.action.indexOf('?')>=0?'&':'?')+'pg='+n_nav;if((e=$('reject'))){var c={s_changed:''};DvdApprove._areValuesEqual(c,'n_','p_');e.value=c.s_changed?c.s_changed:'none';}f.submit();}return false;},diffFields:function(d){function _diff(p,s,d){function _setFieldColor(e,b,d){if(b){if(d){e.style.color='red';e.style.background='#ffcccc';}else{e.style.color='green';e.style.background='#ccffcc';}}else{e.style.color='';e.style.background='';}return b;};var e,f,g,i,t,x,b=false,u=s=='a_upc',p1='n_'+s,p2=p+s,p3='g_'+s;e=$(p1);if(!e){t=DvdApprove._expandField(s,d);for(i=0;i<t;i++){e=$(p1+'_'+i);f=$(p2+'_'+i);g=$(p3+'_'+i);if(e&&_setFieldColor((g?g:e),!DvdApprove._isValueEqual(e,f,u),d))b=true;}}else{f=$(p2);g=$(p3);if(_setFieldColor((g?g:e),!DvdApprove._isValueEqual(e,f,u),d))b=true;}return b;};var i,b=false,p=d?'p_':'o_';for(i=0;i<DvdApprove._fields.length;i++)if(_diff(p,DvdApprove._fields[i],d))b=true;if(_diff(p,'a_amz_country',d))b=true;if(!b){if(d)alert('Right side is no different than PROPOSED values.');else alert('Right side is no different than CURRENT values.');}return false;},copyFields:function(d){for(var i=0;i<DvdApprove._fields.length;i++)DvdApprove.copyField(DvdApprove._fields[i],d);return false;},copyField:function(s,d){function _copyIt(f,d){d=d?'p_':'o_';var n=$('n_'+f),o=$(d+f),g=$('g_'+f);d=o?o.value:'';if(n){Undo.set(n,d);if(g)Undo.set(g,Decode.field(n.id,d));}};var i,t;switch(s){case 'a_dvd_title':case 'a_film_rel_year':case 'a_media_type':case 'a_num_titles':case 'a_num_disks':case 'a_source':case 'a_film_rel_dd':case 'a_dvd_rel_dd':case 'a_dvd_oop_dd':case 'a_list_price':_copyIt(s,d);break;case 'a_director':case 'a_publisher':case 'a_imdb_id':case 'a_sku':case 'a_upc':t=DvdApprove._expandField(s,d);for(i=0;i<t;i++)_copyIt(s+'_'+i,d);break;case 'a_genre':_copyIt(s,d);break;case 'a_orig_language':case 'a_country':t=DvdApprove._expandField(s,d);for(i=0;i<t;i++)_copyIt(s+'_'+i,d);break;case 'a_rel_status':_copyIt(s,d);break;case 'a_region_mask':t=DvdApprove._expandField(s,d);for(i=0;i<t;i++)_copyIt(s+'_'+i,d);break;case 'a_asin':_copyIt(s,d);_copyIt('a_amz_country',d);break;}return false;},_expandField:function(s,d){function expand(s){switch(s){case 'a_director':Expand.more(s,20,20,500,'og',1,0,2);break;case 'a_publisher':Expand.more(s,10,20,128,'og',1,0,2);break;case 'a_orig_language':Expand.more(s,10,20,1,'og',0,0,1);break;case 'a_country':Expand.more(s,5,15,1,'og',0,0,1);break;case 'a_region_mask':Expand.more(s,4,1,1,'og',1,0,1);break;case 'a_imdb_id':Expand.more(s,62,10,500,'og',0,1,3);break;case 'a_sku':Expand.more(s,4,16,128,'og',0,0,2);break;case 'a_upc':Expand.more(s,4,16,128,'og',0,1,2);break;}};var i,e,cs=0,ct=0,p=d?'p_':'o_';for(i=0;(e=$(p+s+'_'+i));i++)cs=i;for(i=0;(e=$('n_'+s+'_'+i));i++)ct=i;if(cs>ct){for(i=ct;i<cs;i++){expand(s);ct++;}}return ct+1;},managePics:function(n_dvd){Win.openStd('/utils/x-pic-mngt.html?mod=1&obj_type=dvd&obj='+n_dvd,'target_pic');},_areValuesEqual:function(c,p1,p2){function _areEqual(c,p1,p2,fd){var e,i,b_same=true,u=fd=='a_upc';p1+=fd;p2+=fd;e=$(p1);if(!e)for(i=0;b_same&&(e=$(p1+'_'+i));i++)b_same=DvdApprove._isValueEqual(e,$(p2+'_'+i),u);else b_same=DvdApprove._isValueEqual(e,$(p2),u);if(c&&!b_same)c.s_changed+=fd+', ';return b_same;};var i,b_same=true;for(i=0;(b_same||c)&&i<DvdApprove._fields.length;i++)if(!_areEqual(c,p1,p2,DvdApprove._fields[i]))b_same=false;if(b_same||c)if(!_areEqual(c,p1,p2,'a_amz_country'))b_same=false;if(c&&c.s_changed)c.s_changed=c.s_changed.substr(0,c.s_changed.length-2);return b_same;},_isValueEqual:function(e,f,upc){var v1=e?(upc?e.value.replace(/[^0-9]+/g,''):e.value):'';var v2=f?(upc?f.value.replace(/[^0-9]+/g,''):f.value):'';return v1==v2;}};var DvdApproveMenuPrep={onPopup:function(el){if(!this.id)return;var i=this.menu.items,t=this.menu.target,z=this;switch(this.id){case 'help_pic':DvdApproveMenuPrep._contextPic(i,t);break;default:z.filmaf=ObjEdit.onPopup;z.filmaf(this,el);break;}},_contextPic:function(i,t){var a=(Filmaf.inputLine=t.id).split('_');DvdApprove.inputPicName=a[1];DvdApprove.inputPicId=a[2];DvdApprove.inputPicEditId=a[3];DvdApprove.inputPicDispo=a[4];DvdApprove.inputPicReq=a[5];DvdApprove.inputPicMod=a[6];a=DvdApprove.inputPicEditId==0||DvdApprove.inputPicDispo!='-';i.hm_pic_ed.disable(a);i.hm_pic_rj.disable(a);}};var DvdApproveMenuAction={onClick:function(action){if(action.info&&action.info.id){var id=action.info.id,z=this;switch(id.substr(0,7)){case 'hm_pic_':switch(id.substr(7)){case 'lg':Win.showPic(DvdApprove.inputPicName);break;case 'up':Win.showPic(DvdApprove.inputPicName+'&bord=1');break;default:DvdApproveMenuAction._selPic(id);break;}break;case 'hm_mdv_':DvdApproveMenuAction._prependReviwerNotes(id.substr(7));break;default:z.filmaf=ObjEdit.onClick;z.filmaf(this,action);break;}}},_selPic:function(id){if(Filmaf.objId){var e=$('edit_id'),s='&obj_type=dvd&obj='+Filmaf.objId+'&obj_edit='+(e?e.value:Url.getVal('edit'));switch(id.substr(7)){case 'ed':DvdApproveMenuAction.picEdit('?pic='+DvdApprove.inputPicId+'&mod=1&pic_edit='+DvdApprove.inputPicEditId+s,'');break;case 'rj':DvdApproveMenuAction.picEdit('?act=rej&mod=1&pic_edit='+DvdApprove.inputPicEditId+s,'Are you sure you want to reject this request?\nThere is no going back.\n\nOK=Yes - Cancel=No');break;}}else{alert('Please approve the submission before editing or approving the corresponding pictures.');}},_prependReviwerNotes:function(e){var f=$('n_zareviewer_notes');if(f&&(e=$('mdv'+e)))f.value=e.innerHTML;},picEdit:function(s_parm,s_ask){var y=true;if(s_ask)y=confirm(s_ask);if(y)Win.openStd('/utils/x-pic-edit.html'+s_parm,'target_pic');}};var ObjEdit={onPopup:function(z,el){if(!z.id)return;var i=z.menu.items,t=z.menu.target;switch(z.id){case 'help_dir':case 'help_pub':Filmaf.inputLine=t.id;ObjEdit._contextPubDir(t);break;case 'help_rno':Filmaf.inputLine=t.id;ObjEdit._contextRegion(t);break;case 'help_gno':Filmaf.inputLine=t.id;ObjEdit._contextGenre(i,t);break;case 'explain_pop':Explain.show(t.id,true);break;default:Filmaf.inputLine=t.id;break;}},onClick:function(z,action){if(!action.info||!action.info.id)return;var id=action.info.id,md=id.substr(0,7),tg=Filmaf.inputLine.substr(2);if(!(id=id.substr(7)))return;switch(md){case 'hm_gno_':ObjEdit._setGenre(tg,action,id);break;case 'hm_fro_':ObjEdit._setRating(tg,action,id);break;case 'hm_cno_':case 'hm_lno_':ObjEdit._setCountryLang(tg,action,id);break;case 'hm_mas_':ObjEdit._setAspectRatio(tg,id);break;}},_contextPubDir:function(t){},_contextRegion:function(t){var e=$('n_a_media_type'),t='',i='';if(e){switch(DropDown.getSelValue(e)){case 'D':case 'V':t='Click on the map to select the appropriate DVD Region Code.';i="<img src='http://dv1.us/d1/region-dvd.gif' width='450' height='218' border='0' usemap='#region_dvd_map' style='img:focus:outline:none' />";break;case 'B':case '3':case '2':case 'R':t='Click on the map to select the appropriate Blu-ray Region Code.';i="<img src='http://dv1.us/d1/region-bd.gif' width='450' height='218' border='0' usemap='#region_bd_map' style='img:focus:outline:none' />";break;case 'H':case 'C':case 'T':case 'A':t='HD DVDs and DVD Audios do not have region code restrictions.';i="<img src='http://dv1.us/d1/region-sat.gif' width='450' height='218' border='0' usemap='#region_sat_map' style='img:focus:outline:none' />";break;case 'P':case 'O':default:t='Region codes are not applicable to this media type.';i="<img src='http://dv1.us/d1/region-sat.gif' width='450' height='218' border='0' usemap='#region_sat_map' style='img:focus:outline:none' />";break;}}if((e=$('help_rno_txt')))e.innerHTML=t;if((e=$('help_rno_img')))e.innerHTML=i;},_contextGenre:function(i,t){i.hm_gno_99999.label=t.id=='b_b_genre'?'Use Default Genre':'Unspecified Genre';i.hm_gno_99999.labelTD.innerHTML="<a><strong>"+i.hm_gno_99999.label+'</strong></a>';},_setGenre:function(tg,action,id){var e,i,j;if(id=='00000')i=id='';else{i=action.info.parent&&action.info.parent.parent_item&&action.info.parent.parent_item.label;j=action.info.label.substr(0,1)=='<'?false:action.info.label;i=j?(i?i+' / '+j:j):i;}if((e=$('g_'+tg)))e.value=i;if((e=$('n_'+tg))){e.value=id;Undo.change(e);}},_setRating:function(tg,action,id){var e,i,j;i=action.info.parent&&action.info.parent.parent_item&&action.info.parent.parent_item.label;j=action.info.label.substr(0,1)=='<'?false:action.info.label;i=j?(i?i+' / '+j:j):i;if((e=$('g_'+tg)))e.value=i;if((e=$('n_'+tg))){e.value=id;Undo.change(e);}},_setCountryLang:function(tg,action,id){var i,e;if(id=='xx')i=id='';else{i=Dom.stripTags(action.info.label);switch(id.substr(3)){case 'ch':i='Chinese-'+i;break;case 'in':i='Indian-'+i;break;}id=id.substr(0,2);}if((e=$('g_'+tg)))e.value=i;if((e=$('n_'+tg))){e.value=id;Undo.change(e);}},_setAspectRatio:function(tg,id){if((tg=$('n_'+tg)))tg.value=id.substr(0,1)+'.'+id.substr(1);},discard:function(msg,url){if(!msg||confirm(msg+'\n\nOK=Yes - Cancel=No'))location.href=url?url:location.href;},withdraw:function(msg){var e=$('act'),f=$('myform');if(e&&f&&confirm(msg+'\n\nOK=Yes - Cancel=No')){e.value='del_sub';f.action=location.href;f.submit();return 1;}return 0;},showHist:function(s_trg){var e=$('hist');if(e.style.visibility=='hidden'){e.innerHTML="<div style='margin:2px 6px 2px 2px'><iframe scrolling='yes' frameborder='0' src='"+Filmaf.baseDomain+"/utils/hist-"+s_trg+".html?frm=1&obj="+Filmaf.objId+"' style='width:100%;height:260px;padding:1px;border:solid 1px #abadb3'></iframe></div";e.style.visibility='visible';e='Hide history';}else{e.innerHTML='';e.style.visibility='hidden';e='Show history';}$('b_showhist').value=e;}};