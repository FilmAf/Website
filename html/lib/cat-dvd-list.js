/* ---------------------------------------------------------------------------- *\
 *  Film Aficionado is public domain software. Promotional material images,
 *  if present, are copyrighted by the respective copyright owners and should
 *  only be used under the provisions dictated by those copyright holders.
 *  There are no warranties expressed on implied.
\* ---------------------------------------------------------------------------- */
var Ajax={_http:false,_uniSeed:'',_getHttpObj:function(){var h=false;if(window.XMLHttpRequest){try{h=new XMLHttpRequest();}catch(e){h=false;}}else{if(window.ActiveXObject){try{h=new ActiveXObject("Msxml2.XMLHTTP");}catch(e){try{h=new ActiveXObject("Microsoft.XMLHTTP");}catch(e){h=false;}}}}if(h.overrideMimeType)h.overrideMimeType('text/xml');return h;},_call:function(s_file,f_callback,s_get,s_post){if(!Ajax._http)Ajax._http=Ajax._getHttpObj();if(Ajax._http){Ajax._http.abort();Ajax._http.onreadystatechange=f_callback;if(s_post){Ajax._http.open('POST','/utils/ajax-'+s_file+'.php'+s_get,true);Ajax._http.setRequestHeader("Content-type","application/x-www-form-urlencoded");Ajax._http.setRequestHeader("Content-length",s_post.length);Ajax._http.setRequestHeader("Connection","close");Ajax._http.send(s_post);}else{Ajax._http.open('GET','/utils/ajax-'+s_file+'.php'+s_get,true);Ajax._http.send(null);}}},_uniCall:function(s_file,f_callback,s_get,s_post,s_seed){if(s_seed!=Ajax._uniSeed)return;Ajax._call(s_file,f_callback,s_get,s_post);},asynch:function(s_file,s_callback,s_get,s_post,n_delay){s_file="'"+s_file+"'";s_get=typeof(s_get)=='undefined'||!s_get?0:"'"+s_get.replace(/\x27/g,"\\'")+"'";s_post=typeof(s_post)=='undefined'||!s_post?0:"'"+s_post.replace(/\x27/g,"\\'")+"'";n_delay=typeof(n_delay)=='undefined'?200:n_delay;setTimeout("Ajax._call("+s_file+","+s_callback+","+s_get+","+s_post+")",n_delay);},asynchNoDup:function(s_file,s_callback,s_get,s_post,n_delay){s_file="'"+s_file+"'";s_get=typeof(s_get)=='undefined'||!s_get?0:"'"+s_get.replace(/\x27/g,"\\'")+"'";s_post=typeof(s_post)=='undefined'||!s_post?0:"'"+s_post.replace(/\x27/g,"\\'")+"'";n_delay=typeof(n_delay)=='undefined'?200:n_delay;Ajax._uniSeed=(new Date()).getTime()+','+Math.random();setTimeout("Ajax._uniCall("+s_file+","+s_callback+","+s_get+","+s_post+",'"+Ajax._uniSeed+"')",n_delay);},ready:function(){return Ajax._http.readyState==4&&Ajax._http.status==200;},getParms:function(o){o.sta=o.msg=o.err='';if(!Ajax.ready())return false;o.lines=Ajax.getLines();o.length=o.lines.length;if(o.length<2)return false;o.line1=o.lines[1];return Ajax.statusErr(o,o.line1);},statusErr:function(o,s){o.sta=Ajax.statusTxt(s,'status');o.msg=Ajax.statusTxt(s,'msg');o.err=o.sta=='SUCCESS'?'':(o.msg?o.msg:'ERROR');return o.err=='';},statusInt:function(s,v){var re=new RegExp(v+"='([^\x27]+)'");re=re.exec(s);return re&&re.index?Dec.parse(re[1]):0;},statusTxt:function(s,v){var re=new RegExp(v+"='([^\x27]+)'");re=re.exec(s);return re&&re.index?re[1]:'';},getText:function(){return Ajax._http.responseText;},getLines:function(){return Ajax._http.responseText.split('\n');},__ignore:function(s,t){}};var Arrays={indexFromVal:function(a,v){for(var i=0;i<a.length;i++)if(a[i]==v)return i;return-1;}};var CheckBox={getVal:function(e){return(e=$s(e))?(e.checked?'Y':'N'):'';},getVal_1:function(e){return(e=$s(e))&&e.checked?'1':'';},setVal:function(e,v){if((e=$s(e)))e.checked=v=='1'||v=='Y'||v===true;},getValCmp:function(e,o_changed){var s=CheckBox.getVal(e);if(!o_changed.b_changed&&(e=$('o_'+e.substr(2))))o_changed.b_changed=s==e.value;return s;},getValBool:function(e){return(e=$s(e))?e.checked:null;},setPrefixed:function(name,s){var e;if((e=$('n_'+name)))e.checked=s=='Y';if((e=$('o_'+name)))e.value=s;return s;},validate:function(s_field,o_changed,b_must_change){var s,e_old,b_same;if((s=CheckBox.getVal(s_field))!=''){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=s!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&s==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;return s;}return '';}};var Context={_isFireFox:navigator.userAgent.match(/gecko/i),_menuHandle:null,setup:function(){if(Filmaf.onPopup)Context._menuHandle=DynarchMenu.setup('context-menu',{context:true,lazy:true,onPopup:Filmaf.onPopup,ctxbutton:1});else Context._menuHandle=DynarchMenu.setup('context-menu',{context:true,lazy:true,ctxbutton:1});},attach:function(click,edit,s_menu,n_calendar_id){var e=$s(click),f=$s(edit);if(Context._menuHandle&&s_menu&&(e||f)){if(s_menu=='calendar'){if(f)f.onclick=Search.calendars[n_calendar_id];if(e)e.onclick=Search.calendars[n_calendar_id];}else{if(f)f.onclick=f.onkeydown=Context._pressButton;if(e)DynarchMenu.setupContext(e,Context._menuHandle.items[s_menu]);}}},_pressButton:function(ev){ev||(ev=window.event);if(ev.keyCode!=9){var e=ev.currentTarget||ev.srcElement;if(e&&e.tagName=='INPUT')e.setAttribute('autocomplete','off');if(e&&e.id&&(e=$('h'+e.id.substr(1))))e.onclick(ev);else alert('Please use the [...] button next to this field to select an option.');}},getPopupPos:function(e,dx,dy){var r=DynarchMenu.getWinSize(),xi=DynarchMenu.psLeft(),yi=DynarchMenu.psTop(),xf=xi+r.x,yf=yi+r.y;r=Context.getPos(e);var xe=r.x,ye=r.y,zh=e.getAttribute('zoom_hoz'),dn=e.getAttribute('zoom_ver')=='down',lf=zh=='left',lo=zh=='leftoffset';r.beg_y=yi;r.end_y=yf;r.bot_y=0;r.x=lf?xe-dx:xe+(lo?0:e.offsetWidth);r.y=ye-1;r.y+=dn?e.offsetHeight:e.offsetHeight*85/100;if(!lf&&r.x+dx>xf)r.x=lo?r.x=xf-dx-1:r.x-e.offsetWidth-dx;if(r.x<xi)r.x=xi;if(r.y+dy>yf){r.bot_y=r.y-(dn?e.offsetHeight:e.offsetHeight*70/100);r.y=r.bot_y-dy;r.bot_y=r.end_y-r.bot_y;}if(r.y<yi)r.y=yi;r.x=Math.floor(r.x);r.y=Math.floor(r.y);return r;},getPos:function(e){var r={x:0,y:0},op,pn;if(e){r.x=e.offsetLeft;r.y=e.offsetTop;op=e.offsetParent;pn=e.parentNode;while(op){r.x+=op.offsetLeft;r.y+=op.offsetTop;if(op!=document.body&&op!=document.documentElement){r.x-=op.scrollLeft;r.y-=op.scrollTop;}if(Context._isFireFox){while(pn&&op!=pn){r.x-=pn.scrollLeft;r.y-=pn.scrollTop;pn=pn.parentNode;}}pn=op.parentNode;op=op.offsetParent;}}return r;},close:function(){if(window.top&&window.top.DynarchMenu)window.top.DynarchMenu._closeOtherMenus(null);}};var Cookie={get:function(n){var c=('; '+document.cookie).replace(/;\s*([A-Za-z0-9_]+\=)/g,';$1'),i=c.indexOf(';'+n+'=');if(i>=0){i+=n.length+2;n=c.indexOf(';',i);return n>i?c.substr(i,n-i):c.substr(i);}return '';},del:function(n){var c=new Date('January 1, 2001');c='; expires='+c.toGMTString()+'; path=/; domain='+Filmaf.cookieDomain;document.cookie=n+'='+c;},set:function(n,v,d){if(typeof(v)=='string'&&!(v=Str.trim(v).replace(/^,+/,'').replace(/,+$/,''))){Cookie.del(n);return;}if(d)if(d<0)d=0;else{var x=d;d=new Date();d.setDate(d.getDate()+x);}else d=new Date(new Date().setFullYear(new Date().getFullYear()+1));d=(d?'; expires='+d.toGMTString():'')+'; path=/; domain='+Filmaf.cookieDomain;document.cookie=n+'='+v+d;},reset:function(keepers){var z=document.cookie.split(';'),i,s,n;keepers='-,'+keepers.toLowerCase()+',';for(i=0;i<z.length;i++){s=Str.trim(z[i]);n=s.indexOf('=');if(n>=0){s=s.substr(0,n);if(keepers.indexOf(','+s.toLowerCase()+',')<0)Cookie.del(s);}}},amend:function(n,k,v){var c=Cookie.get(n).split('*'),s='',b=0,m,i;if(typeof(v)=='string'){if(v.indexOf('*')>0){v=v.replace(/\*/g,'');alert("Illegal character '*' removed from ammended cookie value");}if(v.indexOf('*')>0||v.indexOf('_')>0){k=k.replace(/\*/g,'').replace(/_/g,'');alert("Illegal characters '*' and/or '_' removed from ammended cookie value");}}for(i=0;i<c.length;i++){m=c[i].split('_',1)[0];if(k==m){if(v!='')s+='*'+k+'_'+v;b=1;}else{if(m!='')s+='*'+c[i];}}if(!b&&v!='')s+='*'+k+'_'+v;if(s=='')Cookie.del(n);else Cookie.set(n,s.slice(1));},extract:function(n,k,def){var c=Cookie.get(n).split('*'),i;for(i=0;i<c.length;i++){if(k==c[i].split('_',1)[0])return c[i].slice(k.length+1);}return typeof(def)=='undefined'?'':def;},extractFromStr:function(c,k,def){var i;c=c.split('*');for(i=0;i<c.length;i++){if(k==c[i].split('_',1)[0])return c[i].slice(k.length+1);}return typeof(def)=='undefined'?'':def;},explode:function(n,ints){var c=Cookie.get(n).split('*'),a=[],i;if(c=='')return '';for(i=0;i<c.length;i++){k=c[i].split('_',1)[0];v=c[i].slice(k.length+1);if(ints)a[i]={key:k,val:v};else a[k]=v;}return a;},explodeStr:function(c,ints){var c=c.split('*'),a=[],i;if(c=='')return '';for(i=0;i<c.length;i++){k=c[i].split('_',1)[0];v=c[i].slice(k.length+1);if(ints)a[i]={key:k,val:v};else a[k]=v;}return a;},clean:function(b_all){var b=confirm(b_all?'This action will log you off FilmAf, delete your shopping\ncart and a few other options. Do you wish to proceed?\n\nOK=Yes - Cancel=No':'This action will delete your shopping cart and\na few other options. Do you wish to proceed?\n\nOK=Yes - Cancel=No');if(b)Cookie.reset(b_all?'orig':'user,parm,orig');return b;}};var DateTime={parseBounded:function(s,yy_min,yy_max,empty){var re,y,m=1,d=1,o='invalid';s=Str.trim(s);if(s=='')return empty?'':false;re=/^([0-9]{4})$/.exec(s);if(re){y=Dec.parse(re[1]);if(y>=yy_min&&y<=yy_max)o='year';}else{re=/^([0-9]{4})[-]([0-9]{2})$/.exec(s);if(re){y=Dec.parse(re[1]);m=Dec.parse(re[2]);if(y>=yy_min&&y<=yy_max){if(m==0)o='year';else if(m>=1&&m<=12)o='month';}}else{re=/^([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s);if(re){y=Dec.parse(re[1]);m=Dec.parse(re[2]);d=Dec.parse(re[3]);if(y>=yy_min&&y<=yy_max){if(m==0&&d==0)o='year';else if(m>=1&&m<=12){if(d==0)o='month';else if(DateTime.isValid(y,m,d,yy_min,yy_max))o='day';}}}else{return false;}}}return{day:d,month:m-1,year:y,option:o};},isLeapYear:function(y){return y%4==0&&(y%100!=0||y%400==0);},daysInMonth:function(m,y){var dm=[0,31,29,31,30,31,30,31,31,30,31,30,31];if(m==2&&y>0)return DateTime.isLeapYear(y)?29:28;return(m>=1&&m<=12)?dm[m]:false;},isStrValid:function(s,yy_min,yy_max){var re=/^([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s);if(re){y=Dec.parse(re[1]);m=Dec.parse(re[2]);d=Dec.parse(re[3]);return DateTime.isValid(y,m,d,yy_min,yy_max);}return false;},isValid:function(y,m,d,yy_min,yy_max){y=Dec.parse(y);m=Dec.parse(m);d=Dec.parse(d);return y>=yy_min&&y<=yy_max&&m>=1&&m<=12&&d>=1&&d<=DateTime.daysInMonth(m,y);},IntToDateStr:function(y,m,d){m=m+1;if(m<10)m='0'+m;if(d<10)d='0'+d;return y+'-'+m+'-'+d;},toDateStr:function(dt){var m=dt.getMonth()+1,d=dt.getDate();if(m<10)m='0'+m;if(d<10)d='0'+d;return dt.getFullYear()+'-'+m+'-'+d;},toTimeStr:function(dt){var m=dt.getMonth()+1,d=dt.getDate(),h=dt.getHours(),i=dt.getMinutes(),s=dt.getSeconds();if(m<10)m='0'+m;if(d<10)d='0'+d;if(h<10)h='0'+h;if(i<10)i='0'+i;if(s<10)s='0'+s;return dt.getFullYear()+'-'+m+'-'+d+' '+h+':'+i+':'+s;},toTimeHHMM:function(dt,zeroPad,ampm){var h=dt.getHours(),i=dt.getMinutes(),b=h>11,m=ampm?(b?' PM':' AM'):'';if(m&&b)h-=12;if(h<10&&zeroPad)h='0'+h;if(i<10)i='0'+i;return h+':'+i+m;},getMonth:function(n){var a=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];if(n>=1&&n<=12)return a[n-1];},validate:function(s_field,o_date,o_changed,yy_min,yy_max,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;o_date.day=0;o_date.month=0;o_date.year=0;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=DateTime.parseBounded(s,yy_min,yy_max,b_allow_empty);if(s===false||(s.option&&s.option!='day')){Validate.warn(e_new,true,true,s_name+' must be a valid date between '+yy_min+' and '+yy_max+' expressed as YYYY-MM-DD.\nYou entered "'+e_new.value+'".',false);return false;}o_date.day=s.day;o_date.month=s.month;o_date.year=s.year;if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;if(s!='')s=DateTime.IntToDateStr(s.year,s.month,s.day);e_new.value=s;return s;}return '';},attachLiveParser:function(s){if((s=$(s)))s.onkeypress=DateTime._liveParser;},_liveParser:function(ev){function has31d(s){s=Dec.parse(s);a=[0,31,29,31,30,31,30,31,31,30,31,30,31];return(s>=1&&s<=12)?a[s]==31:false;};ev||(ev=window.event);var c=ev.keyCode||ev.charCode,d=c?String.fromCharCode(c):'not',e=ev.currentTarget||ev.srcElement,b=e.value,f=b.length,g=d=='-';if((d=='-'||(d>='0'&&d<='9'))&&e){c=true;switch(f){case 0:c=/[1-2]/.test(d);break;case 1:if(!/[1-2]/.test(b))c=0;else{c=(b=='1'?/[8-9]/:/[0]/).test(d);}break;case 2:if(!/(19)|(20)/.test(b))c=0;else{c=(b=='20'?/[0]/:/[0-9]/).test(d);}break;case 3:if(!/(19[0-9])|(200)/.test(b))c=0;else{c=/[0-9]/.test(d);}break;case 4:if(!/(19[0-9][0-9])|(200[0-9])/.test(b))c=0;else{if(!g){e.value+='-';if(!/[0-1]/.test(d))e.value+='0';c=/[0-9]/.test(d);}}break;case 5:if(!/(19[0-9][0-9]-)|(200[0-9]-)/.test(b))c=0;else{if(!/[0-1]/.test(d))e.value+='0';c=/[0-9]/.test(d);}break;case 6:if(!/(19[0-9][0-9]-[0-1])|(200[0-9]-[0-1])/.test(b))c=0;else{if(g&&b.substr(5,1)!='0')e.value=b.substr(0,5)+'0'+b.substr(5,1);else c=(b.substr(5,1)=='1'?/[0-2]/:/[1-9]/).test(d);}break;case 7:if(!/(19[0-9][0-9]-[0-1][0-9])|(200[0-9]-[0-1][0-9])/.test(b))c=0;else{if(!g){e.value+='-';if(!(b.substr(5,2)=='02'?/[0-2]/:/[0-3]/).test(d))e.value+='0';c=/[0-9]/.test(d);}}break;case 8:if(!/(19[0-9][0-9]-[0-1][0-9]-)|(200[0-9]-[0-1][0-9]-)/.test(b))c=0;else{if(!(b.substr(5,2)=='02'?/[0-2]/:/[0-3]/).test(d))e.value+='0';c=/[0-9]/.test(d);}break;case 9:if(!/(19[0-9][0-9]-[0-1][0-9]-[0-3])|(200[0-9]-[0-1][0-9]-[0-3])/.test(b))c=0;else{var y=Dec.parse(b.substr(0,4)),m=Dec.parse(b.substr(5,2));if(m==2)c=(b.substr(8,1)=='2'?(DateTime.isLeapYear(y)?/[0-9]/:/[0-8]/):/[0-9]/).test(d);else c=(b.substr(8,1)=='3'?(DateTime.daysInMonth(m,y)==31?/[0-1]/:/[0]/):/[0-9]/).test(d);}break;default:return false;break;}}else{c=(d>='0'&&d<='9')||d=='-'||d=='not'||Kbd.isEditKey(c);}if(!c)alert("Oops, please enter a valid date 'YYYY-MM-DD'");return c;}};var Dbl={parse:function(s){s=parseFloat(s);return isNaN(s)?0:s;},parseBounded:function(s,min,max,b_allow_empty,b_money){if(typeof(b_money)=='undefined')b_money=false;var re_1,re_2,b_not_num,b_bounds,b_neg=false;s=Str.trim(s);if(s=='')return b_allow_empty?'':false;if(s.substr(0,1)=='-'){b_neg=true;s=s.substr(1);}if(b_money){re_1=/^([0-9]+)[,.]*([0-9]{0,2})$/;re_2=/^[0-9]+[\.]*[0-9]{0,2}%?$/;}else{re_1=/^([0-9]+)[,.]*([0-9]{0,5})$/;re_2=/^[0-9]+[\.]*[0-9]{0,5}%?$/;}s=s.replace(re_1,'$1.$2'). replace(/^([0-9]+)[,.]*$/,'$1');b_not_num=s.match(re_2)==null;b_bounds=b_not_num?false:(max>min?(Dbl.parse(s)>max||Dbl.parse(s)<min):false);if(b_not_num||b_bounds)return false;return b_neg?'-'+s:s;},toStr:function(v,s_on_zero){if(v>-0.005&&v<0.005)return s_on_zero;v+=v>0?0.005:-0.005;v=''+v;var n=v.indexOf('.');if(n>0)return v.substr(0,n)+'.'+(v.substr(n+1)+'00').substr(0,2);return v+'.00';},toUsd:function(v){v=Dbl.toStr(v,'0.00');var m=v.indexOf('-')>=0?1:0,n=v.indexOf('.');if(n-m>3)v=v.substr(0,n-3)+','+v.substr(n-3);return v;},validate:function(s_field,o_changed,e_min,e_max,b_allow_empty,s_name,b_must_change,b_money){if(typeof(b_money)=='undefined')b_money=false;var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Dbl.parseBounded(s,e_min,e_max,b_allow_empty,b_money);if(s===false){Validate.warn(e_new,true,true,s_name+' must be a number between '+e_min+' and '+e_max+' with up to '+(b_money?'two':'five')+' decimal digits.\nYou entered "'+e_new.value+'".',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Dec={parse:function(s){s=parseInt(s,10);return isNaN(s)?0:s;},parseBounded:function(s,min,max,b_allow_empty){s=Str.trim(s);if(s=='')return b_allow_empty?'':false;var b_not_num=s.match(/^[+-]?[0-9]+$/)==null;var b_bounds=b_not_num?false:(max>min?(Dec.parse(s)>max||Dec.parse(s)<min):false);if(b_not_num||b_bounds)return false;return s;},validateN:function(s_field,n_cnt,o_changed,e_min,e_max,b_allow_empty,s_name,b_must_change){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Dec.validate(s_field+i,o_changed,e_min,e_max,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name),i?0:b_must_change);return b!==false;},validate:function(s_field,o_changed,e_min,e_max,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(((s!=''&&s!='0')||b_allow_empty)&&b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Dec.parseBounded(s,e_min,e_max,b_allow_empty);if(s===false){Validate.warn(e_new,true,true,s_name+' must be an integer'+(e_max>e_min?(' between '+e_min+' and '+e_max):'')+'.\nYou entered "'+e_new.value+'".',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Dom={getParentByType:function(e,t){if(!t)return null;t=t.toLowerCase();while(e&&e.tagName&&e.tagName.toLowerCase()!=t)e=e.parentNode;return(e&&e.tagName&&e.tagName.toLowerCase()==t)?e:null;},getChildrenByType:function(e,t){var a=[],i;if(t)t=t.toLowerCase();if(t&&e&&e.firstChild){for(i=e.firstChild;i;i=i.nextSibling){if(i.nodeType!=1)continue;if(!t||t==i.tagName.toLowerCase())a[a.length]=i;}}return a;},getFirstChildByType:function(e,t){if(t)t=t.toLowerCase();if(t&&e&&e.firstChild){for(var i=e.firstChild;i;i=i.nextSibling){if(i.nodeType!=1)continue;if(!t||t==i.tagName.toLowerCase())return i;}}return null;},decodeHtmlForInput:function(s){if(!s)return '';var d=document.createElement('div');d.innerHTML=s.replace(/<br\x20?\/?>/g,'_ed_magick_');s=document.all?d.innerText:d.textContent;return s.replace(/_ed_magick_/g,'\n');},decodeHtmlEntities:function(s){if(!s)return '';var d=document.createElement('div');d.innerHTML=s;return document.all?d.innerText:d.textContent;},stripTags:function(s){return s.replace(/[<].*?[>]/g,'');},flipHidden:function(s){var e=$(s),f=$(s+'_sav');if(e&&f){s=f.innerHTML;f.innerHTML=e.innerHTML;e.innerHTML=s;return s!='';}return false;},getElementWidth:function(e){if(typeof e.clip!='undefined')return e.clip.width;if(e.style.pixelWidth)return e.style.pixelWidth;return e.offsetWidth;},getElementHeight:function(e){if(typeof this.clip!='undefined')return this.clip.height;if(this.style.pixelHeight)return this.style.pixelHeight;return this.offsetHeight;}};var DropDown={_option_syntax:0,getSelIndex:function(e){return(e=$s(e))?e.selectedIndex:-1;},getSelValue:function(e){return(e=$s(e))?e.options[e.selectedIndex].value:'';},selectFromIndex:function(e,i){if((e=$s(e))&&e.options&&i>=0&&i<e.options.length)return e.options[i].selected=true;return false;},selectFromVal:function(e,v){if((e=$s(e))&&e.options&&(v=DropDown.indexFromVal(e,v))>=0)return e.options[v].selected=true;return false;},indexFromVal:function(e,v){if((e=$s(e))&&(e=e.options))for(var i=0;i<e.length;i++)if(e[i].value==v)return i;return-1;},replaceOptions:function(trg,src){function addChildren(t,s){for(s=s.firstChild;s;s=s.nextSibling){switch(s.tagName.toLowerCase()){case 'a':h=s.href.match(/^http\:\/\/([^\/]+)\/([^?&]+)/i);if(h&&h[2]&&h[2]!='trash-can'&&h[1].substr(0,4)!='www.'){DropDown.addOption(t,h[2],h[2]);if(h[2]==Filmaf.lastMoveFolder)t.selectedIndex=n;n++;}break;case 'li':case 'ul':addChildren(t,s);break;}}};var t=$s(trg),s=$s(src),n=0,h;if(t&&s){DropDown.removeOptions(t);addChildren(t,s);}},removeOptions:function(e){e=$s(e);while(e.length>0)e.remove(0);},addOption:function(sel,val,txt){if(sel&&sel.add){var f=document.createElement('option');f.value=val;f.text=txt;if(DropDown._option_syntax==1)sel.add(f,null);else if(DropDown._option_syntax==2)sel.add(f);else try{sel.add(f,null);DropDown._option_syntax=1;}catch(ex){sel.add(f);DropDown._option_syntax=2;}}}};function $(e){return document.getElementById(e);};function $s(e){return typeof(e)=='string'?document.getElementById(e):(typeof(e)=='object'?e:null);}var Filmaf={baseDomain:'',cookieDomain:'',userCollection:'',viewCollection:'',presentationMode:'',reqPageSize:50,firstRowNo:1,rowsShown:0,onMenuPopup:null,objId:0,lastMoveFolder:'',hasRelWeek:0,loadMainFloat:0,loadContextMenu:0,loadSearchMenu:0,attachExplains:0,contextStr:'',contextMed:'',contextForm:'',inputLine:0,contextRow:0,updatePriceComp:0,config:function(c){var s={s:''},a=$('s_alert'),e=$('context-menu'),r=$('search');if(!c.baseDomain){alert('Missing baseDomain on Filmaf.config');return;}Filmaf.baseDomain=c.baseDomain;if(c.userCollection)Filmaf.userCollection=c.userCollection=='guest'?'':c.userCollection;if(c.viewCollection)Filmaf.viewCollection=c.viewCollection=='www'?'':c.viewCollection;if(c.presentationMode)Filmaf.presentationMode=c.presentationMode;if(c.reqPageSize)Filmaf.reqPageSize=c.reqPageSize;if(c.firstRowNo)Filmaf.firstRowNo=c.firstRowNo;if(c.rowsShown)Filmaf.rowsShown=c.rowsShown;Filmaf.onPopup=c.onPopup?c.onPopup:null;if(c.objId)Filmaf.objId=c.objId;Filmaf.lastMoveFolder=decodeURIComponent(Cookie.get('move'));if(c.hasRelWeek)Filmaf.hasRelWeek=1;if(c.ulExplain)Filmaf.attachExplains=1;if(c.imgPreLoad)Img.preLoad(c.imgPreLoad);if(r)Search.create(0,0);if(c.optionsTag)DropDown.replaceOptions('sel_folder',c.optionsTag);if($('nav_bop'))Menus.cloneNav();if(c.imgHandlers||c.cartHandlers)Img.attach();if(c.cartHandlers)Price.attach();if(c.cartHandlers)Cart.highlight(false);if(c.preloadImgPop)setTimeout('ImgPop.getImgDiv();',200);if(e){if(c.ulAspect)ulAspect(s);if(c.ulBlog)ulBlog(s);if(c.ulBirth)ulBirth(s);if(c.ulCountry)ulCountry(s);if(c.ulDir)ulDir(s);if(c.ulDvd)ulDvd(s);if(c.ulDvdComments)ulDvdComments(s);if(c.ulDvdMany)ulDvdMany(s);if(c.ulDvdOne)ulDvdOne(s);if(c.ulDvdPic)ulDvdPic(s);if(c.ulDvdTitle)ulDvdTitle(s);if(c.ulExplain)ulExplain(s);if(c.ulFilmRating)ulFilmRating(s);if(c.ulGenre)ulGenre(s);if(c.ulHome)ulHome(s);if(c.ulJump)ulJump(s);if(c.ulLang)ulLang(s);if(c.ulPageSize)ulPageSize(s);if(c.ulPerson)ulPerson(s);if(c.ulPicComments)ulPicComments(s);if(c.ulPicMngt)ulPicMngt(s);if(c.ulPub)ulPub(s);if(c.ulRegion)ulRegion(s);if(r)ulSearch(s);if(c.ulStars)ulStars(s);e.innerHTML=s.s;}if(a)alert(a.innerHTML);if(c.splash)splash_me(1);},_getCookieDomain:function(){var c=document.domain?document.domain.match(/\..*\.com$/)||document.domain.match(/\..*\.net$/)||document.domain.match(/\..*\.mil$/)||document.domain.match(/\..*\.edu$/)||document.domain.match(/\..*\.gov$/):'';return typeof(c)=='object'&&c[0]?c[0]:c;}};Filmaf.cookieDomain=Filmaf._getCookieDomain();var Edit={getStr:function(e){return(e=$s(e))?e.value:'';},getStrCmp:function(e,o_changed){var s=Edit.getStr(e);if(!o_changed.b_changed&&(e=$('o_'+e.substr(2))))o_changed.b_changed=s==e.value;return s;},getInt:function(e){return Dec.parse(Edit.getStr(e));},getDbl:function(e){return Dbl.parse(Edit.getStr(e));},setStr:function(e,s){if((e=$s(e)))e.value=s;},setPrefixed:function(name,s){var e;if((e=$('n_'+name)))e.value=s;if((e=$('o_'+name)))e.value=s;if((e=$('d_'+name)))e.innerHTML=s;return s;},countDown:function(e,n){if((e=$(e))){if(n>50)e.innerHTML=n;else if(n<0)e.innerHTML="<span style='color:#bd0b0b;font-weight:bold'>"+n+"</span>";else e.innerHTML="<span style='font-weight:bold'>"+n+"</span>";}},insertAtCursor:function(e,v){var a,b,s;if(document.selection){e.focus();s=document.selection.createRange();s.text=v;}else if(e.selectionStart||e.selectionStart=='0'){a=e.selectionStart;b=e.selectionEnd;e.value=e.value.substring(0,a)+v+e.value.substring(b,e.value.length);}else{e.value+=v;}},getSel:function(e){var s='';if(window.getSelection)s=window.getSelection().toString();else if(document.getSelection)s=document.getSelection().toString();else if(document.selection)s=document.selection.createRange().text;if(!s&&e){e.focus();s=Edit.getSel(null);}return s;}};var Explain={_asAlert:0,attach:function(){var e=window.self.document.getElementsByTagName('img'),i,x;for(i=e.length;--i>=0;){x=e[i];if(x.id&&x.id.substr(0,3)=='ex_'){Context.attach(x,false,'menu-explain-pop');e.onmouseover=function(ev){Img.mouseOver(ev,this,5);};e.onmouseout=function(){Img.mouseOut(this,5);};}}},show:function(s,b_popup){Explain._asAlert=b_popup?0:1;s=s.replace(/_[0-9]+$/,'').replace(/^ex_/,'');Ajax.asynch('explain','Explain.__paint','?s='+s,0,100);var e=$('explain_div');if(e)e.innerHTML='&nbsp;';},__paint:function(){function parse(s,t){var i,u,v;s=s.split('\t');for(i=0;i<s.length;i+=2){u=s[i+1];v=Dom.decodeHtmlForInput(u);switch(s[i]){case 'keyword':t.keyword=u;break;case 'width':t.width=Dec.parse(u);break;case 'explain':t.explain=u;break;}}return typeof(t.explain)=='string';};if(Ajax.ready()){var a=Ajax.getLines(),b={},e,s,w;if(a.length>=3&&parse(a[2],b)){if(b.explain=='Not found')s='Need to write "Explain" for '+b.keyword+'.';else s=b.explain;}else{s='"Explain" is experiencing problems.\nPlease try again soon or report the issue at http://dvdaf.net.\n\nSorry for the inconvenience.';}if(!Explain._asAlert&&(e=$('explain_div'))){e.innerHTML="<div>"+s+"<div style='margin:4px 0 4px 0;text-align:right'><input type='button' value='close' onclick='Context.close()'></div></div>";}else{alert(s);}}},nav:function(s){Explain.show(s,true);}};var Img={buttons:{},_buttonsLoaded:0,_buttonsInd:{},preLoad:function(s){if(!document.images)return;var s=s.split('.'),i,a;for(i=0;i<s.length;i++){switch(s[i]){case 'pin':a=Img.buttons[0]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bp00.gif';a.b01=new Image();a.b01.src='http://dv1.us/d1/00/bp01.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bp10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/bp11.gif';a.onClick=null;a.afterClick=Search.savePin;break;case 'cart':a=Img.buttons[1]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bc00.png';a.b01=new Image();a.b01.src='http://dv1.us/d1/00/bc01.png';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bc10.png';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/bc11.png';a.onClick=Cart.click;a.afterClick=null;break;case 'price':a=Img.buttons[2]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bd00.png';a.b01=new Image();a.b01.src='http://dv1.us/d1/00/bd01.png';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bd10.png';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/bd11.png';a.onClick=Price.click;a.afterClick=null;break;case 'help':a=Img.buttons[3]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bm00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bm10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'spin':a=Img.buttons[4]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/pn00.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/pn10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/pn11.gif';a.onClick=ImgSpin.click;a.afterClick=null;break;case 'spin_hoz':a=Img.buttons[8]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ph00.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ph10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/ph11.gif';a.onClick=ImgSpin.click;a.afterClick=null;break;case 'explain':a=Img.buttons[5]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/bq00.png';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/bq10.png';a.onClick=Explain.show;a.afterClick=null;break;case 'drop':a=Img.buttons[6]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/dp00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/dp10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'undo':a=Img.buttons[7]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/1.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ud01.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/ud11.gif';a.b20=new Image();a.b20.src='http://dv1.us/d1/00/rd01.gif';a.b21=new Image();a.b21.src='http://dv1.us/d1/00/rd11.gif';a.onClick=Undo.click;a.afterClick=null;break;case 'pagesize':a=Img.buttons[9]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/sz00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/sz10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'aleft':a=Img.buttons[10]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/al00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/al10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'aright':a=Img.buttons[11]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ar00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ar10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'astop':a=Img.buttons[12]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/as00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/as10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'across':a=Img.buttons[13]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ax00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ax10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'acheck':a=Img.buttons[14]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ak00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ak10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'aplus':a=Img.buttons[15]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ap00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ap10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'adown':a=Img.buttons[16]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/ad00.gif';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/ad10.gif';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'tabbk':Img._buttonsInd[0]=new Image();Img._buttonsInd[0].src='http://dv1.us/d1/00/header-back-small.jpg';break;case 'spun':a=Img.buttons[17]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/pn00.gif';a.b10=new Image();a.b10.src='http://dv1.us/d1/00/pn10.gif';a.b11=new Image();a.b11.src='http://dv1.us/d1/00/pn11.gif';a.onClick=ImgSpun.click;a.afterClick=null;break;case 'home':a=Img.buttons[18]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/fbh0.png';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/fbh1.png';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;case 'coll':a=Img.buttons[19]={};a.b00=new Image();a.b00.src='http://dv1.us/d1/00/fbf0.png';a.b01=a.b00;a.b10=new Image();a.b10.src='http://dv1.us/d1/00/fbf1.png';a.b11=a.b10;a.onClick=null;a.afterClick=null;break;}}Img._buttonsLoaded=true;},getMouseY:function(ev,e){return Img.getCoord(ev,e).y;},getMouseX:function(ev,e){return Img.getCoord(ev,e).x;},setPin:function(e,b){Img.check(e,0,b);},getPin:function(e){return Img.isChecked(e,0);},attach:function(){var e=window.self.document.getElementsByTagName('img'),i,x;for(i=e.length;--i>=0;){x=e[i];if(x.id){switch(x.id.substr(0,3)){case 'ic_':x.onmouseover=function(ev){Img.mouseOver(ev,this,1);};x.onmouseout=function(){Img.mouseOut(this,1);};x.onclick=function(ev){Img.click(ev,this,1,this.id.substr(3));};break;case 'id_':x.onmouseover=function(ev){Img.mouseOver(ev,this,2);};x.onmouseout=function(){Img.mouseOut(this,2);};x.onclick=function(ev){Img.click(ev,this,2,this.id.substr(3));};break;case 'is_':ImgSpin.attachSpinV(x);break;case 'ex_':x.onmouseover=function(ev){Img.mouseOver(ev,this,5);};x.onmouseout=function(){Img.mouseOut(this,5);};x.onclick=function(ev){Img.click(ev,this,5,this.id.substr(3));};break;case 'dp_':x.onmouseover=function(ev){Img.mouseOver(ev,this,6);};x.onmouseout=function(){Img.mouseOut(this,6);};x.onclick=function(ev){Img.click(ev,this,6,this.id.substr(3));};break;case 'zi_':x.onmouseover=function(ev){Img.mouseOver(ev,this,7);};x.onmouseout=function(){Img.mouseOut(this,7);};x.onclick=function(ev){Img.click(ev,this,7,this.id.substr(3));};Undo.setImg(x,false);Undo.attach(x);break;case 'ih_':ImgSpin.attachSpinH(x);break;case 'sz_':x.onmouseover=function(ev){Img.mouseOver(ev,this,9);};x.onmouseout=function(){Img.mouseOut(this,9);};x.onclick=function(ev){Img.click(ev,this,9,this.id.substr(3));};break;case 'zo_':x.onmouseover=function(ev){ImgPop.show(this,0);};break;}}}},mouseOver:function(ev,img,type){if(!Img._buttonsLoaded)return;var a=Img.buttons[type],o;switch(type){case 0:case 1:case 2:case 3:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 18:case 19:o=Dec.parse(img.src.substr(img.src.length-5,1));img.src=o==2?a.b12.src:(o==1?a.b11.src:a.b10.src);img.style.cursor='pointer';break;case 4:case 17:o=Img.getMouseY(ev,img);if(o>=1&&o<=20){img.style.cursor='pointer';a=o>=11?a.b10.src:a.b11.src;if(a!=img.src)img.src=a;}break;case 5:case 6:case 9:img.style.cursor='pointer';img.src=a.b10.src;break;case 7:Undo.setImg(img,true);break;case 8:o=Img.getMouseX(ev,img);if(o>=1&&o<=20){img.style.cursor='pointer';a=o<10?a.b10.src:a.b11.src;if(a!=img.src)img.src=a;}break;}},mouseOut:function(img,type){if(!Img._buttonsLoaded)return;var a=Img.buttons[type],o;switch(type){case 0:case 1:case 2:case 3:case 10:case 11:case 12:case 13:case 14:case 15:case 16:case 18:case 19:o=Dec.parse(img.src.substr(img.src.length-5,1));img.src=o==2?a.b02.src:(o==1?a.b01.src:a.b00.src);img.style.cursor='pointer';break;case 4:case 8:case 17:img.src=a.b00.src;break;case 5:case 6:case 9:img.src=a.b00.src;break;case 7:Undo.setImg(img,false);break;}},click:function(ev,img,type,s_id){if(!Img._buttonsLoaded||!img)return;var a=Img.buttons[type],o,m,e;switch(type){case 0:if((e=ev.currentTarget||ev.srcElement))s_id=e.id;case 1:case 2:o=Dec.parse(img.src.substr(img.src.length-5,1));m=2;if(!a.onClick||a.onClick(s_id,(o+1)%m))o=(o+1)%m;if(type!=2)img.src=o==2?a.b12.src:(o==1?a.b11.src:a.b10.src);if(a.afterClick)a.afterClick(s_id);break;case 4:case 17:o=Img.getMouseY(ev,img);if(o>=1&&o<=20&&a.onClick)a.onClick(s_id,o<=10);break;case 5:case 6:case 7:case 9:if(a.onClick)a.onClick(s_id);break;case 8:o=Img.getMouseX(ev,img);if(o>=1&&o<=20&&a.onClick)a.onClick(s_id,o>10);break;}},isChecked:function(e,type){if(!(e=$s(e)))return 0;switch(type){case 0:case 1:case 2:return Dec.parse(e.src.substr(e.src.length-5,1));}return 0;},check:function(e,type,n_set){e=$s(e);if(!Img._buttonsLoaded||!e)return;switch(type){case 0:case 1:case 2:e.src=n_set==2?Img.buttons[type].b02.src:(n_set==1?Img.buttons[type].b01.src:Img.buttons[type].b00.src);break;}},getPicLoc:function(s,b_thumb){var c,p,k=s.indexOf('-');if(k>3){c=Dec.parse(s.substr(k-1,1));c='http://dv1.us';p=s.indexOf('/');if(p>=0)return c+(p>0?'/':'')+s;else if(b_thumb)return c+'/p0/'+s.substr(k-3,3)+'/'+s+'.gif';else return c+'/p1/'+s.substr(k-3,3)+'/'+s+'.jpg';}return '';},getCoord:function(ev,e){var a={x:0,y:0};if(typeof ev.pageY=='undefined'&&typeof ev.clientX=='number'&&document.documentElement){a.x=ev.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;a.y=ev.clientY+document.body.scrollTop+document.documentElement.scrollTop;}else{a.x=ev.pageX;a.y=ev.pageY;}if(e.offsetParent){a.x-=e.offsetLeft;a.y-=e.offsetTop;while(e=e.offsetParent){a.x-=e.offsetLeft;a.y-=e.offsetTop;}}return a;}};var iSearch={_lastPop:'',_lastPreviewReq:'',_lastLoaded:'',attach:function(e){if((e=$s(e)))e.onkeyup=function(ev){return iSearch.onkeyup(ev,this);};if(!$('div_isearch'))iSearch._createDiv();},getLastPopRef:function(){return iSearch._lastPop;},selectorChange:function(key){if(iSearch._lastPop){switch(key){case 'has':case 'dir':case 'pub':case 'xcmy':case 'reg':case 'med':iSearch._lastLoaded='';iSearch._lastPreviewReq='';iSearch.onkeyup(null,$(iSearch._lastPop));break;default:iSearch.close();}}},_createDiv:function(){var d=document.createElement('div'),s=d.style,b=document.getElementsByTagName('body').item(0);d.id='div_isearch';s.visibility='hidden';s.position='absolute';s.top=0;s.left=0;s.zIndex=5;s.padding='0 10px 10px 0';s.filter='shadow(color:gray,strength:10,direction:135)';b.appendChild(d);d.innerHTML="<div style='background:#ffffff'><div style='border:1px solid #b1d3ec'><table width='540'><tr><td style='width:220px;vertical-align:top'><iframe width='220' height='486' scrolling='yes' id='frame_isearch'></iframe></td><td style='vertical-align:top;text-align:center'><img id='ex_www_isearch' src='http://dv1.us/d1/00/bq00.png' alt='Explain' style='float:right;position:relative;top:2px;left:2px;width:17px;height:17px;margin-right:2px' /><div style='padding-top:4px'><a href='javascript:void(iSearch.close())' style='padding-left:6px'>close</a><a href='javascript:void(iSearch.disable())' style='padding-left:8px'>disable</a><a href='javascript:void(iSearch.previewPage(-2))' style='padding-left:36px'>first</a><a href='javascript:void(iSearch.previewPage(-1))' style='padding-left:8px'>prev</a><a href='javascript:void(iSearch.previewPage(1))' style='padding-left:8px'>next</a><a href='javascript:void(iSearch.cookBig(0))' style='padding-left:36px'>[o]</a><a href='javascript:void(iSearch.cookBig(1))' style='padding-left:4px'>[O]</a></div><div id='crit_isearch'></div></td></tr><table></div></div>";},onkeyup:function(ev,e){var n=e.id.substr(0,3)=='str'?Dec.parse(e.id.substr(3)):-1,s=Str.trimL(e.value),c;if(/[<>,|]/.test(s)){iSearch.close();}else{if(n>=0&&s!=''&&(s=s.replace(/</g,'%3C').replace(/>/g,'%3D').replace(/=/g,'%3E').replace(/\x20$/,'/').replace(/\x20+/g,'+'))!=''){c=Search.getLinOpt(n);r=Search.getRegOpt();m=Search.getMedOpt();switch(c){case 'has':case 'dir':case 'pub':r=r=='all'||r==''?'':'&reg='+r;m=m=='all'||m==''?'':'&med='+m;s='?what=counts&key='+c+'&val='+s+r+m+'&target='+n;Ajax.asynchNoDup('isearch','iSearch.__paint',s,0,500);break;}}}return true;},_getPrevIframe:function(){return Win.findFrame('frame_isearch');},_getUniq:function(obj,nocase){return(obj?obj:'V')+'|'+nocase;},_parseHeader:function(s,t){t.key=Ajax.statusTxt(s,'key');t.val=Ajax.statusTxt(s,'val');t.reg=Ajax.statusTxt(s,'reg');t.med=Ajax.statusTxt(s,'med');t.obj=Ajax.statusTxt(s,'obj');t.pg=Ajax.statusTxt(s,'pg');if(t.pg=='')t.pg=1;t.row=Ajax.statusTxt(s,'row');t.last=Ajax.statusTxt(s,'last');t.trg=Ajax.statusTxt(s,'target');t.cnt=Ajax.statusTxt(s,'count');return Ajax.statusErr(t,s);},_parsePaint:function(s,t){var i;s=s.split('\t');if(s.length==4){t.obj=s[1];t.matches=s[2];t.expand=((t.obj=='D'||t.obj=='P')&&s[3]=='N')?1:'';s=s[0];i=s.substr(0,2)=='/ '?2:0;t.nocase=s.substr(i,s.length-2-i);t.title=Str.ucTitle(t.nocase);return true;}return false;},_parseIframeTag:function(s,t){if((s=s.split('|')).length==8){t.key=s[0];t.reg=s[1];t.med=s[2];t.nocase=s[3];t.obj=s[4];t.matches=s[5];t.expand=s[6];t.row=s[7];return t.key!=''&&t.nocase!='';}return false;},_getObjTypeSpan:function(s,b_long){switch(s){case 'A':s=b_long?'ASIN ':"<span class='ig'>ASIN: </span>";break;case 'I':s=b_long?'imdb ':"<span class='ig'>imdb: </span>";break;case 'U':s=b_long?'UPC ':"<span class='ig'>UPC: </span>";break;case 'P':s=b_long?'Publisher ':"<span class='ig'>Pub: </span>";break;case 'D':s=b_long?'Director ':"<span class='ig'>Dir: </span>";break;default:s='';break;}return s;},__paint:function(){if(Ajax.ready()){var a=Ajax.getLines(),t=a.length,b={},x={},s='',f=0,e,i,c,z,y,r;if(iSearch._parseHeader(a[1],b)){iSearch._lastPop='str'+b.trg;$(iSearch._lastPop).setAttribute('zoom_hoz','leftoffset');Pop.open('div_isearch',iSearch._lastPop,542,492,0);if((f=iSearch._getPrevIframe())){if(t>=2&&iSearch._parseHeader(a[1],b)){for(i=2,r=1;i<t&&iSearch._parsePaint(a[i],x);i++,r++){c=i%2?'id':'ie';z=iSearch._getObjTypeSpan(x.obj,0);y=b.key+'|'+b.reg+'|'+b.med+'|'+x.nocase+'|'+x.obj+'|'+x.matches+'|'+x.expand+'|pr'+r;s+="<div id='pr"+r+"' class='"+c+"'><a href='javascript:void(0)' onclick='select(this)' onmouseover='preview(this)' onmouseout='reset()' isearch='"+y+"' class='if'>"+z+x.title+" <span class='ih'> ("+x.matches+")</span></a></div>";}if((z=b.msg)){x='';if(z.indexOf('stopping at')>=0)x=z.replace(/matches/,' lines');else if(z=='no matches found')x='no results found';if(x){c=i%2?'id':'ie';s+="<div class='"+c+"' style='text-align:center'><span class='ii'>... "+x+" ...</span></div>";}}var trg=Filmaf.inputLine;f.write("<html><head><link rel='stylesheet' type='text/css' href='/styles/00/filmaf.css' /><script language='javascript' type='text/javascript'>function select(e) { if ( e && (e = e.getAttribute('isearch')) && e ) parent.iSearch.select(e); };function preview(e) { if ( e && (e = e.getAttribute('isearch')) && e ) parent.iSearch.preview(e,0); };function reset() { parent.iSearch.resetPreview(); };</script></head><body style='background:#ffffff'>"+s+"</body></html>");f.close();}}if(e=$('crit_isearch')){e.innerHTML="<div class='hl' style='padding:60px 20px 0 20px'><div style='padding-bottom:30px'>Move your mouse over a keyword on the left for a preview in this window.</div><div>Make your selection by clicking either on the keyword or on a picture.</div></div>";iSearch._lastLoaded='';}}}},__expand:function(){if(Ajax.ready()){var a=Ajax.getLines(),t=a.length,b={},x={},o,i,f,e,s,y,z,id;if(t>=2&&iSearch._parseHeader(a[1],b)&&b.row&&(id=iSearch._getUniq(b.obj,b.val))==iSearch._lastPreviewReq){if((f=iSearch._getPrevIframe())&&(e=f.getElementById(b.row))){iSearch._lastLoaded=id;s="<div class='lowkey'>"+Dom.decodeHtmlEntities(e.innerHTML)+"</div><div style='padding-left:10px'>";for(i=2;i<t&&iSearch._parsePaint(a[i],x);i++){z=iSearch._getObjTypeSpan(x.obj,0);y=b.key+'|'+b.reg+'|'+b.med+'|'+x.nocase+'|'+x.obj+'|'+x.matches+'||';s+="<div><a href='javascript:void(0)' onclick='select(this)' onmouseover='preview(this)' onmouseout='reset()' isearch='"+y+"' class='if'>"+z+x.title+" <span class='ih'> ("+x.matches+")</span></a></div>";}e.innerHTML=s+"</div>";e.id='';}}}},cookBig:function(b){var e,p;if((b?'Y':'')!=Cookie.get('search_big')){if((e=$('isearch_pg')))p=Dec.parse(e.value);else return;if(b){Cookie.set('search_big','Y');p=(p-1)*16+1;}else{Cookie.del('search_big');p=Math.floor((p-1)/16)+1;}iSearch.preview(0,p);}},previewPage:function(add){var e,p,b;if((e=$('isearch_pg')))p=Dec.parse(e.value);else return;if((e=$('isearch_last')))b=Dec.parse(e.value)!=0;else return;switch(add){case-2:if(p>1){p=1;iSearch.preview(0,p);}break;case-1:if(p>1){p--;iSearch.preview(0,p);}break;case 0:{iSearch.preview(0,p);}break;case 1:if(!b){p++;iSearch.preview(0,p);}break;}},select:function(s){var x={},o='',u='',e;if(iSearch._parseIframeTag(s,x)&&x.nocase){switch(x.key){case 'dir':case 'pub':o=x.key;u='//';break;case 'has':switch(x.obj){case 'A':o='asin';break;case 'I':o='imdb';break;case 'U':o='upc';break;case 'P':o='pub';u='//';break;case 'D':o='dir';u='//';break;default:o='has';u='//';break;}break;}if(o){Search.setLinTxt(0,x.nocase+u);Search.setLinOpt(0,o);if(!Search.isLinPined(1))Search.setLinTxt(1,'');if(!Search.isLinPined(2))Search.setLinTxt(2,'');if(!Search.isLinPined(3))Search.setLinTxt(3,'');iSearch.close();Search.submit();}}},selectPic:function(n){if((n=Dec.parse(n))){n='0000000'+n;n=n.substr(n.length-7,7);Search.setLinTxt(0,n);Search.setLinOpt(0,'has');if(!Search.isLinPined(1))Search.setLinTxt(1,'');if(!Search.isLinPined(2))Search.setLinTxt(2,'');if(!Search.isLinPined(3))Search.setLinTxt(3,'');iSearch.close();Search.submit();}},preview:function(s,pg){var d=1000,x={},id;if(!s){if(!(s=$('isearch_val'))||!(s=s.value))return;iSearch._lastLoaded='';d=200;}if(iSearch._parseIframeTag(s,x)){s=(x.expand?'?what=expand':'?what=dvds')+'&key='+x.key+'&val='+x.nocase+(x.obj?'&obj='+x.obj:'&obj=V')+(x.reg?'&reg='+x.reg:'')+(x.med?'&med='+x.med:'')+(pg>0?'&pg='+pg:'')+(Cookie.get('search_big')=='Y'?'&single=1':'')+(x.expand?'&row='+x.row:'');id=iSearch._getUniq(x.obj,x.nocase);if(iSearch._lastLoaded!=id){iSearch._lastPreviewReq=id;if(x.expand)Ajax.asynchNoDup('isearch','iSearch.__expand',s,0,200);else Ajax.asynchNoDup('isearch','iSearch.__preview',s,0,d);}}},resetPreview:function(){iSearch._lastPreviewReq='';},__preview:function(){function parse(s,t){if((s=s.split('\t')).length==9){t.dvd=s[0];t.pic=s[1]=='-'?'':s[1];t.title=s[2];t.dir=s[3]=='-'?'':s[3];t.pub=s[4]=='-'?'':s[4];t.country=s[5].substr(1,s[5].length-2);t.region=s[6];t.year=s[7];t.media=s[8];return true;}return false;};function getCell(s,b){var t={},i,x,p;if(s&&parse(s,t)){p=t.pic?(b?Img.getPicLoc(t.pic,0):Img.getPicLoc(t.pic,1)):"http://dv1.us/d1/00/pic-no.gif";x=t.title.replace(/<br\x20?\/?>/g,'\n').split('\n');s=x[0];if(t.year>0)s+=' ('+t.year+')';for(i=1;i<x.length;i++)s+='\n'+x[i];if(t.dir)s+='\n'+t.dir;s="<a href='javascript:void(parent.iSearch.selectPic("+t.dvd+"))'><img src='"+p+"' title='"+s+"' /></a>";}else{s="<img src='http://dv1.us/d1/1.gif' style='height:90px;width:63px' />";}return "<td>"+s+"</td>";};if(Ajax.ready()){var a=Ajax.getLines(),t=a.length,e=$('crit_isearch'),s='',b={},i,y,id,z;if(e&&e.style.visibility!='hidden'&&t>=1){if(!iSearch._parseHeader(a[1],b))return;id=iSearch._getUniq(b.obj,b.val);if(id!=iSearch._lastPreviewReq)return;iSearch._lastLoaded=id;if(t>=2){if(Cookie.get('search_big')=='Y'){s+="<tr>"+getCell(a[2],1)+"</tr>";s="<table width='100%'>"+s+"</table>";}else{for(i=0;i<16;i+=4){s+="<tr>"+getCell(i+2<t?a[i+2]:'',0)+getCell(i+3<t?a[i+3]:'',0)+getCell(i+4<t?a[i+4]:'',0)+getCell(i+5<t?a[i+5]:'',0)+"</tr>";}s="<table width='100%'>"+s+"</table>";}z='Matches';}else{s='';z=b.pg>1?'No more matches':'No matches';}y=b.key+'|'+b.reg+'|'+b.med+'|'+b.val+'|'+b.obj+'|||';e.innerHTML="<div class='ig' style='text-align:left;padding:10px 2px 4px 2px'>"+z+" for &quot;"+iSearch._getObjTypeSpan(b.obj,1)+Str.ucTitle(b.val)+"&quot;<input type='hidden' id='isearch_val' value='"+y+"'><input type='hidden' id='isearch_pg' value='"+b.pg+"'><input type='hidden' id='isearch_last' value='"+b.last+"'></div>"+s;}}},close:function(){Pop.close('div_isearch');iSearch._lastPop='';},disable:function(){Cookie.amend('search','noisearch','1');iSearch.close();Search.loadPreferences();Search.paint(1,0);}};var Menus={setup:function(){if($('main-menu'))DynarchMenu.setup('main-menu',{lazy:true,electric:1000,tooltips:true,scrolling:true});if($('context-menu'))Context.setup();if($('search'))Search.setup(1);if(Filmaf.attachExplains)Explain.attach();},cloneNav:function(){var e,f;if((e=$('nav_top'))&&(f=$('nav_bop'))){f.innerHTML=e.innerHTML.replace(/<td width=.8%.><select.*\/select><\/td>/i,'').replace(/sz_page_0/,'sz_page_1').replace(/ex_www_titles_disks_0/,'ex_www_titles_disks_1').replace(/ex_www_dvd_cart_0/,'ex_www_dvd_cart_1').replace(/cart_count_0/,'cart_count_1').replace(/dp_jump_0/,'dp_jump_1');}}};var MiniSearch={display:function(form,what){var s=form[what+'_search']?form[what+'_search'].value:'',r=Dom.getChildrenByType(form,'div');if(r.length>0){s=Str.trim(s).replace(/</g,'%3C').replace(/>/g,'%3D').replace(/=/g,'%3E').replace(/\x20+/g,'+');if(s){s_get='?what='+what+'&parm='+s+'&target='+Filmaf.inputLine;Ajax.asynchNoDup('search-comp','MiniSearch.__search',s_get,0,1000);}}return true;},__search:function(){if(Ajax.ready()){var o={},mod='',trg='',cnt='',c='',s='',a,i;if(Ajax.getParms(o)){mod=Ajax.statusTxt(o.line1,'what');trg=Ajax.statusTxt(o.line1,'target');cnt=Ajax.statusTxt(o.line1,'count');}s="<html><head><link rel='stylesheet' type='text/css' href='/styles/00/filmaf.css' /><script language='javascript' type='text/javascript'>function html_entities_decode(s){var d = document.createElement('div');d.innerHTML = s;return document.all ? d.innerText : d.textContent;};function retName(s){s = html_entities_decode(s.innerHTML);if ( s ) parent.setSearchVal('"+mod+"', '"+trg+"',s);return false;};</script></head><body>";if(o.err){s+=o.err;}else{for(i=2;i<o.length;i++){c=i%2?'':" style='background-color:#e5f6e5'";if(o.lines[i].substr(0,6)=='</div>')break;s+="<div"+c+"><a href='javascript:void(0)' onclick='retName(this)'"+c+">"+o.lines[i]+"</a></div>";}if(o.msg){s+="<div class='dvd_cmts'"+c+">&lt;"+o.msg+"&gt;</div>";}}s+='</body></html>';if((a=Win.findFrame('frame_'+mod))){a.write(s);a.close();}}}};var Pop={open:function(e,f,dx,dy,hid){var r={},yi,yf;e=$s(e);if(hid==1)if(e.style.visibility!='hidden')e.style.visibility='hidden';switch(hid){case 0:case 1:f=$s(f);r=Context.getPopupPos(f,dx,dy);e.style.right='';e.style.left=r.x+'px';if(hid==1&&r.bot_y){e.style.top='';e.style.bottom=(r.bot_y-r.beg_y)+'px';}else{e.style.bottom='';e.style.top=r.y+'px';}break;case 2:yi=DynarchMenu.psTop();r=Context.getPos(e);if(r.y<yi){e.style.bottom='';e.style.top=yi+'px';}break;case 3:r.y=DynarchMenu.psTop()+10;r.x=DynarchMenu.psLeft()+(DynarchMenu.getWinSize().x-dx)/2;e.style.right='';e.style.left=r.x+'px';e.style.bottom='';e.style.top=r.y+'px';break;}if(hid!=1)if(e.style.visibility!='visible')e.style.visibility='visible';},close:function(e){if((e=$s(e))&&e.style.visibility!='hidden'){e.style.visibility='hidden';return true;}return false;}};var Search={_categories:['has','pricele','pricege','asin','imdb','upc','dir','pub','pubct','genre','rel','reldt','year','lang','pic','src','created'],_context:{has:'menu-title-has',pricele:'menu-priced-below',pricege:'menu-priced-above',asin:'menu-amz-asin',imdb:'menu-imdb',upc:'menu-upc',dir:'menu-director',pub:'menu-publisher',pubct:'menu-country',genre:'menu-genre',med:'menu-media',rel:'menu-released',reldt:'calendar',year:'menu-year',lang:'menu-language',pic:'menu-picture',src:'menu-source',created:'calendar'},appending:{cnt:false,gen:false,rel:false,lan:false,src:false,pic:false},criteria:{cnt:'Publisher\'s Country',gen:'Genre',rel:'Release Status',lan:'Language',src:'Source',pic:'Picture'},calendars:{},form:'q1',lines:4,_myregion:'',_mymedia:'',_pins:0,_noisearch:0,_expert:0,_flipexcl:0,_more:0,_incmine:0,_getMore:function(){var m=$('more');return m?Dec.parse(m.value):0;},_getLines:function(){var n=Search._getMore();return n?Search.lines:1;},_getLinesH:function(){return Search._expert?Search.lines:1;},getCatNdx:function(v){return Arrays.indexFromVal(Search._categories,v);},isLinPined:function(i){return Search._pins&&Img.getPin('pin'+i);},isRegPined:function(){return Search._pins&&Img.getPin('pinR');},isMedPined:function(){return Search._pins&&Img.getPin('pinM');},isXmyPined:function(){return Search._pins&&Img.getPin('pinX');},getRegOpt:function(){return DropDown.getSelValue('optR');},getMedOpt:function(){return DropDown.getSelValue('optM');},getLinOpt:function(i){return DropDown.getSelValue('opt'+i);},setLinTxt:function(i,s){Edit.setStr('str'+i,s);},setLinOpt:function(i,s){DropDown.selectFromVal('opt'+i,s);},create:function(){Search.loadPreferences();Search.paint(0,1);},loadPreferences:function(){var c=Cookie.explode('search',0);Search._myregion=c.myregion?c.myregion:'us';Search._mymedia=c.mymedia?c.mymedia:'all';Search._pins=c.pins||Cookie.get('pinned')?1:0;Search._noisearch=c.noisearch?1:0;Search._expert=c.expert?1:0;Search._flipexcl=c.flipexcl?1:0;Search._more=c.more?1:0;Search._incmine=c.incmine?1:0;},paint:function(b_ignore_parms,b_create){var s_reg=" Region <select id='optR' onchange='Search.selectorChange(this)'><option value='us'>us</option><option value='uk'>uk</option><option value='eu'>eu,af</option><option value='la'>lam</option><option value='as'>asia</option><option value='sa'>sea</option><option value='jp'>jp</option><option value='au'>au,nz</option><option value='z'>0</option><option value='1'>1</option><option value='1,a,0'>1,A,0</option><option value='2'>2</option><option value='2,b,0'>2,B,0</option><option value='3'>3</option><option value='4'>4</option><option value='5'>5</option><option value='6'>6</option><option value='a'>A</option><option value='b'>B</option><option value='c'>C</option><option value='all'>all</option></select>"+Search._getPinCtrl('pinR',Search._pins),s_med=" Media <select id='optM' onchange='Search.selectorChange(this)'><option value='all'>all</option><option value='d,v'>dvd</option><option value='b,3,2,r'>blu-ray</option><option value='3'>blu-ray 3D</option><option value='h,c,t'>hd dvd</option><option value='a,p,o'>other</option><option value='f,s,l,e,n'>film</option></select>"+Search._getPinCtrl('pinM',Search._pins),s_mine=(Filmaf.userCollection?' '+"<input type='checkbox' id='xcmy' /><a href='javascript:void(Search.flipExclMine())'><img src='http://dv1.us/d1/00/"+(Filmaf.userCollection&&Search._incmine?'be00':'be01')+".png' height='20' width='32' id='xcmyp' /></a>"+Search._getPinCtrl('pinX',Search._pins):''),s_go="<a href='javascript:void(Search.submit())' title='Click here to perform the search'>Go</a>",s_clear="<a href='javascript:void(Search.clear())' title='Reset search to member preferences'>Clear</a>",s_options="<a href='javascript:void(0)' title='Present search preferences' id='edit_search'>Options</a>",e=$('search'),b_expand=Search._more&&Search._expert,x={},s,td,b;if(!e)return;b=Search._getParms(x,b_ignore_parms);if(b&&!b_expand)b_expand=1;s="<form id='"+Search.form+"' name='"+Search.form+"' action='javascript:void(0)' method='get' onsubmit='return Search.submit()'><ul><li>"+Search._getSelCtrl(0,x.str[0],0)+' '+s_go+" / "+s_clear+" / "+s_options+s_reg+s_med+s_mine;if(Search._expert||b_expand){if(b_expand){s+="<a href='javascript:void(Search._expand(0))' title='Show fewer search parameters'>&lt;&lt;Less</a><input type='hidden' id='more' value='1' /></li><li>"+Search._getSelCtrl(1,x.str[1],0)+" / "+Search._getSelCtrl(2,x.str[2],0)+" / "+Search._getSelCtrl(3,x.str[3],0);}else{s+="<a href='javascript:void(Search._expand(1))' title='Show more search parameters'>More&gt;&gt;</a><input type='hidden' id='more' value='0' />"+Search._getSelHidden(1,x.opt[1],x.str[1],x.pin[1])+Search._getSelHidden(2,x.opt[2],x.str[2],x.pin[2])+Search._getSelHidden(3,x.opt[3],x.str[3],x.pin[3]);}}e.innerHTML=s+"</li></ul></form>";if($(Search.form)){DropDown.selectFromVal('optR',x.optR);DropDown.selectFromVal('optM',x.optM);DropDown.selectFromVal('opt0',x.opt[0]);if(b_expand){DropDown.selectFromVal('opt1',x.opt[1]);DropDown.selectFromVal('opt2',x.opt[2]);DropDown.selectFromVal('opt3',x.opt[3]);}if(Search._pins){Search._setPin('R',x.pinR,0);Search._setPin('M',x.pinM,0);Search._setPin('X',x.pinX,0);Search._setPin(0,x.pin[0],1);if(b_expand){Search._setPin(1,x.pin[1],1);Search._setPin(2,x.pin[2],1);Search._setPin(3,x.pin[3],1);}}CheckBox.setVal('xcmy',x.xcmy);Search._disableXcmy(x.pinX);if(!b_create)setTimeout("Search.setup(0)",200);}},_setPin:function(e,v,b_txt){var tx,bk,f;Img.setPin('pin'+e,v);v=v!=false;tx=v?'#999999':'#0066b2';bk=v?'#eeeeee':'#ffffff';if((f=$('opt'+e))){f.disabled=v;f.style.color=tx;f.style.background=bk;}if(b_txt&&(f=$('str'+e))){f.readOnly=v;f.style.color=tx;f.style.background=bk;}},_disableXcmy:function(v){if((e=$('xcmy'))){e.disabled=v=v!=false;e.style.color=v?'#999999':'#0066b2';}},_getSelCtrl:function(i,s,pin){return "<select onchange='Search.selectorChange(this)' id='opt"+i+"'><option value='has'>title</option><option value='pricele'>priced below</option><option value='pricege'>priced above</option><option value='asin'>Amz ASIN</option><option value='imdb'>imdb</option><option value='upc'>UPC</option><option value='dir'>director</option><option value='pub'>publisher</option><option value='pubct'>pub country</option><option value='genre'>genre</option><option value='med'>media type</option><option value='rel'>release status</option><option value='reldt'>release dt</option><option value='year'>year</option><option value='lang'>language</option><option value='pic'>picture status</option><option value='src'>source</option><option value='created'>created dt</option></select> <input type='text' size='12' title='Type your search string here' autocomplete='off' onkeypress='return Search.submitOnEnter(event)' zoom_ver='down' id='str"+i+"' value='"+s+"' /><input type='hidden' value='' id='hid"+i+"' /><img src='http://dv1.us/d1/00/bm00.gif' onmouseover='Img.mouseOver(event,this,3)' onmouseout='Img.mouseOut(this,3)' height='14' width='14' alt='help' id='hp"+i+"' />"+Search._getPinCtrl('pin'+i,pin);},_getSelHidden:function(i,opt,str,pin){return "<input type='hidden' id='opt"+i+"' value='"+opt+"' /><input type='hidden' id='str"+i+"' value='"+str+"' />";},_getPinCtrl:function(id,b){return b?"<img src='http://dv1.us/d1/00/bp00.gif' onmouseover='Img.mouseOver(event,this,0)' onmouseout='Img.mouseOut(this,0)' onclick='Img.click(event,this,0,0)' height='15' width='17' alt='pin' id='"+id+"' />":'';},setup:function(b_calendar){if(b_calendar)SearchCalendar.setup();Search._attachHelpers();Search.focus();},_attachHelpers:function(){for(var i=0;i<Search._getLines();i++)Search._attachHelper(i,Search.getLinOpt(i));Context.attach('edit_search',false,'menu-search-options');},_attachHelper:function(i,c){Context.attach('hp'+i,false,Search._context[c],i);if(!Search._noisearch&&i==0)iSearch.attach('str'+i,c);},_expand:function(b_expand){Search._more=b_expand?1:'';Cookie.amend('search','more',Search._more);Search.paint(1,0);},_getParms:function(x,b_ignore_parms){if(b_ignore_parms){Search._loadCtrlParms(x,1);}else{Search._clearParms(x);var s=Url.getVal('init_form');if(s){x.optR='all';Search._loadStrParms(x,Url.getVal('init_form'),0);}if(Search._pins)Search._loadStrParms(x,Cookie.get('pinned'),1);if(x.str[1]||x.str[2]||x.str[3])return true;}return false;},_clearParms:function(x){x.optR=Search._myregion;x.optM=Search._mymedia;x.xcmy=0;x.pinR=0;x.pinM=0;x.pinX=0;x.opt=[0,0,0,0];x.str=['','','',''];x.pin=[0,0,0,0];},_loadStrParms:function(x,c,b_pinned){var i,a;c=Cookie.explodeStr(c,1);for(i=0;i<c.length;i++){a=c[i].val.split('_');switch(c[i].key){case 'rgn':Search._prepParm(a,0);x.optR=a[0];if(b_pinned)x.pinR=1;break;case 'med':Search._prepParm(a,0);x.optM=a[0];if(b_pinned)x.pinM=1;break;case 'xcmy':Search._prepParm(a,0);switch(a[0]){case '1':x.xcmy=1;Search._incmine=0;break;case '2':x.xcmy=1;Search._incmine=1;break;case '0':x.xcmy=0;break;}if(b_pinned)x.pinX=1;break;case 'str0':Search._prepParm(a,1);x.opt[0]=a[0];x.str[0]=a[1];if(b_pinned)x.pin[0]=1;break;case 'str1':Search._prepParm(a,1);x.opt[1]=a[0];x.str[1]=a[1];if(b_pinned)x.pin[1]=1;break;case 'str2':Search._prepParm(a,1);x.opt[2]=a[0];x.str[2]=a[1];if(b_pinned)x.pin[2]=1;break;case 'str3':Search._prepParm(a,1);x.opt[3]=a[0];x.str[3]=a[1];if(b_pinned)x.pin[3]=1;break;}}},_prepParm:function(a,b_opt){var i=a.length>(b_opt?2:1)?1:0;if(b_opt){a[0]=a[i];a[1]=decodeURIComponent(a[i+1]).replace(/\+/g,' ').replace(/\%3[Cc]/g,'<').replace(/\%3[Dd]/g,'>').replace(/\%3[Ee]/g,'=');}else{a[0]=a[i];}},_loadCtrlParms:function(x,b_hidden){var n=Search._getLines(),t=Search._getLinesH();Search._clearParms(x);x.optR=DropDown.getSelValue('optR');x.optM=DropDown.getSelValue('optM');x.xcmy=CheckBox.getVal_1('xcmy');for(i=0;i<n;i++){x.opt[i]=DropDown.getSelValue('opt'+i);x.str[i]=Edit.getStr('str'+i);if(Search._pins)x.pin[i]=Search.isLinPined(i);}if(b_hidden){for(;i<t;i++){x.opt[i]=Edit.getStr('opt'+i);x.str[i]=Edit.getStr('str'+i);x.pin[i]=0;}}if(Search._pins){x.pinR=Search.isRegPined();x.pinM=Search.isMedPined();x.pinX=Search.isXmyPined();}},focus:function(){var e=$('str0');if(e){if(e.focus)e.focus();if(e.select)e.select();}},submitOnEnter:function(ev){var key=window.event?window.event.keyCode:(ev?ev.which:null);if(key==13){Search.submit();return false;}return true;},setAppend:function(mode,s){Search.appending[mode]=s;},isPinned:function(){if(Search._pins){if(Search.isRegPined()||Search.isMedPined()||Search.isXmyPined())return true;var n=Search._getLines();for(i=0;i<n;i++)if(Search.isLinPined(i)&&Edit.getStr('str'+i)!='')return true;}return false;},clear:function(){var n=Search._getLines(),t=Search._getLinesH(),i;if(!Search.isRegPined())DropDown.selectFromVal('optR',Search._myregion);if(!Search.isMedPined())DropDown.selectFromVal('optM',Search._mymedia);if(!Search.isXmyPined())CheckBox.setVal('xcmy',0);for(i=0;i<n;i++){if(!Search.isLinPined(i)){DropDown.selectFromIndex('opt'+i,0);Edit.setStr('str'+i,'');}}for(;i<t;i++){Edit.setStr('opt'+i,'has');Edit.setStr('str'+i,'');Edit.setStr('pin'+i,'0');}Search._attachHelpers();iSearch.close();setTimeout('Search.focus();',100);},flipExclMine:function(){if(!Search.isXmyPined()&&Filmaf.userCollection){if(Search._flipexcl){Search._incmine=Search._incmine?0:1;Cookie.amend('search','incmine',Search._incmine);$('xcmyp').src=Search._incmine?'http://dv1.us/d1/00/be00.png':'http://dv1.us/d1/00/be01.png';}else{CheckBox.setVal('xcmy',!CheckBox.getVal_1('xcmy'));}}},selectorChange:function(e){var s,i,o;switch(e.id){case 'optR':iSearch.selectorChange('reg');break;case 'optM':iSearch.selectorChange('med');break;case 'opt0':case 'opt1':case 'opt2':case 'opt3':i=Dec.parse(e.id.substr(3,1));o=Search.getLinOpt(i);Search._attachHelper(i,o);if((s=iSearch.getLastPopRef())&&s.substr(3,1)==i)iSearch.selectorChange(o);break;}},setSearch:function(ctx,opt,val){var n=Search._getLines(),i;Search.clear();for(i=0;val!=''&&i<n;i++){if(!Search.isLinPined(i)){DropDown.selectFromVal('opt'+i,opt);Edit.setStr('str'+i,val);val='';}}if(val!=''){alert('Please make sure that at least one search strings remains\nunpinned when performing a contextual search.');}else{switch(ctx){case 'filmaf':Search.submit();break;case 'mine':Search.submit(Filmaf.userCollection);break;case 'this':Search.submit(Filmaf.viewCollection);break;}}},savePin:function(id){var t=Search._getLines(),s='',b,c,x,i;if((b=Search.isRegPined()))s+='*rgn_'+DropDown.getSelValue('optR');Search._setPin('R',b,0);if((b=Search.isMedPined()))s+='*med_'+DropDown.getSelValue('optM');Search._setPin('M',b,0);if((b=Search.isXmyPined()))s+='*xcmy_'+(CheckBox.getVal_1('xcmy')?(Search._incmine?'2':'1'):'0');Search._disableXcmy(b);for(i=0;i<t;i++){if((b=c=Search.isLinPined(i))){x=Str.trim(Edit.getStr('str'+i).replace(/[\s]+/g,' ').replace(/[\x00-\x1F\x7F\x27]/g,'').replace(/[\x22#$()\*\+:;\?@\[\\\]\x5E_\x60{}~]/g,' '));if(x!=null&&x!=''){x=s+'*str'+i+'_'+DropDown.getSelValue('opt'+i)+'_'+x;if(x.length>101)b=0;else s=x;}else{b=0;}if(!b){}}Search._setPin(i,b,1);}s=s.substr(1);if(s)Cookie.set('pinned',s);else Cookie.del('pinned');Ajax.asynch('pin','Ajax.__ignore','?pin='+s);},submit:function(s_extra_where){var n=Search._getLines(),s_week='',a_form={},a_search={},o_focus=null,o_value=null,b_fatal=false,s,i,a,b;if(!$(Search.form))return;for(i=0;i<n;i++){b=Search.isLinPined(i);a=$('str'+i);a.color=b?'#999999':'#0066b2';a.background=b?'#eeeeee':'#ffffff';}for(i=0;i<n;i++)if(!Search.isLinPined(i))ff_line_option('str'+i,Search.getLinOpt(i),$('str'+i));if(!Search.isXmyPined()&&(b=CheckBox.getVal_1('xcmy'))){a_form['xcmy']=Search._incmine?'2':'1';ff_queue('where',Search._incmine?'=':'!=',Filmaf.userCollection);}else{if(s_extra_where)ff_queue('where','=',s_extra_where);}if(!Search.isRegPined()&&(a=Search.getRegOpt())&&a!='all'){a_form['rgn']=a;ff_queue('rgn','=',a);}if(!Search.isMedPined()&&(a=Search.getMedOpt())&&a!='all'){a_form['med']=a;ff_queue('med','=',a);}if(!b_fatal){var s_search='',s_form='',s_key;for(s_key in a_form)s_form+=s_key+'_'+encodeURIComponent(a_form[s_key].replace(/\t/g,'_').replace(/\n/g,'*'))+'*';for(s_key in a_search)s_search+=s_key+'='+encodeURIComponent(a_search[s_key])+'&';if(s_search!=''){s_form=s_form.substr(0,s_form.length-1).replace(/(\%20)+/g,'+').replace(/(\%25)+/g,'%2525');s_search=s_search.substr(0,s_search.length-1).replace(/(\%20)+/g,'+');s_search=s_search+'&init_form='+s_form;}if(Filmaf.hasRelWeek&&s_search){s=Url.getVal('week');if(DateTime.isStrValid(s,1980,new Date().getFullYear()+1))s_week=s+'&'+s_search;else if(s=='')s_week=s_search;}if(s_week)location.href=Filmaf.baseDomain+'/releases.html'+(s_week?'?'+s_week:'');else if(s_search)location.href=Filmaf.baseDomain+'/search.html?'+s_search;}return false;function ff_line_option(s_field,s_key,o_value){var s_value=Str.trim(o_value.value.replace(/[\s]+/g,' ').replace(/[\x00-\x1F\x7F\x27]/g,'').replace(/[\x22#$()\*\+:;\?@\[\\\]\x5E_\x60{}~]/g,' '));if(s_value==null||s_value=='')return;o_value.value=s_value;a_form[s_field]=s_key+'\t'+s_value;o_focus=o_value;{var o_token=new Token(/([a-z_]*)\x20*([!=<>][!=<>]*)\x20*/,s_value,ff_valid_key,ff_norm_oper,s_key);while(o_token.f_next())ff_queue(o_token.s_key,o_token.s_oper,o_token.s_token);}o_focus=null;};function ff_valid_key(a_keys,s_default_key){if(a_keys){if(a_keys[1]==''){switch(s_default_key){case 'pricege':case 'pricele':a_keys[1]='price';break;default:a_keys[1]=s_default_key;break;}}switch(a_keys[1]){case 'has':case 'price':case 'asin':case 'imdb':case 'upc':case 'dir':case 'pub':case 'pubct':case 'genre':case 'rel':case 'reldt':case 'year':case 'lang':case 'pic':case 'src':case 'created':case 'rgn':case 'med':case 'ord':a_keys[2]=ff_norm_oper(a_keys[2]);if(a_keys[2])return true;break;}}return false;};function ff_norm_oper(s){switch(s){case '':case '==':case '=':return '=';case '=>':case '>=':return '>=';case '>':return '>';case '=<':case '<=':return '<=';case '<':return '<';case '<>':case '!=':return '!=';}return false;};function ff_alert(o_value,s_alert){if(o_value.b_warn&&s_alert)Validate.warn(o_focus,o_value.b_focus,o_value.b_fatal,s_alert,false);};function ff_valid_tit(o_value,re_delimiter,f_validate){var s=o_value.s_value,re=/([0-9])[,\.]([0-9]{3}([^0-9]|$))/,m;while((m=re.exec(s))){m=m.index;s=s.substr(0,m+1)+s.substr(m+2,s.length-m-2);}o_value.s_value=s;return ff_valid_multi(o_value,re_delimiter,f_validate);};function ff_valid_multi(o_value,re_delimiter,f_validate){var s_value_ori=o_value.s_value,o_token=new Token(re_delimiter,o_value.s_value,null,null,''),b_no_candidates=true,s_value='';while(o_token.f_next()&&!o_value.b_fatal){o_value.s_value=o_token.s_token;f_validate(o_value);s_value+=o_value.s_value+',';b_no_candidates=false;}if(b_no_candidates){o_value.s_value=s_value_ori;f_validate(o_value);o_value.b_fatal=true;}o_value.s_value=s_value!=''?s_value.substr(0,s_value.length-1):'';};function ff_valid_one(o_value,s_kind){var s_value=o_value.s_value.replace(/[^A-Za-z0-9-]/g,''),b_valid=false,s_match='';if(s_value!=''){switch(s_kind){case 'genre':s_match='-:action:action-comedy:action-crime:action-disaster:action-epic:action-espionage:action-martialarts:action-military:action-samurai:action-nosub:animation:animation-cartoons:animation-family:animation-mature:animation-puppetrystopmotion:animation-scifi:animation-superheroes:animation-nosub:anime:anime-action:anime-comedy:anime-drama:anime-fantasy:anime-horror:anime-mahoushoujo:anime-martialarts:anime-mecha:anime-moe:anime-romance:anime-scifi:anime-nosub:comedy:comedy-dark:comedy-farce:comedy-horror:comedy-romantic:comedy-satire:comedy-scifi:comedy-screwball:comedy-sitcom:comedy-sketchesstandup:comedy-slapstick:comedy-teen:comedy-nosub:documentary:documentary-biography:documentary-crime:documentary-culture:documentary-entertainment:documentary-history:documentary-nature:documentary-propaganda:documentary-religion:documentary-science:documentary-social:documentary-sports:documentary-travel:documentary-nosub:drama:drama-courtroom:drama-crime:drama-docudrama:drama-melodrama:drama-period:drama-romance:drama-sports:drama-war:drama-nosub:educational:educational-children:educational-school:educational-nosub:erotica:erotica-hentai:erotica-nosub:experimental:exploitation:exploitation-blaxploitation:exploitation-nazisploitation:exploitation-nunsploitation:exploitation-pinkueiga:exploitation-sexploitation:exploitation-shockumentary:exploitation-wip:exploitation-nosub:fantasy:filmnoir:horror:horror-anthology:horror-creatureanimal:horror-espghosts:horror-eurotrash:horror-exploitation:horror-gialli:horror-goreshock:horror-gothic:horror-possessionsatan:horror-shockumentary:horror-slashersurvival:horror-vampires:horror-zombiesinfected:horror-otherundead:horror-nosub:music:music-liveinconcert:music-musicvideos:music-nosub:musical:performing:performing-circus:performing-concerts:performing-dance:performing-operas:performing-theater:performing-nosub:scifi:scifi-alien:scifi-alternatereality:scifi-apocalyptic:scifi-cyberpunk:scifi-kaiju:scifi-lostworlds:scifi-military:scifi-otherworlds:scifi-space:scifi-spacehorror:scifi-superheroes:scifi-utopiadystopia:scifi-nosub:short:silent:silent-animation:silent-horror:silent-melodrama:silent-slapstick:76800:silent-western:silent-nosub:sports:sports-baseball:sports-basketball:sports-biking:sports-fitness:sports-football:sports-golf:sports-hockey:sports-martialarts:sports-motorsports:sports-olympics:sports-skateboard:sports-skiing:sports-soccer:sports-tennis:sports-wrestling:sports-nosub:suspense:suspense-mystery:suspense-thriller:suspense-nosub:war:war-uscivilwar:war-wwi:war-wwii:war-korea:war-vietnam:war-postcoldwar:war-other:war-nosub:western:western-epic:western-singingcowboy:western-spaghetti:western-nosub:dvdaudio:other:other-digitalcomicbooks:other-gameshows:other-games:other-nosub:unspecifiedgenre:';break;}b_valid=s_match.indexOf(':'+s_value+':')>0;}o_value.b_fatal=o_value.b_fatal||!b_valid;o_value.s_value=s_value;return!o_value.b_fatal;};function ff_valid_match(o_value,s_kind){var s_value=o_value.s_value.replace(/[^A-Za-z0-9]/g,''),s_match='',n_count=0;if(s_value!=''){switch(s_kind){case 'language':if(s_value=='missing')break;n_count=2;s_match='-:en:_english:am:_armenian:ar:_arabic:bg:_bulgarian:bn:_indianbengali:br:_portuguesebrazilian:br:_brazilian:ca:_frenchcanadian:cs:_chineseshanghainese:ct:_chinesecantonese:ct:_cantonese:cz:_czech:de:_german:de:_ge:dk:_danish:eo:_esperanto:es:_spanish:es:_sp:et:_estonian:fa:_farsi:fa:_persian:fi:_finnish:fr:_french:ge:_georgian:gr:_greek:he:_hebrew:hi:_indianhindi:hi:_hindi:ho:_chinesehokkien:ho:_hokkien:hu:_hungarian:id:_bahasaindonesia:id:_indonesia:il:_yiddish:in:_indianothers:is:_icelandic:it:_italian:jp:_japanese:kh:_khmer:kl:_klingon:kr:_korean:ku:_kurdish:kz:_kazakh:la:_latin:lt:_lithuanian:lv:_latvian:ma:_chinesemandarin:ma:_mandarin:mk:_macedonian:ml:_indianmalayalam:ml:_malayalam:mn:_mongolian:my:_bahasamalaysia:my:_malaysian:nl:_dutch:no:_norwegian:nz:_aramaic:ot:_other:ph:_filipino:pl:_polish:pt:_portuguese:pu:_indianpunjabi:pu:_punjabi:rm:_romani:ro:_romanian:ru:_russian:sc:_serbocroatian:se:_swedish:si:_slovenian:sk:_slovak:sl:_silent:ta:_indiantamil:ta:_tamil:te:_indiantelugu:te:_telugu:th:_thai:tr:_turkish:tw:_chinesetaiwanese:tw:_taiwanese:uk:_ukrainian:un:_unknown:ur:_indianurdu:ur:_urdu:ve:_catalan:vi:_vietnamese:';break;case 'country':if(s_value=='missing')break;n_count=2;s_match='-:us:_unitedstates:ar:_argentina:at:_austria:au:_australia:be:_belgium:br:_brazil:ca:_canada:ch:_switzerland:cl:_chile:cn:_china:cu:_cuba:cz:_czechrepublic:cz:_czech:de:_germany:de:_ge:dk:_denmark:ee:_estonia:es:_spain:es:_sp:fi:_finland:fr:_france:gr:_greece:hk:_hongkong:hr:_croatia:hu:_hungary:id:_indonesia:il:_israel:in:_india:is:_iceland:it:_italy:jp:_japan:kr:_southkorea:kr:_korea:lt:_lithuania:mk:_macedonia:mx:_mexico:my:_malaysia:nl:_netherlands:no:_norway:nz:_newzealand:ph:_philippines:pl:_poland:pt:_portugal:ro:_romania:rs:_serbia:ru:_russianfederation:ru:_russia:se:_sweden:sg:_singapore:si:_slovenia:sk:_slovakia:th:_thailand:tr:_turkey:tw:_taiwan:uk:_unitedkingdom:un:_unknown:za:_southafrica:';break;default:s_value='';break;}if(n_count>0){var n_index=s_match.indexOf(':'+s_value+':');if(!(n_index>0)){n_index=s_match.indexOf(':_'+s_value+':');s_value=n_index>0?s_match.substr(n_index-n_count,n_count):'';}}}o_value.b_fatal=o_value.b_fatal||s_value=='';o_value.s_value=s_value;return!o_value.b_fatal;};function ff_valid_title(o_value){var s_value=o_value.s_value.replace(/^(the|an|a)[\s,]/,'').replace(/^[\s]+/,''),b_article_stripped=s_value!=o_value.s_value,b_changed_to_begin=false,b_too_small=s_value.length<3;if(b_article_stripped||b_changed_to_begin||b_too_small){o_value.b_fatal=o_value.b_fatal||b_too_small;ff_alert(o_value,((b_too_small?'You need to specify at least 3 characters for a Title Has search. We only got '+s_value.length+' ("'+s_value+'").\n\n':'')+(b_article_stripped?'Your article ("'+Str.trim(o_value.s_value.substr(0,o_value.s_value.length-s_value.length))+'") was stripped'+(b_too_small?'.\n\n':(b_changed_to_begin?' and your "title has" condition changed to a "title begins"':'')+'.\nYou are now searching for "'+s_value+'".\n\n')+'Articles (la, le, l\', les, un, une, die, der, das...) at the beginning of a title are\nusually not searchable. English articles (a, an, the) are automatically stripped.\n\n':'')+'You can also:\n   - Specify a Director by typing "dir=Renoir"\n   - Specify a Publisher by typing "pub=Criterion"\n   - OR values by separating them with commas (",")\n   - AND values by specifying multiple search strings with the button "More>>"'));}o_value.s_value=s_value;};function ff_valid_price(o_value){var s_value=Dbl.parseBounded(o_value.s_value,0,1000,false,true);if(s_value===false){o_value.b_fatal=true;ff_alert(o_value,'A price must be a non-negative number no larger than 1,000 with up to two decimal digits.\nYou entered "'+o_value.s_value+'".\n\nYou can also precede the price value by an operator (>, >=, <, <=, =, !=).\n    - Step 1: select either "priced below" or "priced above" and...\n    - Step 2: enter ">= 5 <= 10" to get DVDs priced between 5 and 10 US$.');}o_value.s_value=s_value;};function ff_valid_asin(o_value){var s_value=o_value.s_value.toLowerCase(),b_10_digits=s_value.length==10,b_changed_o=false,b_unlikelly=false;if(b_10_digits){if(s_value.substr(0,1)=="b"){b_unlikelly=s_value.match(/^b00[0-9a-z]{7}$/)==null;if(b_unlikelly){b_changed_o=s_value;if(s_value.substr(1,1)=="o")s_value=s_value.substr(0,1)+'0'+s_value.substr(2,8);if(s_value.substr(2,1)=="o")s_value=s_value.substr(0,2)+'0'+s_value.substr(3,7);if(s_value.substr(3,1)=="o")s_value=s_value.substr(0,3)+'0'+s_value.substr(4,6);if(s_value.substr(4,1)=="o")s_value=s_value.substr(0,4)+'0'+s_value.substr(5,5);b_unlikelly=s_value.match(/^b00[0-9a-z]{7}$/)==null;if(b_unlikelly)s_value=b_changed_o;b_changed_o=b_changed_o!=s_value;}}else b_unlikelly=s_value.match(/^[016][0-9]{8}[0-9x]$/)==null;}if(!b_10_digits||b_unlikelly||b_changed_o){o_value.b_fatal=o_value.b_fatal||s_value.length<5;ff_alert(o_value,(b_unlikelly?'The value you entered, "'+s_value+'", is probably not a\nvalid ASIN. If you do not find the DVD you are looking\nfor please check it to see if there is a typo.\n\n':(b_changed_o?'We have replaced one or more letters "o" in your search\nstring with the number zero.\n\n':''))+(!b_10_digits?'The value you entered, "'+s_value+'", is not 10 characters\nin length. A partial match with a string of 5 or more\ncharacters is allowed in which case the search will proceed.\n\n':'')+'An ASIN is how Amazon.com and their international sites\nidentify a title. Most ASINs start with "B" followed by\n2 or more zeros; a few are all numbers and some end with\nan "X", but they are all 10 characters in length.');}o_value.s_value=s_value;};function ff_valid_imdb(o_value){var s_value=o_value.s_value.replace(/[^0-9-]+/g,','). replace(/,0+/g,','). replace(/,+/g,','). replace(/^,/,''). replace(/,$/,'');if(s_value==''){o_value.b_fatal=true;ff_alert(o_value,'An imbd id is the 7-digit number for a film in the Internet Movie DataBase.\nFor example, "http://www.imdb.com/title/tt0017136/" points to Fritz Lang\'s\nMetropolis, where "0017136" is the imdb id.\n\nYou can also list DVDs (or box sets) that have:\n    - Any films of a list by separating the imdb ids with commas.\n    - All films by using the "More>>" button and entering them in multiple boxes.\n\nBoth of this techniques can also be used with the "title has" based search.');}o_value.s_value=s_value;};function ff_valid_upc(o_value){var r={},s=Upc.getErrors(o_value.s_value,r);Upc.getErrorMsg(s,r,o_value.s_value,true);if(r.b_fatal||r.b_warn){o_value.b_fatal=o_value.b_fatal||r.b_fatal;ff_alert(o_value,r.s_msg);}o_value.s_value=Upc.toStr(s).replace(/-/g,'');};function ff_valid_dir(o_value){var b_too_small=o_value.s_value.length<3;if(b_too_small){o_value.b_fatal=true;ff_alert(o_value,'Please specify at least 3 characters for a Director search.\nWe only got '+o_value.s_value.length+' ("'+o_value.s_value+'").');}};function ff_valid_pub(o_value){var b_too_small=o_value.s_value.length<3;if(b_too_small){o_value.b_fatal=true;ff_alert(o_value,'Please specify at least 3 characters for a Publisher search.\nWe only got '+o_value.s_value.length+' ("'+o_value.s_value+'").');}};function ff_valid_country(o_value){if(!ff_valid_match(o_value,'country')){ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a country we know.\n\nPlease use the [+] icon to select a language from a list. You can also\nuse the following abbreviations for common countries if you do not want\nto type them:\n\nus: United States, uk: United Kingdom, au: Australia, ca: Canada,\ndk: Denmark, fr: France, de + ge: Germany, hk: Hong Kong, it: Italy, jp: Japan,\nru: Russian Federation, es + sp: Spain, kr: South Korea, se: Sweden.\n');}};function ff_valid_genre(o_value){if(!ff_valid_one(o_value,'genre')){ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a genre we recognize.\n\nPlease use the [+] icon to select a genre from a list.');}};function ff_valid_rel(o_value){switch(o_value.s_value){case 'C':case 'O':case 'A':case 'N':case 'D':case 'X':case 'U':o_value.s_value=o_value.s_value.toLowerCase();case 'c':case 'o':case 'a':case 'n':case 'd':case 'x':case 'u':break;default:if(o_value.s_value.match(/^-*[0-9]$/)!=null){o_value.s_value=''+Dec.parse(o_value.s_value);}else{o_value.b_fatal=true;ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a valid option.\n\nPlease enter:\n    - "C" for current titles,\n    - "O" for out of print titles,\n    - "A" for announced titles,\n    - "N" for not announced,\n    - "D" for release delayed,\n    - "X" for release cancelled,\n    - "U" for unknown release status.\n\nYou may also enter "-W" for recently released titles or "W" for titles\nsoon to be released. Where "W" is a number between 0 and 9 representing\nthe number of weeks. Zero ("0") means being released this week.');}break;}};function ff_valid_dt(o_value){if(DateTime.parseBounded(o_value.s_value,1880,new Date().getFullYear()+1,false)===false){o_value.b_fatal=true;ff_alert(o_value,'Dates must be represented in one of the following formats: YYYY-MM-DD, \nYYYY-MM or YYYY. You entered "'+o_value.s_value+'". Use the helper button on date \nfields to popup a calendar. It makes entering dates much simpler.'+(o_value.b_no_dt_range?'':'\n\nYou can also precede the date by an operator (>, >=, <, <=, =, !=).'));}};function ff_valid_year(o_value){var s_value=o_value.s_value,b_not_num=s_value.match(/^[0-9]{4}$/)==null&&s_value.match(/^[0-9]{1,2}$/)==null,b_bad_range=false;if(!b_not_num){var n_year=Dec.parse(s_value);if(n_year<100)n_year=n_year>10?n_year+1900:n_year+2000;b_bad_range=n_year<1880||n_year>(new Date().getFullYear()+1);if(!b_bad_range)s_value=''+n_year;}if(b_not_num||b_bad_range){o_value.b_fatal=true;ff_alert(o_value,'A year must be a number between 1880 and '+(new Date().getFullYear()+1)+'. You entered "'+s_value+'".\n\nYou can also precede the year by an operator (>, >=, <, <=, =, !=).\n    - Enter ">=20 <30" to get DVDs where the main feature was produced in the 20\'s.');}o_value.s_value=s_value;};function ff_valid_language(o_value){if(!ff_valid_match(o_value,'language')){ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a language we understand.\n\nPlease use the [+] icon to select a language from a list. You can use the\nfollowing abbreviations for common languages if you do not want to type them:\n\nen: English, fr: French, ca: French-Canadian, ge + de: German, it: Italian,\njp: Japanese, sl: silent, sp + es: Spanish.');}};function ff_valid_pic(o_value){switch(o_value.s_value){case 'Y':case 'P':case 'N':o_value.s_value=o_value.s_value.toLowerCase();case 'y':case 'p':case 'n':break;default:o_value.b_fatal=true;ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a valid option.\n\nPlease enter\n    - "Y" where the default picture is the DVD cover art,\n    - "P" where the default picture is a film poster,\n    - "N" for titles with no picture.');break;}};function ff_valid_src(o_value){switch(o_value.s_value){case 'A':case 'I':case 'E':case 'C':case 'G':case 'B':case 'M':case 'O':case 'T':o_value.s_value=o_value.s_value.toLowerCase();case 'a':case 'i':case 'e':case 'c':case 'g':case 'b':case 'm':case 'o':case 't':break;default:o_value.b_fatal=true;ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a valid option.\n\nPlease enter\n    - "A" for DVD Package,\n    - "I" for Part of DVD Package,\n    - "E" for DVD Package Bonus Disc,\n    - "C" for Audio CD Bonus Disc,\n    - "G" for Game Bonus Disc,\n    - "B" for Book Bonus Disc,\n    - "M" for Magazine Bonus Disc,\n    - "O" for Other Product Bonus Disc,\n    - "T" for Theatrical or Broadcast.');break;}};function ff_valid_rgn(o_value){switch(o_value.s_value){case '0':o_value.s_value='z';case 'Z':case 'A':case 'B':case 'C':case 'US':case 'UK':case 'EU':case 'LA':case 'AS':case 'SA':case 'JP':case 'AU':case 'ALL':o_value.s_value=o_value.s_value.toLowerCase();case 'z':case 'a':case 'b':case 'c':case 'us':case 'uk':case 'eu':case 'la':case 'as':case 'sa':case 'jp':case 'au':case 'all':case '1':case '2':case '3':case '4':case '5':case '6':break;default:o_value.b_fatal=true;ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a valid option.\n\nPlease enter\n    - "0" for region-free disks,\n    - "1" for DVD: US and Canada,\n    - "2" for DVD: Europe, Middle East, Japan and South Africa,\n    - "3" for DVD: Southeast Asia,\n    - "4" for DVD: Australia, New Zealand and Latin America,\n    - "5" for DVD: Africa, Eastern Europe and the rest of Asia,\n    - "6" for DVD: China and Hong Kong,\n    - "A" for Blu-ray: Americas, Japan, Korea and Southeast Asia,\n    - "B" for Blu-ray: Europe, Australia, New Zealand and Africa,\n    - "C" for Blu-ray: Eastern Europe and the rest of Asia.');break;}};function ff_valid_med(o_value){switch(o_value.s_value){case 'D':case 'B':case 'R':case 'V':case 'H':case 'C':case 'T':case 'A':case 'P':case 'O':case 'F':case 'S':case 'L':case 'E':case 'N':o_value.s_value=o_value.s_value.toLowerCase();case 'd':case 'b':case 'r':case 'v':case 'h':case 'c':case 't':case 'a':case 'p':case 'o':case 'f':case 's':case 'l':case 'e':case 'n':case '3':case '2':break;default:o_value.b_fatal=true;ff_alert(o_value,'You entered "'+o_value.s_value+'" which is not a valid option.\n\nFor home media\n    - "D" for DVD,\n    - "B" for Blu-ray,\n    - "3" for Blu-ray 3D,\n    - "2" for Blu-ray / DVD Combo,\n    - "R" for BD-R,\n    - "V" for DVD-R,\n    - "H" for HD DVD,\n    - "C" for HD DVD/DVD Combo,\n    - "T" for HD DVD/DVD TWIN Format,\n    - "A" for DVD Audio,\n    - "P" for Placeholder,\n    - "O" for Other,\nFor theatrical & broadcast\n    - "F" for Film,\n    - "S" for Short,\n    - "L" for Television,\n    - "E" for Featurette,\n    - "N" for Events & Performances');break;}};function ff_valid_where(o_value){var b_too_small=o_value.s_value.length<3&&o_value.s_value!='db';if(b_too_small){o_value.b_fatal=true;ff_alert(o_value,'Please specify at least 3 characters for a collection owner.\nWe only got '+o_value.s_value.length+' ("'+o_value.s_value+'").\n\nYou may use the notation "member/wishlist" or "member/owned/subfolder"\nto specify a folder and subfolder within a collection.');}};function ff_valid_ord(o_value){switch(o_value.s_value){case 'created':break;default:o_value.b_fatal=true;ff_alert(o_value,'"'+o_value.s_value+'" is not a supported parameter for sorting.\n');break;}};function ff_valid_val(o_value,b_warn,b_focus){o_value.b_warn=b_warn;o_value.b_focus=b_focus;o_value.b_fatal=false;if(o_value.s_value=='missing'){o_value.s_oper='=';return true;}switch(o_value.s_key){case 'has':ff_valid_tit(o_value,/,+/,ff_valid_title);break;case 'price':ff_valid_price(o_value);break;case 'asin':ff_valid_multi(o_value,/[\x20,]+/,ff_valid_asin);break;case 'imdb':ff_valid_imdb(o_value);break;case 'upc':ff_valid_multi(o_value,/,+/,ff_valid_upc);break;case 'dir':ff_valid_multi(o_value,/,+/,ff_valid_dir);break;case 'pub':ff_valid_multi(o_value,/,+/,ff_valid_pub);break;case 'pubct':ff_valid_multi(o_value,/,+/,ff_valid_country);break;case 'genre':ff_valid_multi(o_value,/,+/,ff_valid_genre);break;case 'rel':ff_valid_multi(o_value,/,+/,ff_valid_rel);break;case 'reldt':ff_valid_multi(o_value,/,+/,ff_valid_dt);break;case 'year':ff_valid_year(o_value);break;case 'lang':ff_valid_multi(o_value,/,+/,ff_valid_language);break;case 'pic':ff_valid_multi(o_value,/,+/,ff_valid_pic);break;case 'src':ff_valid_multi(o_value,/,+/,ff_valid_src);break;case 'rgn':ff_valid_multi(o_value,/,+/,ff_valid_rgn);break;case 'med':ff_valid_multi(o_value,/,+/,ff_valid_med);break;case 'created':ff_valid_multi(o_value,/,+/,ff_valid_dt);break;case 'where':ff_valid_multi(o_value,/,+/,ff_valid_where);break;case 'ord':ff_valid_ord(o_value,/,+/,ff_valid_ord);break;}if(o_value.b_fatal)b_fatal=true;return!o_value.b_fatal;};function ff_queue(s_key,s_oper,s_value){if(!s_key||!s_value)return;switch(s_key){case 'pricele':s_key='price';if(s_oper=='')s_oper='<=';break;case 'pricege':s_key='price';if(s_oper=='')s_oper='>=';break;}if(s_oper=='')s_oper='=';var o_value={};o_value.s_key=s_key;o_value.s_oper=s_oper;o_value.s_value=s_value;if(ff_valid_val(o_value,true,true)){switch(o_value.s_oper){case '>':s_oper='.gt.';break;case '>=':s_oper='.ge.';break;case '<':s_oper='.lt.';break;case '<=':s_oper='.le.';break;case '!=':s_oper='.ne.';break;case '=':default:s_oper='.eq.';break;}a_search[o_value.s_key]=(a_search[o_value.s_key]?a_search[o_value.s_key]+s_oper:(s_oper!='.eq.'?s_oper:''))+o_value.s_value;}}}};function Token(re_key,s_value,f_valid,f_norm_oper,s_def_key){function next(){while(this.s_value){if(this.a_keys){this.s_key=this.s_separator=this.a_keys[1];this.s_oper=this.a_keys[2];if(this.f_norm_oper)this.s_oper=this.f_norm_oper(this.s_oper);}this.re_key.last_index=0;this.a_keys=re_key.exec(this.s_value);var b_valid=this.a_keys!=null;if(b_valid&&this.f_valid){b_valid=this.f_valid(this.a_keys,this.s_def_key);if(!b_valid&&this.f_norm_oper&&this.a_keys[2]){var s_oper=this.f_norm_oper(this.a_keys[2]);if(s_oper){this.a_keys.index=this.s_value.indexOf(this.a_keys[2]);this.a_keys[0]=this.a_keys[2];this.a_keys[1]=this.s_def_key;this.a_keys[2]=s_oper;b_valid=true;}}}if(b_valid){this.s_token=this.a_keys.index>0?Str.trim(this.s_value.substr(0,this.a_keys.index)):'';this.s_value=Str.trim(this.s_value.substr(this.a_keys.index+this.a_keys[0].length));}else{this.s_token=this.s_value;this.s_value='';}if(this.s_token){if(this.s_key)this.s_def_key=this.s_key;else this.s_key=this.s_def_key;return true;}}return false;};this.re_key=re_key;this.s_value=s_value;this.a_keys=null;this.s_key='';this.s_separator='';this.s_oper='';this.s_token='';this.f_next=next;this.f_valid=f_valid;this.f_norm_oper=f_norm_oper;this.s_def_key=s_def_key;};var SearchCalendar={range:[1880,(new Date()).getFullYear()+1],parms:null,setup:function(){SearchCalendar.parms=new Array({ifFormat:'%Y-%m-%d',align:'pointer',range:SearchCalendar.range,weekSelection:true,onInvoke_Ed:SearchCalendar.onInvoke,onInit_Ed:SearchCalendar.onInit,onSelect_Ed:SearchCalendar.onSelect,returnInvoker:true,refParm:0},{ifFormat:'%Y-%m-%d',align:'pointer',range:SearchCalendar.range,weekSelection:true,onInvoke_Ed:SearchCalendar.onInvoke,onInit_Ed:SearchCalendar.onInit,onSelect_Ed:SearchCalendar.onSelect,returnInvoker:true,refParm:1},{ifFormat:'%Y-%m-%d',align:'pointer',range:SearchCalendar.range,weekSelection:true,onInvoke_Ed:SearchCalendar.onInvoke,onInit_Ed:SearchCalendar.onInit,onSelect_Ed:SearchCalendar.onSelect,returnInvoker:true,refParm:2},{ifFormat:'%Y-%m-%d',align:'pointer',range:SearchCalendar.range,weekSelection:true,onInvoke_Ed:SearchCalendar.onInvoke,onInit_Ed:SearchCalendar.onInit,onSelect_Ed:SearchCalendar.onSelect,returnInvoker:true,refParm:3});for(var i=0;i<4;i++)Search.calendars[i]=Calendar.setup(SearchCalendar.parms[i]);},onInvoke:function(p){if(p.refParm!==null){p.periodField=$('str'+p.refParm);p.inputField=$('hid'+p.refParm);}if(p.periodField&&p.inputField){var re,y1,y2,m1=1,m2=1,d1,d2,s_option,s_day=Str.trim(p.periodField.value);re=/^([0-9]{4})$/.exec(s_day);if(re){y1=re[1];if(y1>=p.range[0]&&y1<=p.range[1]){s_option='year';m1=1;d1=1;}}else{re=/^([0-9]{4})[-]([0-9]{2})$/.exec(s_day);if(re){y1=re[1];m1=re[2];if(y1>=p.range[0]&&y1<=p.range[1]){if(m1==0){s_option='year';s_day=y1;m1=1;d1=1;}else if(m1>=1&&m1<=12){s_option='month';d1=1;}}}else{re=/^([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s_day);if(re){y1=re[1];m1=re[2];d1=re[3];if(y1>=p.range[0]&&y1<=p.range[1]){if(m1==0&&d1==0){s_option='year';s_day=y1;m1=1;d1=1;}else if(m1>=1&&m1<=12){if(d1==0){s_option='month';s_day=y1+'-'+m1;d1=1;}else if(DateTime.isValid(y1,m1,d1,p.range[0],p.range[1]))s_option='day';}}}else{re=/^[<]=\x20*([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s_day);if(re){y1=re[1];m1=re[2];d1=re[3];if(DateTime.isValid(y1,m1,d1,p.range[0],p.range[1]))s_option='before';}else{re=/^[>]=\x20*([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s_day);if(re){y1=re[1];m1=re[2];d1=re[3];if(DateTime.isValid(y1,m1,d1,p.range[0],p.range[1]))s_option='after';}else{re=/^[>]=\x20*([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})\x20*[<]=\x20*([0-9]{4})[-]([0-9]{2})[-]([0-9]{2})$/.exec(s_day);if(re){y1=re[1];m1=re[2];d1=re[3];y2=re[4];m2=re[5];d2=re[6];if(DateTime.isValid(y1,m1,d1,p.range[0],p.range[1])&&DateTime.isValid(y2,m2,d2,p.range[0],p.range[1]))s_option='week';}}}}}}m1--;m2--;if(s_option)p.date=new Date(y1,m1,d1);else s_option=s_day?'invalid':'day';p.periodKind=s_option;}},onInit:function(cal,div){div.style.border='none';div=Calendar.createElement("div",div);div.style.border='inset 1px';div.style.borderColor='#52a2ff #3182e7 #52a2ff #428aef';div.style.color='#000';div.style.backgroundColor='#fff';div=Calendar.createElement("div",div);div.style.borderLeft='1px solid #8cb6ef';div=Calendar.createElement("div",div);div.style.borderLeft='1px solid #2979e7';div=Calendar.createElement("div",div);div.style.borderLeft='2px solid #297de7';div=Calendar.createElement("div",div);div.style.borderLeft='1px solid #3182ef';div.style.padding='3px 16px 6px 25px';var p=cal.params;if(!p.periodKind)p.periodKind='day';var b_invalid=p.periodKind=='invalid',s_option=b_invalid?'day':p.periodKind,wrapper=Calendar.createElement("div",div);if(p.weekOnly){wrapper.innerHTML=(b_invalid?"<div class='rp'>&nbsp;</div><div><span style='color:red'>Warning:</span> although the condition represented in<br />this field may be valid it can not be expressed<br />in this control.&nbsp; To edit it manually please click<br />on the &quot;x&quot; button in the top right corner of the<br />calendar to close it. Choices made from this<br />control will override existing values.<br /></div><div class='rp' style='margin-bottom:8px'>&nbsp;</div>":'');}else{wrapper.innerHTML="<div style='white-space:nowrap'>Please select a time period and click on a date.</div>"+(b_invalid?"<div class='rp'>&nbsp;</div><div><span style='color:red'>Warning:</span> although the condition represented in<br />this field may be valid it can not be expressed<br />in this control.&nbsp; To edit it manually please click<br />on the &quot;x&quot; button in the top right corner of the<br />calendar to close it. Choices made from this<br />control will override existing values.<br /></div>":'')+"<div class='rp'>&nbsp;</div><form style='margin-top:1px; margin-bottom:4px;white-space:nowrap'><input type='radio' name='r' value='day'"+(s_option=='day'?' checked':'')+">On a given <span style='color:blue'>day</span><br /><input type='radio' name='r' value='week'"+(s_option=='week'?' checked':'')+">On a given <span style='color:blue'>week</span><br /><input type='radio' name='r' value='month'"+(s_option=='month'?' checked':'')+">On a given <span style='color:blue'>month</span><br /><input type='radio' name='r' value='year'"+(s_option=='year'?' checked':'')+">On a given <span style='color:blue'>year</span><br /><input type='radio' name='r' value='before'"+(s_option=='before'?' checked':'')+">On or <span style='color:blue'>before</span> a given day<br /><input type='radio' name='r' value='after'"+(s_option=='after'?' checked':'')+">On or <span style='color:blue'>after</span> a given day</form><div class='rp' style='margin-bottom:8px'>&nbsp;</div>";}p.periodForm=Dom.getFirstChildByType(wrapper,'form');return div;},onSelect:function(cal){var p=cal.params;if(p.weekOnly){var s_day=cal.date;s_day=new Date(s_day.getFullYear(),s_day.getMonth(),s_day.getDate());s_day=new Date(s_day.getTime()-(s_day.getDay()-p.weekOnly+1)*3600*1000*24);p.periodField.value=DateTime.toDateStr(s_day);}else{if(p.periodForm&&p.inputField){var s_choice=null;if(cal.currentDateEl.week){s_choice='week';}else{var f=p.periodForm;if(f.r){for(var i=0;i<f.r.length&&!s_choice;i++)if(f.r[i].checked)s_choice=f.r[i].value;}if(!s_choice)s_choice='day';}p.periodKind=s_choice;if(p.periodField){var s_day=p.inputField.value;switch(s_choice){case 'week':s_day=cal.date;s_day=new Date(s_day.getFullYear(),s_day.getMonth(),s_day.getDate());s_day=new Date(s_day.getTime()-s_day.getDay()*3600*1000*24);s_day='>= '+DateTime.toDateStr(s_day)+' <= '+DateTime.toDateStr(new Date(s_day.getTime()+6*3600*1000*24));break;case 'day':break;case 'month':s_day=s_day.substr(0,7);break;case 'year':s_day=s_day.substr(0,4);break;case 'before':s_day='<= '+s_day;break;case 'after':s_day='>= '+s_day;break;}p.periodField.value=s_day;}}}}};var SearchMenuPrep={onPopup:function(el){if(!this.id)return;var i=this.menu.items,t=this.menu.target;switch(this.id){case 'help_dvd':case 'help_dir':case 'help_pub':case 'help_cnt':case 'help_gen':case 'help_rel':case 'help_lan':case 'help_src':case 'help_pic':case 'help_med':SearchMenuPrep._helpSearch(t,this.id.substr(5));break;case 'help_rdv':case 'help_rfm':SearchMenuPrep._helpStars(t);break;case 'help_gno':SearchMenuPrep._helpGenre(i,t);break;case 'explain_pop':Explain.show(t.id,true);break;case 'search_options':SearchMenuPrep._loadOptions();break;}},_loadOptions:function(){var c=Cookie.get('search'),e=$s('flipexclpins'),b=Filmaf.userCollection=='';DropDown.selectFromVal('myregion',Cookie.extractFromStr(c,'myregion','us'));DropDown.selectFromVal('mymedia',Cookie.extractFromStr(c,'mymedia','all'));CheckBox.setVal('isearch',!Cookie.extractFromStr(c,'noisearch'));CheckBox.setVal('save',Cookie.extractFromStr(c,'save'));CheckBox.setVal('expert',Cookie.extractFromStr(c,'expert'));CheckBox.setVal('flipexcl',b?'N':Cookie.extractFromStr(c,'flipexcl'));CheckBox.setVal('pins',b?'N':Cookie.extractFromStr(c,'pins'));if(e)e.style.visibility=b?'hidden':'visible';iSearch.close();},saveOptions:function(){if(!CheckBox.getVal_1('flipexcl')&&!Search.isXmyPined())Cookie.amend('search','incmine','');Cookie.amend('search','myregion',DropDown.getSelValue('myregion'));Cookie.amend('search','mymedia',DropDown.getSelValue('mymedia'));Cookie.amend('search','noisearch',!CheckBox.getVal_1('isearch')?'1':'');Cookie.amend('search','save',CheckBox.getVal_1('save')?'1':'');Cookie.amend('search','expert',CheckBox.getVal_1('expert')?'1':'');Cookie.amend('search','flipexcl',CheckBox.getVal_1('flipexcl')?'1':'');Cookie.amend('search','pins',CheckBox.getVal_1('pins')?'1':'');Context.close();Search.loadPreferences();if(!Search._pins||!Search.isRegPined())DropDown.selectFromVal('optR',Search._myregion);if(!Search._pins||!Search.isMedPined())DropDown.selectFromVal('optM',Search._mymedia);Search.paint(1,0);if(!CheckBox.getVal_1('pins'))Ajax.asynch('pin','Ajax.__ignore','?pin=cls');},restoreDefaults:function(){DropDown.selectFromVal('myregion','us');DropDown.selectFromVal('mymedia','all');CheckBox.setVal('isearch',1);CheckBox.setVal('save',0);CheckBox.setVal('expert',0);CheckBox.setVal('flipexcl',0);CheckBox.setVal('pins',0);},_helpSearch:function(t,f){Filmaf.inputLine=t.id.substr(2,1);var g=$('mform_'+f);if(g&&g.ropt&&g.ropt[1])g.ropt[0].checked=!(g.ropt[1].checked=Search.appending[f]);},_helpStars:function(t){Filmaf.inputLine=t.id;},_helpGenre:function(i,t){Filmaf.inputLine=t.id;switch(t.id){case 'b_b_genre':case 'b_a_genre':i.hm_gno_99999.label=t.id=='b_b_genre'?'Use Default Genre':'Unspecified Genre';i.hm_gno_99999.labelTD.innerHTML="<a><strong>"+i.hm_gno_99999.label+'</strong></a>';break;}}};var SearchMenuAction={onClick:function(action){if(!action.info||!action.info.id)return;var id=action.info.id,md=id.substr(0,7),m=md.substr(3,3);if(!(id=id.substr(7)))retutn;switch(md){case 'hm_gen_':case 'hm_rel_':if(id=='ca')id='c, a';case 'hm_med_':case 'hm_cnt_':case 'hm_lan_':case 'hm_src_':case 'hm_pic_':SearchMenuAction._selSearchCode(id,md,m);break;case 'hm_rtd_':case 'hm_rtf_':SearchMenuAction._selStars(id);break;case 'hm_gno_':SearchMenuAction._selGenre(id,action);break;}},_selSearchCode:function(id,md,m){var e=$('str'+Filmaf.inputLine);if(e){var r=Str.trim(e.value),a=Search.appending[m]&&r!='';if(id=='xx'&&(md=='hm_cnt_'||md=='hm_lan_'))id='missing';e.value=a=(a?r+', ':'')+id;if(a.match(/[<>!=,]/)&&a.length>16)alert('The '+Search.criteria[m]+' criteria is set to: \n"'+a+'"');}},_selStars:function(id){var m=Filmaf.inputLine.substr(2),md=/dvd/.test(Filmaf.inputLine)?'y':'r',f;if((f=$('n_'+m))){f.value=id;}if((f=$('g_'+m))){if(id<0){f.src='http://dv1.us/d1/1.gif';f.alt='';}else{f.src='http://dv1.us/s1/s5'+md+id+'.png';id=Dec.parse(id);f.alt=((id+1)/2)+' stars';}}},_selGenre:function(id,action){var m=Filmaf.inputLine.substr(2),e,i,j;if((e=$('g_'+m))){i=action.info.parent&&action.info.parent.parent_item&&action.info.parent.parent_item.label;j=action.info.label.substr(0,1)=='<'?false:action.info.label;e.value=j?(i?i+' / '+j:j):i;}if((e=$('n_'+m)))e.value=id;}};var Str={trim:function(s){return s.replace(/^[\s]+/,''). replace(/[\s]+$/,''). replace(/[\t\r\x20]+/g,' '). replace(/\x20\n/g,'\n').replace(/\n\x20/g,'\n');},trimR:function(s){return s.replace(/[\s]+$/,''). replace(/[\t\r\x20]+/g,' '). replace(/\x20\n/g,'\n').replace(/\n\x20/g,'\n');},trimL:function(s){return s.replace(/^[\s]+/,''). replace(/[\t\r\x20]+/g,' '). replace(/\x20\n/g,'\n').replace(/\n\x20/g,'\n');},firstLine:function(s){var n;s=s.replace(/^[\s]+/,'');if((n=s.indexOf('\n'))>1)s=s.substr(0,n);return s.replace(/[\s]+$/,''). replace(/[\s]+/g,' ');},ucFirst:function(s){return s.substr(0,1).toUpperCase()+s.substr(1);},ucWords:function(s){return(s).replace(/^(.)|\s(.)/g,function($1){return $1.toUpperCase();});},ucTitle:function(s){var x=s.split(' '),t=x.length,i,w;for(i=0,s='';i<t;i++){w=x[i];s+=' '+(i&&',the,a,an,aboard,about,above,across,after,against,along,amid,among,anti,around,as,at,before,behind,below,beneath,beside,besides,between,beyond,but,by,concerning,considering,despite,down,during,except,excepting,excluding,following,for,from,in,inside,into,like,minus,near,of,off,on,onto,opposite,outside,over,past,per,plus,regarding,round,save,since,than,through,to,toward,towards,under,underneath,unlike,until,up,upon,vs,versus,via,with,within,without,and,but,for,nor,or,so,yet,to,'.indexOf(','+w+',')>=0?w:w.substr(0,1).toUpperCase()+w.substr(1));}return s.substr(1);},hasSameVal:function(e,f){if((e=$s(e))&&(f=$s(f))&&Str.trim(e.value)!=Str.trim(f.value)){f.style.color='red';f.style.background='#ffcccc';Validate.warn(e,true,true,'The password and the password confirmation fields do not match.',false);return false;}return true;},validateN:function(s_field,n_cnt,o_changed,n_min_len,n_max_len,b_allow_empty,s_name,b_must_change){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Str.validate(s_field+i,o_changed,n_min_len,n_max_len,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name),i?0:b_must_change);return b!==false;},validate:function(s_field,o_changed,n_min_len,n_max_len,b_allow_empty,s_name,b_must_change){var s,n,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;n=s.length;if(n_max_len>0&&n>n_max_len){Validate.warn(e_new,true,true,s_name+' must have no more than '+n_max_len+' characters. You entered '+n+'.',false);return false;}if(n_min_len>0&&n<n_min_len){Validate.warn(e_new,true,true,s_name+' must have at least '+n_min_len+' characters. You entered '+n+'.',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Upc={toStr:function(s){s=s.replace(/[^0-9]+/g,'');switch(s.length){case 11:case 12:return s.substr(0,1)+'-'+s.substr(1,5)+'-'+s.substr(6,5)+'-'+s.substr(11);case 13:return s.substr(0,1)+'-'+s.substr(1,6)+'-'+s.substr(7);}return s;},validateN:function(s_field,n_cnt,o_changed,n_min_len,n_max_len,b_allow_empty,s_name){var i,b;for(i=0,b=true;b!==false&&i<n_cnt;i++)b=Upc.validate(s_field+i,o_changed,n_min_len,n_max_len,i?1:b_allow_empty,i?s_name+(i+1):Str.trim(s_name));return b!==false;},validate:function(s_field,o_changed,n_min_len,n_max_len,b_empty,s_name){var b=Str.validate(s_field,o_changed,n_min_len,n_max_len,b_empty,s_name)!==false,r={},e,s;if(b&&(e=$(s_field))){s=Str.trim(e.value);if(s){s=Upc.getErrors(e.value,r);Upc.getErrorMsg(s,r,e.value,false);if(r.b_fatal)if(!Validate.warn(e,true,true,r.s_msg.substr(2),true))return false;else return s;e.value=s;return s;}}return b;},getErrors:function(s,r){r.b_10_digits=s.match(/^-*[0-9]{5}-*[0-9]{5}-*$/)!=null;r.b_11_digits=s.match(/^[0-9]-*[0-9]{5}-*[0-9]{5}-*$/)!=null;r.b_12_digits=s.match(/^[0-9]-*[0-9]{5}-*[0-9]{5}-*[0-9]$/)!=null;r.b_1b_digits=!r.b_12_digits&&s.match(/^-*[0-9]{6}-*[0-9]{6}$/)!=null;r.b_13_digits=s.match(/^[0-9]-*[0-9]{6}-*[0-9]{6}$/)!=null;r.b_inv_digit=false;s=s.replace(/[^0-9]+/g,'');if(r.b_11_digits||r.b_1b_digits)s+=r.s_check=Upc._getCheckDigit(s);if(r.b_12_digits||r.b_13_digits)r.b_inv_digit=Upc._isCheckDigitInvalid(s);return s;},_catMsg:function(r,b_fatal,s){r.s_msg+=(r.s_msg?'\n\n':'')+s;if(b_fatal)r.b_fatal=true;else r.b_warn=true;},getErrorMsg:function(s,r,o,b_search){r.s_msg='';r.b_fatal=false;r.b_warn=false;if(r.b_10_digits)Upc._catMsg(r,1,'UPCs have at least 12 digits.  You entered only 10. Perhaps you forgot the first and last digits.');if(r.b_11_digits)Upc._catMsg(r,0,'You did not enter the check digit. We calculated it for you: '+r.s_check+'.');if(r.b_1b_digits)Upc._catMsg(r,0,'You seem to have entered an international UPC without a check digit. We calculated it for you: '+r.s_check+'.');if(r.b_inv_digit)Upc._catMsg(r,1,'Your '+s.length+'-digit UPC has an incorrect check digit. Please check it for a typo. Sometimes ISBNs look like 10 or 13 digit UPCs, but they are not.');if(s.length>15)Upc._catMsg(r,1,'Your UPC has too many digits: '+s.length+'.');if(s.length<12&&!r.b_10_digits&&!r.b_11_digits&&!r.b_1b_digits){if(b_search)if(s.length<5)Upc._catMsg(r,1,'To do a partial UPC search you need to enter at least 5 digits, but no more than 9.');else Upc._catMsg(r,0,'Note that when you enter 5 to 9 digits we will do a partial search.');else Upc._catMsg(r,1,'UPCs have at least 12 digits. You entered only '+s.length+'.');}},_getCheckDigit:function(s){s='00000000000000'+s;s=s.substr(s.length-15,15);var o=(Dec.parse(s.substr(0,1))+Dec.parse(s.substr(2,1))+Dec.parse(s.substr(4,1))+Dec.parse(s.substr(6,1))+Dec.parse(s.substr(8,1))+Dec.parse(s.substr(10,1))+Dec.parse(s.substr(12,1))+Dec.parse(s.substr(14,1)))*3;var e=Dec.parse(s.substr(1,1))+Dec.parse(s.substr(3,1))+Dec.parse(s.substr(5,1))+Dec.parse(s.substr(7,1))+Dec.parse(s.substr(9,1))+Dec.parse(s.substr(11,1))+Dec.parse(s.substr(13,1));return ''+((10-Math.floor((o+e)%10))%10);},_isCheckDigitInvalid:function(s){var c='';if(s.length>=12&&s.length<=15){c=Upc._getCheckDigit(s.substr(0,s.length-1));return s.substr(s.length-1,1)!=c?c:false;}return true;},test:function(ev){ev||(ev=window.event);var s=ev.currentTarget||ev.srcElement,r={},e,o;if(ev&&s&&(e=$('n'+s.id.substr(1)))){if((o=Str.trim(e.value))){s=Upc.getErrors(e.value,r);Upc.getErrorMsg(s,r,e.value,false);if(r.b_fatal){alert(r.s_msg);}else{e.value=Upc.toStr(s);if(!r.b_warn)r.s_msg='This looks like a valid UPC.'+(r.s_msg?'\n\n'+r.s_msg:'');if(e.id.substr(e.id.length-2,2)!='_0')r.s_msg+='\n\nPlease note that only the UPC in the first position is used for finding online prices.';alert(r.s_msg);}}else{alert('Enter an UPC and we will try to validate it.');}}}};var Url={test:function(ev){ev||(ev=window.event);var s=ev.currentTarget||ev.srcElement,e,u;if(ev&&s&&(e=$('n'+s.id.substr(1)))){u=Url.parse(e.value);if(u===false||u.substr(0,7)!='http://')alert('The URL you provided did not start with\nhttp://');else Win.openStd(u,'url');}},getVal:function(key,href){var u=(href||location.href),i=u.indexOf('?');if(i>=0){u='&'+u.substr(i+1);i=u.indexOf('&'+key+'=');if(i>=0){u=u.substr(i+key.length+2);i=u.indexOf('&');if(i>=0)u=u.substr(0,i);return decodeURIComponent(u);}else{i=u.indexOf('&amp;'+key+'=');if(i>=0){u=u.substr(i+key.length+6);i=u.indexOf('&amp;');if(i>=0)u=u.substr(0,i);return decodeURIComponent(u);}}}return '';},setVal:function(key,val,href){var u=(href||location.href),i=u.indexOf('?'),p=i>=0?'&'+u.substr(i+1).replace('/&amp;/','&'):'',s=val!==''?'&'+key+'='+val:'';if(i>=0)u=u.substr(0,i);p=p.indexOf('&'+key+'=')>=0?p.replace(new RegExp('&'+key+'=[^&]*'),s):p+s;return(u+(p?'?'+p.substr(1):'')).replace('/&/','&amp;');},getDec:function(key,href){return Dec.parse(Url.getVal(key,href));},fromStr:function(s){return escape(Str.firstLine(s)).replace(/\+/g,'%2B'). replace(/%20+/g,'\+'). replace(/%26+/g,'\&amp;'). replace(/\&/g,'\&amp;');},parse:function(s){var m;if((s=Str.trim(s))!=''&&s!='http://'){m=new RegExp("^http:\/\/[a-zA-Z0-9_\.,@?^=%&;:/~\+#\(\)-]*$");if(m.test(s))return s=='http://'?'':s;return false;}return '';},validate:function(s_field,s_start,o_changed,n_max_len,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Url.parse(s);if(s===false||(s!=''&&(s_start&&s.substr(0,s_start.length)!=s_start))){if(!s_start)s_start='http://';Validate.warn(e_new,true,true,"Your "+s_name+" seems to be invalid.\n\nWe expected something starting with:\n        "+s_start+"\n\nDo you want to fix it?",false);return false;}n=s.length;if(n_max_len>0&&n>n_max_len){Validate.warn(e_new,true,true,s_name+' must have no more than '+n_max_len+' characters. You entered '+n+'.',false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};var Validate={checkEmptiness:function(e_new,b_allow_empty,s_name){var s=Str.trim(e_new.value),a;if(s==''&&!b_allow_empty){a='aeiou'.indexOf(s.substr(0,1).toLowerCase())>=0?'an':'a';Validate.warn(e_new,true,true,'Please enter '+a+' '+s_name.toLowerCase()+'.',false);return false;}return s;},reset:function(s_field){var a=s_field.split(','),e,i;for(i=0;i<a.length;i++){if((e=$(a[i]))){e.style.color='';e.style.background='';}}},makeResetStr:function(s_field,n){var s='',i;for(i=0;i<n;i++)s+=s_field+n+',';return s;},warn:function(o_focus,b_focus,b_fatal,s_alert,b_allow_overwrite){var y=false;if(o_focus&&o_focus.type=='hidden'){var e=$('g'+o_focus.id.substr(1));o_focus=(e&&e.focus&&e.type!='hidden')?e:null;}if(b_focus&&o_focus!=null){if(b_fatal){o_focus.style.color='red';o_focus.style.background='#ffcccc';}else{if(o_focus.style.color!='red'){o_focus.style.color='green';o_focus.style.background='#ccffcc';}}}if(b_allow_overwrite)y=confirm(s_alert+'\n\nDo you wish to ignore this error?\n\nOK=Yes - Cancel=No');else alert(s_alert);if(o_focus!=null&&o_focus.focus){if(b_focus)o_focus.focus();if(o_focus.select)o_focus.select();}return y;},reload:function(s_url){var y=confirm('Discard changes and reaload data?\n\nOK=Yes - Cancel=No');if(y){location.href=s_url;return true;}return false;},save:function(b_alert_no_change,n_nav,c){var f=$('myform'),b,e;if(f){if(n_nav&&n_nav!=0)f.action+=(f.action.indexOf('?')>=0?'&':'?')+'pg='+n_nav;if(c.b_changed){if(!c.b_undo){b=confirm('The fields in this submission are the same as the current information for this title.\n\nDo you wish to withdraw this submission request?\n\nOK=Yes - Cancel=No');if(b&&(e=$('act'))){e.value='del_sub';f.action=location.href;}}f.submit();}else{location.href=f.action;if(b_alert_no_change)alert('No changes detected.  Nothing to save.');}}}};var Win={openPop:function(b_refresh,s_target,s_url,n_width,n_height,b_reduced,b_scroll){s_url=s_url.replace(/\&amp;/g,'&');b_scroll=b_scroll?'1':'0';if(b_refresh){var t=new Date();s_url=s_url+(s_url.indexOf('?')<0?'?':'&')+'refresh='+t.getTime();}var o_wnd=window.open(s_url,s_target,(b_reduced?'resizable=1,menubar=0,toolbar=0,location=0,directories=0,scrollbars='+b_scroll+',status=0,titlebar=0'+(n_width>0&&n_height>0?',width='+n_width+'px,height='+n_height+'px':''):''));if(o_wnd)o_wnd.focus();return false;},openStd:function(s_url,w){s_url=s_url.replace(/\&amp;/g,'&');if(typeof(w)=='object')if(!w||w.closed)w=window.open(s_url);else w.location=s_url;else w=window.open(s_url,w);if(w)w.focus();return true;},openDyn:function(s_target,s_title,n_width,n_height,b_reduced,s_inc,s_onload,b_scroll){b_scroll=b_scroll?'1':'0';var o_wnd=window.open('',s_target,(b_reduced?'resizable=0,menubar=0,toolbar=0,location=0,directories=0,scrollbars='+b_scroll+',status=0,titlebar=0'+(n_width>0&&n_height>0?',width='+n_width+'px,height='+n_height+'px':''):''));if(o_wnd){o_wnd.document.writeln("<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Transitional//EN' 'DTD/xhtml1-transitional.dtd'>\n<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en' lang='en'>\n<head>\n<title>"+s_title+"</title>\n<meta http-equiv='Content-type' content='text/html; charset=UTF-8' />\n"+s_inc+"</head>\n<body onload='"+(s_onload?s_onload+';':'')+"self.focus()'>");}return o_wnd;},endDyn:function(o_wnd){if(o_wnd){o_wnd.document.writeln("</body>\n</html>");o_wnd.document.close();}},showPic:function(s_pic){Win.openPop(false,'large_pic',Filmaf.baseDomain+'/utils/lp.html?pic='+s_pic,354,468,1,0);},reauth:function(s_redirect){if(!s_redirect)s_redirect='/utils/close.html%3Fmsg%3D1';Win.openPop(0,'_blank','/utils/login.html?redirect='+s_redirect,680,520,1,0);},findFrame:function(s_id){var i;for(i=0;i<parent.frames.length;i++){var elid;try{elid=parent.frames[i].frameElement.id}catch(e){elid='verbotten';}if(elid==s_id)return parent.frames[i].document;}return 0;}};function ulExplain(s){s.s+="<li id='menu-explain-pop' class='context-class-a-explain'><ul id='explain_pop'><li><div style='margin:4px 0 4px 0;width:300px'><form id='mform_explain' name='mform_explain' onsubmit='return false' action=''><div id='explain_div' style='margin:4px 0 4px 0'><div><div style='margin:4px 0 4px 0;text-align:right'><input type='button' value='close' onclick='Context.close()'></div></div></div></form></div></li></ul></li>";};function ulSearch(s){s.s+="<li id='menu-title-has'><ul id='help_dvd'><li><div class='pop_div'><strong>Commas</strong> (&quot;,&quot;) may be used to separate multiple values. Searching for &quot;Lady, Duke&quot; will return titles with both Lady and Duke. Searching for &quot;<> Lady, Duke&quot; will return titles that nave neither Lady nor Duke. In the odd case that you want to return listings with either Lady or Duke, replace the comma with a <strong>pipe</strong> (&quot;|&quot;) as in &quot;Lady | Duke&quot;.<div class='pop_sep_long'>&nbsp;</div><strong>Articles</strong> at the beginnig of a title (&quot;A&quot;, &quot;An&quot;, &quot;The&quot;, &quot;Le&quot;,&quot;La&quot;, &quot;Les&quot;, &quot;L&#039;&quot;, &quot;Die&quot;, &quot;Das&quot;, etc.) are generaly placed at the end and should not be searched.<div class='pop_sep_long'>&nbsp;</div><strong>A slash</strong> (&quot;/&quot;) may be used to represent the end of a word. Therefore searching for &quot;<strong>Lady/</strong>&quot; will now only match:<div style='padding-left:2em'>- My Fair <strong>Lady</strong> (1964)<br />- <strong>Lady</strong> Vanishes, The (1938)</div></div></li></ul></li><li id='menu-priced-below'><ul><li><div class='pop_div'>You may enter a price in US dollars.<div class='pop_sep_long'>&nbsp;</div>Searching for &quot;<strong>10</strong>&quot; will match:<div style='padding-left:2em'>- DVDs with a price is <strong>smaller</strong> than or equal to $10</div><div class='pop_sep_long'>&nbsp;</div><strong>A percent sign</strong> (&quot;%&quot;) can be used to express the retail price in relation to the list price (MSRP). Searching for &quot;<strong>70%</strong>&quot; will match:<div style='padding-left:2em'>- DVDs discounted at 30% or more (&lt;= 70% MSRP)</div><div class='pop_sep_long'>&nbsp;</div><strong>The operators &quot;&lt;&quot;, &quot;&lt;=&quot;, &quot;=&quot;, &quot;&lt;&gt;&quot;, &quot;&gt;=&quot;, and &quot;&gt;&quot;</strong> can be used to create more complex conditions. Searching for &quot;<strong>&gt;=10 &lt=20 &lt=70%</strong>&quot; will match:<div style='padding-left:2em'>- DVDs priced between $10 and $20, discounted at 30% or more (&lt;= 70% MSRP)</div><div class='pop_sep_long'>&nbsp;</div>The &quot;price&quot; of a DVD refers to the best offer amongst all vendors participating in the <strong>FilmAf Price Comparison</strong> tool.</div></li></ul></li><li id='menu-priced-above'><ul><li><div class='pop_div'>You may enter a price in US dollars.<div class='pop_sep_long'>&nbsp;</div>Searching for &quot;<strong>5</strong>&quot; will match:<div style='padding-left:2em'>- DVDs with a price is <strong>greater</strong> than or equal to $5</div><div class='pop_sep_long'>&nbsp;</div><strong>A percent sign</strong> (&quot;%&quot;) can be used to express the retail price in relation to the list price (MSRP). Searching for &quot;<strong>70%</strong>&quot; will match:<div style='padding-left:2em'>- DVDs discounted at 30% or less (&lt;= 70% MSRP)</div><div class='pop_sep_long'>&nbsp;</div><strong>The operators &quot;&lt;&quot;, &quot;&lt;=&quot;, &quot;=&quot;, &quot;&lt;&gt;&quot;, &quot;&gt;=&quot;, and &quot;&gt;&quot;</strong> can be used to create more complex conditions. Searching for &quot;<strong>&gt;=10 &lt=20 &lt=70%</strong>&quot; will match:<div style='padding-left:2em'>- DVDs priced between $10 and $20, discounted at 30% or more (&lt;= 70% MSRP)</div><div class='pop_sep_long'>&nbsp;</div>The &quot;price&quot; of a DVD refers to the best offer amongst all vendors participating in the <strong>FilmAf Price Comparison</strong> tool.</div></li></ul></li><li id='menu-amz-asin'><ul><li><div class='pop_div'>Please enter a search string with at least 5 characters.<div class='pop_sep_long'>&nbsp;</div>The Amazon ASIN is a <strong>10-character</strong> code of letters and numbers that uniquelly identifies a product in an Amazon web site. This search is a convenience in case you have the ASIN on hand and want to quickly find that listing at FilmAf.<div class='pop_sep_long'>&nbsp;</div><strong>Commas</strong> (&quot;,&quot;) can be used to separate multiple values, in which case we will search for titles matching any of them.</div></li></ul></li><li id='menu-imdb'><ul><li><div class='pop_div'>Please enter a search string with 7 digits.<div class='pop_sep_long'>&nbsp;</div>The IMDB id is a 7-digit numeric code that identifies a film in the <a href='http://www.imdb.com/' target='_blank'>Internet Movie Database (imbd.com)</a>. This search is a convenience in case you have the IMDB id on hand and want to quickly find DVDs that contain that film in FilmAf.<div class='pop_sep_long'>&nbsp;</div>For example Jean Renoir&#039;s La grande illusion IMDB id is &quot;0028950&quot; and it can be accessed at <a href='http://www.imdb.com/title/tt0028950' target='_blank'>http://www.imdb.com/title/tt<strong>0028950</strong></a>.<div class='pop_sep_long'>&nbsp;</div><strong>Commas</strong> (&quot;,&quot;) can be used to separate multiple values, in which case we will search for titles matching any of them.<div class='pop_sep_long'>&nbsp;</div><strong>The operator &lt;&gt;</strong> can be used to exlude a film. &quot;0378194 &lt;&gt;0266697&quot; will give you all editons of Kill Bill Vol. 2, that do not have Vol. 1.<div class='pop_sep_long'>&nbsp;</div><strong>The operator =</strong> can be used to look for sets with multiple films. &quot;0378194 =0266697&quot; will search for a DVD set with both films.</div></li></ul></li><li id='menu-upc'><ul><li><div class='pop_div'>Please enter a search string with at least 5 digits.<div class='pop_sep_long'>&nbsp;</div>Generally a UPC uniquely identifies a product.  A UPC for a US product is <strong>12-digit</strong> long (if you only see 10, there are probably additional smaller digits to the right and left of the 10 you found). <strong>Non-US UPCs</strong> usually have 13 or more digits.<div class='pop_sep_long'>&nbsp;</div>Dashes (&quot;-&quot;) are ignored.<div class='pop_sep_long'>&nbsp;</div><strong>Commas</strong> (&quot;,&quot;) can be used to separate multiple values, in which case we will search for titles matching any of them.</div></li></ul></li><li id='menu-director'><ul id='help_dir'><li><div class='pop_div'><strong>Commas</strong> (&quot;,&quot;) may be used to specify multiple values.<div class='pop_sep_long'>&nbsp;</div>You can type in &quot;<strong>missing</strong>&quot; to find titles where the director information is not present.</div></li></ul></li><li id='menu-publisher'><ul id='help_pub'><li><div class='pop_div'><strong>Commas</strong> (&quot;,&quot;) may be used to specify multiple values.<div class='pop_sep_long'>&nbsp;</div>You can type in &quot;<strong>missing</strong>&quot; to find titles where the publisher information is not present.</div></li></ul></li><li id='menu-country' onclick='onMenuClick(this)'><ul id='help_cnt'><li><div style='margin-top:2px'>Please select a country<br />from the list below.<div class='pop_sep_short'>&nbsp;</div><form id='mform_cnt' name='mform_cnt' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"cnt\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"cnt\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li>The Americas<ul><li id='hm_cnt_us'><a><strong>U.S.</strong></a></li><li id='hm_cnt_ar'>Argentina</li><li id='hm_cnt_br'>Brazil</li><li id='hm_cnt_ca'>Canada</li><li id='hm_cnt_cl'>Chile</li><li id='hm_cnt_cu'>Cuba</li><li id='hm_cnt_mx'>Mexico</li></ul></li><li>Europe<ul><li id='hm_cnt_at'>Austria</li><li id='hm_cnt_be'>Belgium</li><li id='hm_cnt_hr'>Croatia</li><li id='hm_cnt_cz'>Czech Republic</li><li id='hm_cnt_dk'>Denmark</li><li id='hm_cnt_ee'>Estonia</li><li id='hm_cnt_fi'>Finland</li><li id='hm_cnt_fr'><a><strong>France</strong></a></li><li id='hm_cnt_de'><a><strong>Germany</strong></a></li><li id='hm_cnt_gr'>Greece</li><li id='hm_cnt_hu'>Hungary</li><li id='hm_cnt_is'>Iceland</li><li id='hm_cnt_it'><a><strong>Italy</strong></a></li><li id='hm_cnt_lt'>Lithuania</li><li id='hm_cnt_mk'>Macedonia</li><li id='hm_cnt_nl'>Netherlands</li><li id='hm_cnt_no'>Norway</li><li id='hm_cnt_pl'>Poland</li><li id='hm_cnt_pt'>Portugal</li><li id='hm_cnt_ro'>Romania</li><li id='hm_cnt_ru'>Russian Federation</li><li id='hm_cnt_rs'>Serbia</li><li id='hm_cnt_sk'>Slovakia</li><li id='hm_cnt_si'>Slovenia</li><li id='hm_cnt_es'>Spain</li><li id='hm_cnt_se'>Sweden</li><li id='hm_cnt_ch'>Switzerland</li><li id='hm_cnt_uk'><a><strong>U.K.</strong></a></li></ul></li><li>Asia & Oceania<ul><li id='hm_cnt_au'><a><strong>Australia</strong></a></li><li id='hm_cnt_cn'>China</li><li id='hm_cnt_hk'><a><strong>Hong Kong</strong></a></li><li id='hm_cnt_in'>India</li><li id='hm_cnt_id'>Indonesia</li><li id='hm_cnt_il'>Israel</li><li id='hm_cnt_jp'>Japan</li><li id='hm_cnt_my'>Malaysia</li><li id='hm_cnt_nz'>New Zealand</li><li id='hm_cnt_ph'>Philippines</li><li id='hm_cnt_sg'>Singapore</li><li id='hm_cnt_kr'>South Korea</li><li id='hm_cnt_tw'><a><strong>Taiwan</strong></a></li><li id='hm_cnt_th'>Thailand</li><li id='hm_cnt_tr'>Turkey</li></ul></li><li>Africa<ul><li id='hm_cnt_za'>South Africa</li></ul></li><li id='hm_cnt_un'>Unknown Country</li><li></li><li id='hm_cnt_xx'>None</li></ul></li><li id='menu-genre' onclick='onMenuClick(this)'><ul id='help_gen'><li><div style='margin-top:2px'>Please select a genre<br />from the list below.<div class='pop_sep_short'>&nbsp;</div><form id='mform_gen' name='mform_gen' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"gen\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"gen\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li>Action-Adventure<ul><li id='hm_gen_action-nosub'><a><strong>Action-Adventure</strong></a></li><li id='hm_gen_action'><a><strong>Action-Adventure + Subgenres</strong></a></li><li></li><li id='hm_gen_action-comedy'>Comedy</li><li id='hm_gen_action-crime'>Crime</li><li id='hm_gen_action-disaster'>Disaster</li><li id='hm_gen_action-epic'>Epic</li><li id='hm_gen_action-espionage'>Espionage</li><li id='hm_gen_action-martialarts'>Martial Arts</li><li id='hm_gen_action-military'>Military</li><li id='hm_gen_action-samurai'>Samurai</li></ul></li><li>Animation<ul><li id='hm_gen_animation-nosub'><a><strong>Animation</strong></a></li><li id='hm_gen_animation'><a><strong>Animation + Subgenres</strong></a></li><li></li><li id='hm_gen_animation-cartoons'>Cartoons</li><li id='hm_gen_animation-family'>Family</li><li id='hm_gen_animation-mature'>Mature</li><li id='hm_gen_animation-puppetrystopmotion'>Puppetry &amp; Stop-Motion</li><li id='hm_gen_animation-scifi'>Sci-Fi</li><li id='hm_gen_animation-superheroes'>Superheroes</li></ul></li><li>Anime<ul><li id='hm_gen_anime-nosub'><a><strong>Anime</strong></a></li><li id='hm_gen_anime'><a><strong>Anime + Subgenres</strong></a></li><li></li><li id='hm_gen_anime-action'>Action</li><li id='hm_gen_anime-comedy'>Comedy</li><li id='hm_gen_anime-drama'>Drama</li><li id='hm_gen_anime-fantasy'>Fantasy</li><li id='hm_gen_anime-horror'>Horror</li><li id='hm_gen_anime-mahoushoujo'>Mahou Shoujo (Magical Girls)</li><li id='hm_gen_anime-martialarts'>Martial Arts</li><li id='hm_gen_anime-mecha'>Mecha (Giant Robots)</li><li id='hm_gen_anime-moe'>Mo&#233; (Cute Girls, Romance)</li><li id='hm_gen_anime-romance'>Romance</li><li id='hm_gen_anime-scifi'>Sci-Fi</li></ul></li><li>Comedy<ul><li id='hm_gen_comedy-nosub'><a><strong>Comedy</strong></a></li><li id='hm_gen_comedy'><a><strong>Comedy + Subgenres</strong></a></li><li></li><li id='hm_gen_comedy-dark'>Dark</li><li id='hm_gen_comedy-farce'>Farce</li><li id='hm_gen_comedy-horror'>Horror</li><li id='hm_gen_comedy-romantic'>Romantic</li><li id='hm_gen_comedy-satire'>Satire</li><li id='hm_gen_comedy-scifi'>Sci-Fi</li><li id='hm_gen_comedy-screwball'>Screwball</li><li id='hm_gen_comedy-sitcom'>Sitcom</li><li id='hm_gen_comedy-sketchesstandup'>Sketches &amp; Stand-Up</li><li id='hm_gen_comedy-slapstick'>Slapstick</li><li id='hm_gen_comedy-teen'>Teen</li></ul></li><li>Documentary<ul><li id='hm_gen_documentary-nosub'><a><strong>Documentary</strong></a></li><li id='hm_gen_documentary'><a><strong>Documentary + Subgenres</strong></a></li><li></li><li id='hm_gen_documentary-biography'>Biography</li><li id='hm_gen_documentary-crime'>Crime</li><li id='hm_gen_documentary-culture'>Culture</li><li id='hm_gen_documentary-entertainment'>Entertainment</li><li id='hm_gen_documentary-history'>History</li><li id='hm_gen_documentary-nature'>Nature</li><li id='hm_gen_documentary-propaganda'>Propaganda</li><li id='hm_gen_documentary-religion'>Religion</li><li id='hm_gen_documentary-science'>Science</li><li id='hm_gen_documentary-social'>Social</li><li id='hm_gen_documentary-sports'>Sports</li><li id='hm_gen_documentary-travel'>Travel</li></ul></li><li>Drama<ul><li id='hm_gen_drama-nosub'><a><strong>Drama</strong></a></li><li id='hm_gen_drama'><a><strong>Drama + Subgenres</strong></a></li><li></li><li id='hm_gen_drama-courtroom'>Courtroom</li><li id='hm_gen_drama-crime'>Crime</li><li id='hm_gen_drama-docudrama'>Docudrama</li><li id='hm_gen_drama-melodrama'>Melodrama</li><li id='hm_gen_drama-period'>Period</li><li id='hm_gen_drama-romance'>Romance</li><li id='hm_gen_drama-sports'>Sports</li><li id='hm_gen_drama-war'>War</li></ul></li><li>Educational<ul><li id='hm_gen_educational-nosub'><a><strong>Educational</strong></a></li><li id='hm_gen_educational'><a><strong>Educational + Subgenres</strong></a></li><li></li><li id='hm_gen_educational-children'>Children</li><li id='hm_gen_educational-school'>School</li></ul></li><li>Erotica<ul><li id='hm_gen_erotica-nosub'><a><strong>Erotica</strong></a></li><li id='hm_gen_erotica'><a><strong>Erotica + Subgenres</strong></a></li><li></li><li id='hm_gen_erotica-hentai'>Hentai</li></ul></li><li id='hm_gen_experimental'>Experimental</li><li>Exploitation<ul><li id='hm_gen_exploitation-nosub'><a><strong>Exploitation</strong></a></li><li id='hm_gen_exploitation'><a><strong>Exploitation + Subgenres</strong></a></li><li></li><li id='hm_gen_exploitation-blaxploitation'>Blaxploitation</li><li id='hm_gen_exploitation-nazisploitation'>Nazisploitation</li><li id='hm_gen_exploitation-nunsploitation'>Nunsploitation</li><li id='hm_gen_exploitation-pinkueiga'>Pinku Eiga</li><li id='hm_gen_exploitation-sexploitation'>Sexploitation</li><li id='hm_gen_exploitation-shockumentary'>Shockumentary</li><li id='hm_gen_exploitation-wip'>WIP</li></ul></li><li id='hm_gen_fantasy'>Fantasy</li><li id='hm_gen_filmnoir'>Film Noir</li><li>Horror<ul><li id='hm_gen_horror-nosub'><a><strong>Horror</strong></a></li><li id='hm_gen_horror'><a><strong>Horror + Subgenres</strong></a></li><li></li><li id='hm_gen_horror-anthology'>Anthology</li><li id='hm_gen_horror-creatureanimal'>Creature &amp; Animal</li><li id='hm_gen_horror-espghosts'>ESP &amp; Ghosts</li><li id='hm_gen_horror-eurotrash'>Eurotrash</li><li id='hm_gen_horror-exploitation'>Exploitation</li><li id='hm_gen_horror-gialli'>Gialli</li><li id='hm_gen_horror-goreshock'>Gore &amp; Shock</li><li id='hm_gen_horror-gothic'>Gothic</li><li id='hm_gen_horror-possessionsatan'>Possession &amp; Satan</li><li id='hm_gen_horror-shockumentary'>Shockumentary</li><li id='hm_gen_horror-slashersurvival'>Slasher &amp; Survival</li><li id='hm_gen_horror-vampires'>Vampires</li><li id='hm_gen_horror-zombiesinfected'>Zombies &amp; Infected</li><li id='hm_gen_horror-otherundead'>Other Undead</li></ul></li><li>Music<ul><li id='hm_gen_music-nosub'><a><strong>Music</strong></a></li><li id='hm_gen_music'><a><strong>Music + Subgenres</strong></a></li><li></li><li id='hm_gen_music-liveinconcert'>Live in Concert</li><li id='hm_gen_music-musicvideos'>Music Videos</li></ul></li><li id='hm_gen_musical'>Musical</li><li>Performing Arts<ul><li id='hm_gen_performing-nosub'><a><strong>Performing Arts</strong></a></li><li id='hm_gen_performing'><a><strong>Performing Arts + Subgenres</strong></a></li><li></li><li id='hm_gen_performing-circus'>Circus</li><li id='hm_gen_performing-concerts'>Concerts</li><li id='hm_gen_performing-dance'>Dance</li><li id='hm_gen_performing-operas'>Operas</li><li id='hm_gen_performing-theater'>Theater</li></ul></li><li>Sci-Fi<ul><li id='hm_gen_scifi-nosub'><a><strong>Sci-Fi</strong></a></li><li id='hm_gen_scifi'><a><strong>Sci-Fi + Subgenres</strong></a></li><li></li><li id='hm_gen_scifi-alien'>Alien</li><li id='hm_gen_scifi-alternatereality'>Alternate Reality</li><li id='hm_gen_scifi-apocalyptic'>Apocalyptic</li><li id='hm_gen_scifi-cyberpunk'>Cyber Punk</li><li id='hm_gen_scifi-kaiju'>Kaiju (Giant Monster)</li><li id='hm_gen_scifi-lostworlds'>Lost Worlds</li><li id='hm_gen_scifi-military'>Military</li><li id='hm_gen_scifi-otherworlds'>Other Worlds</li><li id='hm_gen_scifi-space'>Space</li><li id='hm_gen_scifi-spacehorror'>Space Horror</li><li id='hm_gen_scifi-superheroes'>Superheroes</li><li id='hm_gen_scifi-utopiadystopia'>Utopia &amp; Dystopia</li></ul></li><li id='hm_gen_short'>Short</li><li>Silent<ul><li id='hm_gen_silent-nosub'><a><strong>Silent</strong></a></li><li id='hm_gen_silent'><a><strong>Silent + Subgenres</strong></a></li><li></li><li id='hm_gen_silent-animation'>Animation</li><li id='hm_gen_silent-horror'>Horror</li><li id='hm_gen_silent-melodrama'>Melodrama</li><li id='hm_gen_silent-slapstick'>Slapstick</li><li id='hm_gen_silent-western'>Western</li></ul></li><li>Sports<ul><li id='hm_gen_sports-nosub'><a><strong>Sports</strong></a></li><li id='hm_gen_sports'><a><strong>Sports + Subgenres</strong></a></li><li></li><li id='hm_gen_sports-baseball'>Baseball</li><li id='hm_gen_sports-basketball'>Basketball</li><li id='hm_gen_sports-biking'>Biking</li><li id='hm_gen_sports-fitness'>Fitness</li><li id='hm_gen_sports-football'>Football</li><li id='hm_gen_sports-golf'>Golf</li><li id='hm_gen_sports-hockey'>Hockey</li><li id='hm_gen_sports-martialarts'>Martial Arts</li><li id='hm_gen_sports-motorsports'>Motor Sports</li><li id='hm_gen_sports-olympics'>Olympics</li><li id='hm_gen_sports-skateboard'>Skateboard</li><li id='hm_gen_sports-skiing'>Skiing</li><li id='hm_gen_sports-soccer'>Soccer</li><li id='hm_gen_sports-tennis'>Tennis</li><li id='hm_gen_sports-wrestling'>Wrestling</li></ul></li><li>Suspense<ul><li id='hm_gen_suspense-nosub'><a><strong>Suspense</strong></a></li><li id='hm_gen_suspense'><a><strong>Suspense + Subgenres</strong></a></li><li></li><li id='hm_gen_suspense-mystery'>Mystery</li><li id='hm_gen_suspense-thriller'>Thriller</li></ul></li><li>War<ul><li id='hm_gen_war-nosub'><a><strong>War</strong></a></li><li id='hm_gen_war'><a><strong>War + Subgenres</strong></a></li><li></li><li id='hm_gen_war-uscivilwar'>US Civil War</li><li id='hm_gen_war-wwi'>World War I</li><li id='hm_gen_war-wwii'>World War II</li><li id='hm_gen_war-korea'>Korea</li><li id='hm_gen_war-vietnam'>Vietnam</li><li id='hm_gen_war-postcoldwar'>Post-Cold War</li><li id='hm_gen_war-other'>Other</li></ul></li><li>Western<ul><li id='hm_gen_western-nosub'><a><strong>Western</strong></a></li><li id='hm_gen_western'><a><strong>Western + Subgenres</strong></a></li><li></li><li id='hm_gen_western-epic'>Epic</li><li id='hm_gen_western-singingcowboy'>Singing Cowboy</li><li id='hm_gen_western-spaghetti'>Spaghetti</li></ul></li><li id='hm_gen_dvdaudio'>DVD Audio</li><li>Other<ul><li id='hm_gen_other-nosub'><a><strong>Other</strong></a></li><li id='hm_gen_other'><a><strong>Other + Subgenres</strong></a></li><li></li><li id='hm_gen_other-digitalcomicbooks'>Digital Comic Books</li><li id='hm_gen_other-gameshows'>Game Shows</li><li id='hm_gen_other-games'>Games</li></ul></li><li id='hm_gen_unspecifiedgenre'>Unspecified Genre</li></ul></li><li id='menu-media' onclick='onMenuClick(this)'><ul id='help_med'><li><div style='margin-top:2px'>Please select a media type<br />from the list below.<div class='pop_sep_short'>&nbsp;</div><form id='mform_med' name='mform_med' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"med\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"med\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li>Home media<ul><li id='hm_med_d'>DVD</li><li id='hm_med_b'>Blu-ray</li><li id='hm_med_3'>Blu-ray 3D</li><li id='hm_med_2'>Blu-ray/DVD Combo</li><li id='hm_med_r'>BD-R</li><li id='hm_med_v'>DVD-R</li><li id='hm_med_h'>HD DVD</li><li id='hm_med_c'>HD DVD/DVD Combo</li><li id='hm_med_t'>HD DVD/DVD TWIN Format</li><li id='hm_med_a'>DVD Audio</li><li id='hm_med_p'>Placeholder</li><li id='hm_med_o'>Other</li></ul></li><li>Theatrical &amp; broadcast<ul><li id='hm_med_f'>Film</li><li id='hm_med_s'>Short</li><li id='hm_med_l'>Television</li><li id='hm_med_e'>Featurette</li><li id='hm_med_n'>Events &amp; Performances</li></ul></li></ul></li><li id='menu-released' onclick='onMenuClick(this)'><ul id='help_rel'><li><div style='margin-top:2px'>Please select a release status<br />from the list below.<div class='pop_sep_short'>&nbsp;</div><form id='mform_rel' name='mform_rel' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"rel\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"rel\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li id='hm_rel_ca'>Released (current &amp; out of print)</li><li id='hm_rel_c'>Current</li><li id='hm_rel_o'>Out of Print</li><li id='hm_rel_a'>Announced</li><li id='hm_rel_n'>Not Announced</li><li id='hm_rel_d'>Release delayed</li><li id='hm_rel_x'>Release cancelled</li><li id='hm_rel_u'>Unknown</li></ul></li><li id='menu-year'><ul><li><div class='pop_div'>Please enter a 4-digit year.<div class='pop_sep_long'>&nbsp;</div>2-digit years will be interpreted as being 19xx or 20xx.<div class='pop_sep_long'>&nbsp;</div>If you enter multiple values separated by spaces or commas (&quot;,&quot;) we will seach for titlesmatching any of them.</div></li></ul></li><li id='menu-language' onclick='onMenuClick(this)'><ul id='help_lan'><li><div style='margin-top:2px'>Please select a language<br />associated with:<div class='pop_sep_short'>&nbsp;</div><form id='mform_lan' name='mform_lan' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"lan\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"lan\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li>The Americas<ul><li id='hm_lan_en'><a><strong>English</strong></a></li><li id='hm_lan_fr'>French</li><li id='hm_lan_br'>Portuguese-Brazilian</li><li id='hm_lan_es'><a><strong>Spanish</strong></a></li></ul></li><li>Europe<ul><li id='hm_lan_bg'>Bulgarian</li><li id='hm_lan_ve'>Catalan</li><li id='hm_lan_cz'>Czech</li><li id='hm_lan_dk'>Danish</li><li id='hm_lan_nl'>Dutch</li><li id='hm_lan_en'><a><strong>English</strong></a></li><li id='hm_lan_et'>Estonian</li><li id='hm_lan_fi'>Finnish</li><li id='hm_lan_fr'><a><strong>French</strong></a></li><li id='hm_lan_ge'>Georgian</li><li id='hm_lan_de'><a><strong>German</strong></a></li><li id='hm_lan_gr'>Greek</li><li id='hm_lan_hu'>Hungarian</li><li id='hm_lan_is'>Icelandic</li><li id='hm_lan_it'><a><strong>Italian</strong></a></li><li id='hm_lan_lv'>Latvian</li><li id='hm_lan_lt'>Lithuanian</li><li id='hm_lan_mk'>Macedonian</li><li id='hm_lan_no'>Norwegian</li><li id='hm_lan_pl'>Polish</li><li id='hm_lan_pt'>Portuguese</li><li id='hm_lan_rm'>Romani</li><li id='hm_lan_ro'>Romanian</li><li id='hm_lan_ru'>Russian</li><li id='hm_lan_sc'>Serbo-Croatian</li><li id='hm_lan_sk'>Slovak</li><li id='hm_lan_si'>Slovenian</li><li id='hm_lan_es'><a><strong>Spanish</strong></a></li><li id='hm_lan_se'>Swedish</li><li id='hm_lan_uk'>Ukrainian</li><li id='hm_lan_il'>Yiddish</li></ul></li><li>Asia<ul><li id='hm_lan_ar'>Arabic</li><li id='hm_lan_am'>Armenian</li><li id='hm_lan_id'>Bahasa-Indonesia</li><li id='hm_lan_my'>Bahasa-Malaysia</li><li>Chinese<ul><li id='hm_lan_ct'>Cantonese</li><li id='hm_lan_ho'>Hokkien</li><li id='hm_lan_ma'>Mandarin</li><li id='hm_lan_cs'>Shanghainese</li><li id='hm_lan_tw'>Taiwanese</li></ul></li><li id='hm_lan_fa'>Farsi</li><li id='hm_lan_ph'>Filipino</li><li id='hm_lan_he'>Hebrew</li><li>Associated with India<ul><li id='hm_lan_hi'>Hindi</li><li id='hm_lan_bn'>Bengali</li><li id='hm_lan_ml'>Malayalam</li><li id='hm_lan_pu'>Punjabi</li><li id='hm_lan_ta'>Tamil</li><li id='hm_lan_te'>Telugu</li><li id='hm_lan_ur'>Urdu</li><li id='hm_lan_in'>Others</li></ul></li><li id='hm_lan_jp'><a><strong>Japanese</strong></a></li><li id='hm_lan_kz'>Kazakh</li><li id='hm_lan_kh'>Khmer</li><li id='hm_lan_kr'>Korean</li><li id='hm_lan_ku'>Kurdish</li><li id='hm_lan_mn'>Mongolian</li><li id='hm_lan_th'>Thai</li><li id='hm_lan_tr'>Turkish</li><li id='hm_lan_vi'>Vietnamese</li></ul></li><li>Others<ul><li id='hm_lan_nz'>Aramaic</li><li id='hm_lan_eo'>Esperanto</li><li id='hm_lan_la'>Latin</li><li id='hm_lan_sl'><a><strong>Silent</strong></a></li><li id='hm_lan_ot'>Others</li></ul></li><li id='hm_lan_un'>Unknown Language</li><li></li><li id='hm_lan_xx'>None</li></ul></li><li id='menu-picture' onclick='onMenuClick(this)'><ul id='help_pic'><li><div style='margin-top:2px'>Please select a picture status<br />from the list below.<div class='pop_sep_short'>&nbsp;</div><form id='mform_pic' name='mform_pic' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"pic\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"pic\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li id='hm_pic_y'>DVD Cover Art</li><li id='hm_pic_p'>Film Poster</li><li id='hm_pic_n'>No Picture</li></ul></li><li id='menu-source' onclick='onMenuClick(this)'><ul id='help_src'><li><div style='margin-top:2px'>Please select a source<br />from the list below.<div class='pop_sep_short'>&nbsp;</div><form id='mform_src' name='mform_src' style='margin-top:1px; margin-bottom:4px'><input type='radio' name='ropt' value='r' onclick='Search.setAppend(\"src\",false)'>Replace<input type='radio' name='ropt' value='a' onclick='Search.setAppend(\"src\",true)'>Append<br /></form><div class='pop_sep_short'>&nbsp;</div></div></li><li id='hm_src_a'>DVD Package</li><li id='hm_src_i'>Part of DVD Package</li><li id='hm_src_e'>DVD Package Bonus Disc</li><li id='hm_src_c'>Audio CD Bonus Disc</li><li id='hm_src_g'>Game Bonus Disc</li><li id='hm_src_b'>Book Bonus Disc</li><li id='hm_src_m'>Magazine Bonus Disc</li><li id='hm_src_o'>Other Product Bonus Disc</li><li id='hm_src_t'>Theatrical or Broadcast</li></ul></li><li id='menu-search-options'><ul id='search_options'><li><div style='margin:4px 0 4px 0;width:320px'><form id='mform_search' name='mform_search' action='javascript:void(0)'><div class='h1' style='color:#0066b2;font-size:12px;font-weight:bold'>Search Preferences</div><table><tr><td style='text-align:right;white-space:nowrap;color:#0066b2;padding:10px 4px 0 10px'>Region:</td><td style='padding:10px 0 0 0'><select id='myregion'><option value='us'>U.S. and Canada</option><option value='uk'>U.K.</option><option value='eu'>Europe and Africa</option><option value='la'>Latin America</option><option value='as'>Russia, China, and most of Asia</option><option value='se'>Southeast Asia</option><option value='jp'>Japan</option><option value='au'>Australia and New Zealand</option><option value='z'>Region 0</option><option value='1'>Region 1</option><option value='1,A,0'>Regions 1, A, and 0</option><option value='2'>Region 2</option><option value='2,B,0'>Regions 2, B, and 0</option><option value='3'>Region 3</option><option value='4'>Region 4</option><option value='5'>Region 5</option><option value='6'>Region 6</option><option value='A'>Region A</option><option value='B'>Region B</option><option value='C'>Region C</option><option value='all'>All regions and countries</option></select></td></tr><tr><td style='text-align:right;white-space:nowrap;color:#0066b2;padding:4px 4px 0 10px'>Media:</td><td style='padding:4px 0 0 0'><select id='mymedia'><option value='all'>All</option><option value='d'>DVD</option><option value='b'>Blu-ray</option><option value='h,c,t'>HD DVD</option><option value='a,p,o'>Not announced + others</option></select></td></tr></table><div style='white-space:nowrap;color:#0066b2;padding:6px 0 2px 6px'><input type='checkbox' id='isearch' checked='checked' /> Autocomplete and search preview (1 second delay)</div><div style='white-space:nowrap;color:#0066b2;padding:0 0 2px 6px'><input type='checkbox' id='expert' /> Multiple search criteria: the &quot;More &gt;&gt;&quot; option</div><div id='flipexclpins'><div style='white-space:nowrap;color:#0066b2;padding:0 0 2px 6px'><input type='checkbox' id='flipexcl' /> Flip &quot;exclude mine&quot; / &quot;include mine&quot; when clicking on it</div><div style='white-space:nowrap;color:#0066b2;padding:0 0 8px 6px'><input type='checkbox' id='pins' /> Allow pinning: sticky criteria</div></div><div style='text-align:right;padding:0 0 4px 0'><input type='button' value='Restore defaults' onclick='SearchMenuPrep.restoreDefaults()' style='width:128px;margin-right:10px'><input type='button' value='Save' onclick='SearchMenuPrep.saveOptions()' style='width:72px;margin-right:10px'><input type='button' value='Cancel' onclick='Context.close()' style='width:72px'></div></form></div></li></ul></li>";};var Price={attach:function(){var e=window.self.document.getElementsByTagName('a');for(var i=e.length;--i>=0;)if(e[i].id&&e[i].id.substr(0,3)=='pc_')e[i].onclick=function(){Price.click(this.id.substr(3),0);};},click:function(dvd_id,b_set){Win.openPop(false,'price',Filmaf.baseDomain+'/price-one.html?dvd='+dvd_id,660,660,1,1);return true;}};var Cart={has:function(n){var c=','+Cookie.get('cart')+',';return c.indexOf(','+Dec.parse(n)+'-')>=0;},highlight:function(b_all){var c=','+Cookie.get('cart')+',',a=document.getElementsByTagName('img'),i,e,s;if(b_all)for(i=0;i<a.length;i++){e=a[i];if(e.id.substr(0,3)=='ic_'){s=','+Dec.parse(e.id.substr(3).replace(/^0+/g,''))+'-';Img.check(e,1,(c&&c.indexOf(s)>=0)?1:0);}}else if(c)for(i=0;i<a.length;i++){e=a[i];if(e.id.substr(0,3)=='ic_'){s=','+Dec.parse(e.id.substr(3).replace(/^0+/g,''))+'-';if(c.indexOf(s)>=0)Img.check(e,1,1);}}Cart._count(c);},count:function(){Cart._count(','+Cookie.get('cart')+',');},click:function(dvd_id,b_set,n_vendor){var c=Cookie.get('cart'),z=Cookie.get('saved'),b_vendor=typeof(n_vendor)!='undefined',b,d,x;dvd_id=Dec.parse(dvd_id.replace(/^0+/g,''));c=c?','+c+',':'';if(dvd_id>0){x=','+dvd_id+'-';b=c.indexOf(x);if(b_vendor&&n_vendor>=0)x+=n_vendor;d=c.indexOf(x+',');if(b_vendor&&b<0){return true;}if((b>=0&&!b_set)||(b<0&&b_set)){if(b_set)c=x+(c?c:',');else c=c.replace(new RegExp(','+dvd_id+'-[a-z0-9]*,','g'),',');}else{if(b_vendor&&d<0){b=c.indexOf('-',b);if(b>=0){d=c.indexOf(',',b);c=c.substr(0,b+1)+(n_vendor>=0?n_vendor:'')+(d?c.substr(d):'');}}else{Cart._count(c);return true;}}if(!z)z='';if(z.lenght+c.lenght>2300)alert('Sorry, your saved carts plus your current cart would be larger\nthan 2300 bytes. We can not complete this operation.');else Cookie.set('cart',c);Cart._count(c);}return true;},_count:function(c){var t=$('cart_count_0'),u=$('cart_count_1'),n=0;if(t||u){c=c.replace(/^,+/,'').replace(/,+$/,'');if(c)n=c.split(',').length;n=n>0?n+' item'+(n>1?'s':'')+' in your cart':'your cart is empty';if(t)t.innerHTML=n;if(u)u.innerHTML=n;}}};var DirXp={open:function(s){Win.openStd(Filmaf.baseDomain+'/gd/'+s,'dir');}};var Facebook={_uid:'',_accessToken:'',_when:'',post:function(act,id,med,msg,when,rate,tag){var a_post={'fb:explicitly_shared':true};switch(med){case 'b':a_post.bluray='http://www.filmaf.com/gp/'+id;break;case 'f':a_post.film='http://www.filmaf.com/gp/'+id;break;default:a_post.dvd='http://www.filmaf.com/gp/'+id;break;}msg=msg.replace(/\<br\/\>/g,"\n").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'");if(rate>0){a_post.rating=rate;msg=rate+" out of 5 stars\n"+msg;}if(msg!='')a_post.message=msg;if(when)a_post.start_time=when;if(tag!='')a_post.tags=tag;switch(act){case 'see':act='see';break;case 'wts':act='want_to_see';break;case 'rat':act='rate';break;case 'wan':act='want';break;case 'ord':act='order';break;case 'get':act='get';break;case 'blo':act='say';break;}var e=Facebook.getPostDiv();Pop.open(e,0,354,0,3);Facebook._login(Facebook.__post,'/me/filmafi:'+act,a_post);},__post:function(s_get,a_post,a_response,b_success){Facebook.closePostDiv();if(!b_success)return Facebook._error(a_response);var p,e,s='response='+a_response.id;for(p in a_post){switch(p){case 'message':case 'start_time':case 'rating':case 'tags':s+='&'+p+'='+encodeURIComponent(a_post[p]);break;case 'bluray':case 'film':case 'dvd':s+='&media='+p.substr(0,1);p=a_post[p].split('/');s+='&id='+p[p.length-1];break;}}Ajax.asynch('facebook','Facebook.__logged','?act=log',s.substr(1),100);return 1;},see:function(id,med){Facebook.post('see',id,med,'',0,'','');},want:function(id,med){Facebook.post('wan',id,med,'',0,'','');},order:function(id,med){Facebook.post('ord',id,med,'',0,'','');},get:function(id,med){Facebook.post('get',id,med,'',0,'','');},blog:function(id,med,msg){Facebook.post('blo',id,med,msg,0,'','');},__logged:function(){},getFriends:function(){Facebook._login(Facebook.__getFriends,'/me/friends',false);},__getFriends:function(s_get,a_post,a_response,b_success){if(!b_success)return Facebook._error(a_response);if(a_response.data)Facebook.popFriends(a_response.data);},ul:function(){return "<li id='cm_dvd_fb'>Publish to Facebook<ul id='context_dvd_fb'><li id='cm_dvd_fb_see'>I&#39;m seeing it</li><li id='cm_dvd_fb_want'>I want it</li><li id='cm_dvd_fb_order'>I&#39;ve ordered it</li><li id='cm_dvd_fb_got'>I got it</li><li></li><li>More<ul><li>"+Facebook.ulDiv()+"</li></ul></li></ul></li>";},ulDiv:function(){return "<div style='width:352px;margin:4px 0 4px 0'><form id='fb_form' name='mform_dvd_fb' action='javascript:Facebook.SubmitMore(0)'><div class='one_lbl' style='text-align:left'><table style='width:100%;white-space:nowrap'><tr><td>Select One:</td><td><table id='tab_fb' style='border-collapse:separate;border-spacing:0 2px 0 2px;white-space:nowrap'><tr><td class='td_opt' id='fb_sel_see'>Seeing</td><td class='td_opt' id='fb_sel_wts'>Want to see</td><td class='td_opt' id='fb_sel_rat'>Rate</td><td class='td_opt' id='fb_sel_wan'>Want it</td><td class='td_opt' id='fb_sel_ord'>Ordered it</td><td class='td_opt' id='fb_sel_get'>Got it</td></tr></table></td></tr></table><div><table style='width:100%;white-space:nowrap'><tr><td style='width:1px'>Opt msg: (<span id='fb_char'>500</span>)</td><td style='width:95%'><img src='http://dv1.us/d1/00/fbh0.png' width='14px' height='14ps' id='fbi_home' onclick='Facebook.insTest(0)' style='padding:0 2px 0 2px' title='Insert Home URL' /><img src='http://dv1.us/d1/00/fbf0.png' width='14px' height='14ps' id='fbi_coll' onclick='Facebook.insTest(1)' title='Insert /owned URL' /></td><td style='width:1px'><span id='fb_lbl_when'>When</span></td><td style='width:1px'><input id='fb_cb_when' type='checkbox' onclick='Facebook.ulUpdateDt()' /></td><td style='width:1px'><span id='fb_text_date'>0000-00-00</td><td style='width:1px;padding-right:4px'><img id='fb_spin_day' src='http://dv1.us/d1/00/pn00.gif' width='10px' height='17px' /></td><td style='width:1px'><span id='fb_text_time'>0:00 AM</td><td style='width:1px'><img id='fb_spin_hour' src='http://dv1.us/d1/00/pn00.gif' width='10px' height='17px' /></td><td style='width:1px'><img id='fb_spin_min' src='http://dv1.us/d1/00/pn00.gif' width='10px' height='17px' /></td><td style='width:1px'><img id='fb_spin_ampm' src='http://dv1.us/d1/00/pn00.gif' width='10px' height='17px' /></td><td style='width:1px;padding-left:6px'><span id='fb_lbl_tag'>Tag</span></td><td style='width:1px'><input id='fb_cb_tag' type='checkbox' /></td></tr></table></div><textarea id='fb_msg' style='width:100%;height:40px' maxlength='500' wrap='soft' onkeyup='Edit.countDown(\"fb_char\",500 - this.value.length)'></textarea><div><table style='width:100%;white-space:nowrap'><tr><td style='text-align:right'><span id='fb_lbl_rat'>Rate it:</span></td><td colspan='3'><span id='fb_rad1'><input id='fb_med' type='hidden' /><input id='fb_dvd' type='hidden' /><input id='fb_act' type='hidden' /><input name='fb_rad' id='fb_rad_5' value='5' type='radio' /><img src='http://dv1.us/s1/s5b9.png' /><input name='fb_rad' id='fb_rad_4' value='4' type='radio' /><img src='http://dv1.us/s1/s5b7.png' /><input name='fb_rad' id='fb_rad_3' value='3' type='radio' /><img src='http://dv1.us/s1/s5b5.png' /></span></td></tr><tr><td style='width:1px'>&nbsp;</td><td style='width:1px'><span id='fb_rad2'><input name='fb_rad' id='fb_rad_2' value='2' type='radio' /><img src='http://dv1.us/s1/s5b3.png' /><input name='fb_rad' id='fb_rad_1' value='1' type='radio' /><img src='http://dv1.us/s1/s5b1.png' /><input name='fb_rad' id='fb_rad_0' value='0' type='radio' /><span style='position:relative;top:-2px'>n/a</a></span></td><td style='width:95%;text-align:center'><a href='http://www.youtube.com/user/FilmAf' style='color:#de4141' target='yt'>yt</a></td><td style='width:1px'><input type='submit' style='width:36px;text-align:center' value='Post' /></td></tr></table></div></div></form></div>";},ulPre:function(i,m,n){$('fb_med').value=m;$('fb_dvd').value=n;TblMenu.attach('tab_fb',function(id,parm){Facebook.selectAction(id.substr(7),parm)});TblMenu.set($('fb_sel_see'),1);$('fb_rad_0').checked=true;$('fb_cb_when').checked=false;$('fb_cb_tag').checked=false;Facebook._when=new Date();Facebook._when.setSeconds(0);Facebook._when.setMilliseconds(0);Facebook._when.setMinutes(Facebook._when.getMinutes()-Facebook._when.getMinutes()%5);Facebook.ulUpdateDt();$('fb_spin_day').spun=Facebook.ulSpinDay;$('fb_spin_ampm').spun=Facebook.ulSpinAmPm;$('fb_spin_hour').spun=Facebook.ulSpinHour;$('fb_spin_min').spun=Facebook.ulSpinMin;ImgSpun.attachSpun($('fb_spin_day'));ImgSpun.attachSpun($('fb_spin_ampm'));ImgSpun.attachSpun($('fb_spin_hour'));ImgSpun.attachSpun($('fb_spin_min'));m=m=='f';$('fb_sel_wan').style.visibility=$('fb_sel_ord').style.visibility=$('fb_sel_get').style.visibility=m?'hidden':'visible';if(typeof(i.cm_dvd_fb)!='undefined'){if(typeof(i.cm_dvd_fb.submenu)=='function')i.cm_dvd_fb.submenu();i=i.cm_dvd_fb.submenu.menu.items;if(i.cm_dvd_fb_want)i.cm_dvd_fb_want.disable(m);if(i.cm_dvd_fb_order)i.cm_dvd_fb_order.disable(m);if(i.cm_dvd_fb_got)i.cm_dvd_fb_got.disable(m);}m=$('fbi_home');m.onmouseover=function(ev){Img.mouseOver(ev,this,18);};m.onmouseout=function(){Img.mouseOut(this,18);};m=$('fbi_coll');m.onmouseover=function(ev){Img.mouseOver(ev,this,19);};m.onmouseout=function(){Img.mouseOut(this,19);};},insTest:function(i){var e=$('fb_msg'),c=Filmaf.userCollection,u='http://'+(c?c:'www')+'.filmaf.com/';switch(i){case 0:Edit.insertAtCursor(e,u);break;case 1:Edit.insertAtCursor(e,u+(c?'owned':''));break;}e.focus();},ulSpinDay:function(d){d=d?1:-1;d*=60000*60*24;Facebook._when=new Date(Facebook._when.getTime()+d);Facebook.ulUpdateDt();},_ulSpinHour:function(d,k){var m=Facebook._when.getHours(),a=m>=12?12:0;i=m-a;switch(k){case 0:i=(i+(d?1:-1))%12;break;case 1:a=a?0:12;break;}Facebook._when.setHours(a+i);Facebook.ulUpdateDt();},ulSpinHour:function(d){Facebook._ulSpinHour(d,0);},ulSpinAmPm:function(d){Facebook._ulSpinHour(d,1);},ulSpinMin:function(d){var m=Facebook._when.getMinutes();m=(m+(d?5:-5))%60;Facebook._when.setMinutes(m);Facebook.ulUpdateDt();},ulUpdateDt:function(){var b=$('fb_cb_when').checked;$('fb_text_date').style.visibility=$('fb_spin_day').style.visibility=$('fb_text_time').style.visibility=$('fb_spin_ampm').style.visibility=$('fb_spin_hour').style.visibility=$('fb_spin_min').style.visibility=b?'visible':'hidden';if(b){$('fb_text_date').innerHTML=DateTime.toDateStr(Facebook._when);$('fb_text_time').innerHTML=DateTime.toTimeHHMM(Facebook._when,0,1);}},selectAction:function(id,parm){var w=0,t=0,r=0;$('fb_act').value=id;switch(id){case 'see':t=1;break;case 'wts':t=1;break;case 'rat':r=1;break;}v=w?'visible':'hidden';t=t?'visible':'hidden';r=r?'visible':'hidden';$('fb_lbl_when').style.visibility=$('fb_cb_when').style.visibility=v;if(w){Facebook.ulUpdateDt();}else{$('fb_text_date').style.visibility=$('fb_spin_day').style.visibility=$('fb_text_time').style.visibility=$('fb_spin_ampm').style.visibility=$('fb_spin_hour').style.visibility=$('fb_spin_min').style.visibility=v;}$('fb_lbl_tag').style.visibility=$('fb_cb_tag').style.visibility=t;$('fb_lbl_rat').style.visibility=$('fb_rad1').style.visibility=$('fb_rad2').style.visibility=r;},SubmitMore:function(i){var a=$('fb_act').value,m=$('fb_med').value,n=$('fb_dvd').value,w=$('fb_lbl_when').style.visibility=='visible',t=$('fb_lbl_tag').style.visibility=='visible',r=$('fb_lbl_rat').style.visibility=='visible',w1=w&&$('fb_cb_when').checked?Facebook._when.getTime()/1000:'';t1=t?$('fb_cb_tag').checked:false,r1=r?Radio.getVal('fb_rad'):0,m1=$('fb_msg').value;var e;Context.close();if(t1){e=Facebook.getFriendsDiv(a,m,n,w1,r1,m1);Pop.open(e,0,354,0,3);}else{Facebook.post(a,n,m,m1,w1,r1,'');}},getFriendsDiv:function(a,m,n,w1,r1,m1){var d=$('div_fb_friends'),f;if(!d){d=document.createElement('div');var s=d.style,b=document.getElementsByTagName('body').item(0);d.id='div_fb_friends';s.visibility='hidden';s.position='absolute';s.top=0;s.left=0;s.zIndex=7;b.appendChild(d);d.innerHTML="<div style='background:#0059a6'><div style='border:1px solid #6c8ba6;padding:3px'><div style='background:#ffffff;text-align:center;width:368px'><div><table class='img_bar' style='width:100%'><tr><td class='img_bar' style='border-bottom:solid 2px #0059a6;text-align:center'>Facebook - Tagging</td></tr></table></div><div style='padding:10px 0 4px 0'>Please select which friends were/will be there with you<div style='padding:10px 20px 6px 20px'><input id='fb2_med' type='hidden' /><input id='fb2_dvd' type='hidden' /><input id='fb2_act' type='hidden' /><input id='fb2_msg' type='hidden' /><input id='fb2_whn' type='hidden' /><input id='fb2_rad' type='hidden' /><iframe width='324' height='160' scrolling='yes' id='frame_fb' style='border: 1px solid'></iframe><div style='text-align:right;white-space:nowrap;padding-top:8px'><input type='button' value='Post without tagging' onclick='Facebook.closeFriendsDiv(1)' /> <input type='button' value='Post' onclick='Facebook.closeFriendsDiv(2)' id='fb2_post' /> <input type='button' value='Cancel' onclick='Facebook.closeFriendsDiv(0)' /></div></div></div></div></div></div>";}$('fb2_med').value=m;$('fb2_dvd').value=n;$('fb2_act').value=a;$('fb2_whn').value=w1;$('fb2_rad').value=r1;$('fb2_msg').value=m1;Button.enable('fb2_post',0);if((f=Win.findFrame('frame_fb'))){f.write("<html><head><link rel='stylesheet' type='text/css' href='/styles/00/filmaf.css' /><body style='background:#ffffff'><div style='text-align:center;padding-top:10px;color:#999999'>Waiting on Facebook<div style='text-align:center;padding-top:36px'><img src='http://dv1.us/d1/wait.gif' width='32px' height='32px' /></div></div></body></html>");f.close();}Facebook.getFriends();return d;},popFriends:function(a){var i,f,s='';a.sort(function(a,b){return a.name.toLocaleLowerCase().localeCompare(b.name.toLocaleLowerCase());});if((f=Win.findFrame('frame_fb'))){for(i=0;i<a.length;i++)s+="<div><input type='checkbox' id='fbf_"+a[i].id+"'> "+a[i].name+"</div>";f.write("<html><head><link rel='stylesheet' type='text/css' href='/styles/00/filmaf.css' /><body style='background:#ffffff'><div id='fb_list'>"+s+"</div></body></html>");f.close();Button.enable('fb2_post',1);}},getCheckedFriends:function(){var i,a,f,s='';if((f=Win.findFrame('frame_fb'))){a=f.getElementsByTagName('input');for(i=0;i<a.length;i++)if(a[i].type=='checkbox'&&a[i].checked)s+=','+a[i].id.substr(4);s=s.substr(1);}return s;},closeFriendsDiv:function(x){var a,n,m,s,w,r,t='';switch(x){case 2:t=Facebook.getCheckedFriends();case 1:a=$('fb2_act').value;n=$('fb2_dvd').value;m=$('fb2_med').value;s=$('fb2_msg').value;w=$('fb2_whn').value;r=$('fb2_rad').value;break;}Pop.close('div_fb_friends');if(x)Facebook.post(a,n,m,s,w,r,t);},getPostDiv:function(){var d=$('div_fb_post'),e,f;if(!d){d=document.createElement('div');var s=d.style,b=document.getElementsByTagName('body').item(0);d.id='div_fb_post';s.visibility='hidden';s.position='absolute';s.top=0;s.left=0;s.zIndex=7;b.appendChild(d);d.innerHTML="<div style='background:#0059a6'><div style='border:1px solid #6c8ba6;padding:3px'><div style='background:#ffffff;text-align:center;width:368px'><div><table class='img_bar' style='width:100%'><tr><td class='img_bar' style='border-bottom:solid 2px #0059a6;text-align:center'>Facebook - Posting</td></tr></table></div><div style='text-align:center;padding:10px 0 10px 0'><div id='div_fb_posted'></div></div></div></div></div>";}if((e=$('div_fb_posted'))){e.innerHTML="Waiting on Facebook<div style='text-align:center;padding:10px 0 10px 0'><img src='http://dv1.us/d1/wait.gif' width='32px' height='32px' /></div>";}return d;},closePostDiv:function(){Pop.close('div_fb_post');},_login:function(callback,s_get,a_post){FB.login(function(a_response){if(a_response.authResponse){if(a_post===false){FB.api(s_get,function(a_response){callback(s_get,a_post,a_response,a_response&&!a_response.error);});}else{FB.api(s_get,'post',a_post,function(a_response){callback(s_get,a_post,a_response,a_response&&!a_response.error);});}}},{scope:'publish_actions,read_friendlists'});},_error:function(a_response){if(a_response.error)alert('Error: '+a_response.error.message);else alert('Error occured');return 0;},parse:function(s){var m;if((s=Str.trim(s))!=''){if((m=Url.getVal('id',s))&&/^[0-9]*$/.test(m))return m;if((m=/^http:\/\/www\.facebook\.com\/people\/[^\/]*\/([0-9]*)$/.exec(s))&&m.length>1)return m[1];if(/^[0-9]*$/.test(s))return s;return false;}return '';},validate:function(s_field,o_changed,b_allow_empty,s_name,b_must_change){var s,e_new,e_old,b_same;if((e_new=$(s_field))){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=Str.trim(e_new.value)!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&(s=Str.trim(e_new.value))==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;s=Validate.checkEmptiness(e_new,b_allow_empty,s_name);if(s===false)return false;if(!e_old&&s=='')b_same=true;s=Facebook.parse(s);if(s===false){Validate.warn(e_new,true,true,"Your "+s_field+" seems to be invalid.\n\nWe expected:\n        A string with some 10 digits\n\nor a URL like one of these:\n        http://www.facebook.com/profile.php?id=7777777\n        http://www.facebook.com/people/User-Name/7777777",false);return false;}if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;e_new.value=s;return s;}return '';}};window.fbAsyncInit=function(){FB.init({appId:'413057338766015',status:true,cookie:true,xfbml:true});};(function(d,debug){var js,id='facebook-jssdk',ref=d.getElementsByTagName('script')[0];if(d.getElementById(id)){return;}js=d.createElement('script');js.id=id;js.async=true;js.src="//connect.facebook.net/en_US/all"+(debug?"/debug":"")+".js";ref.parentNode.insertBefore(js,ref);}(document,true));var ImgSpun={attachSpun:function(e,cb){e.onmouseover=function(ev){Img.mouseOver(ev,this,17);};e.onmousemove=function(ev){Img.mouseOver(ev,this,17);};e.onmousewheel=function(ev){ImgSpun._wheel(ev,this,17,this.id,cb);};e.onmouseout=function(){Img.mouseOut(this,17);};e.onclick=function(ev){Img.click(ev,this,17,this.id);};e.ondblclick=function(ev){if(!ev)Img.click(ev,this,17,this.id);};},_wheel:function(ev,img,type,s_id,cb){ev||(ev=window.event);if(ev.wheelDelta&&(!Img._buttonsLoaded||!img))return;var a=Img.buttons[type],o=ev.wheelDelta;if(o!=0&&a.onClick)a.onClick(s_id,o>=0);ev.cancelBubble=true;ev.returnValue=false;},click:function(s,u){$(s).spun(u);}};var Tab={_length:[],_options:[],_wholepage:false,targetDiv:'',setup:function(tab_id,options){var el=$(tab_id);if(!el){alert('Could not find a tab control by the name "'+tab_id+'".');return;}var a=Dom.getChildrenByType(el,'ul');a=Dom.getChildrenByType(a.length>0?a[0]:el,'li');if(!(a.length>0)){alert('No tab definitions found for "'+tab_id+'".');return;}var k=Tab._length.length;Tab._length[k]=a.length;Tab._options[k]={};Tab._wholepage=(options&&typeof(options['wholepage'])!='undefined')?options['wholepage']=='1':false;Tab.getCmdOptions(Tab._options[k],options,'loadtab',0,0,a.length-1);Tab.getCmdOptions(Tab._options[k],options,'width');Tab.getCmdOptions(Tab._options[k],options,'background');Tab.getCmdOptions(Tab._options[k],options,'padding','8px');Tab.getCmdOptions(Tab._options[k],options,'populate',true);var op=Tab._options[k];var s="<table cellpadding='0' style='position:relative;"+(op.width?" width:"+op.width+";":'')+(op.background?" background:"+op.background+";":'')+(op.padding?" padding:"+op.padding+";":'')+"'><tr><td><table cellpadding='0' width='100%'><tr><td><table cellpadding='0'><tr style='position:relative;z-index:2'><tr>";var href=[];var hdiv=[];for(var i=0;i<a.length;i++){var b=Dom.getChildrenByType(a[i],'a');var label,dx;if(b.length>0){label=b[0].innerHTML;dx=b[0].offsetWidth+20+'px';href[i]=b[0].href;}else{b=Dom.getChildrenByType(a[i],'div');if(b.length>0){hdiv[i]=b[0].innerHTML;a[i].removeChild(a[i].lastChild);}label=a[i].innerHTML;a[i].innerHTML='<span>'+label+'</span>';b=Dom.getChildrenByType(a[i],'span');dx=b.length>0?b[0].offsetWidth+20+'px':'10em';}s+="<td><div class='tab-00' onmouseover='Tab.set("+k+","+i+",1,false);' onmouseout='Tab.set("+k+","+i+",0,false);' onclick='Tab.set("+k+","+i+",2,true);'><div class='tab-01'><div class='tab-10'><div class='tab-11'><div class='tab-xx'><div id='tab"+k+"_"+i+"' unselectable='on' style='width: "+dx+";padding:5px 0 4px 0'>"+label+"</div></div></div></div></div></div></td>";}s+="</tr></table></td></tr><tr><td><table cellpadding='0' width='100%'><tr style='position:relative;z-index:0'><tr><td><div class='cab-t'><div class='cab-b'><div class='cab-r'><div class='cab-l' id='tab"+k+"_div' >&nbsp;</div></div></div></div></td></tr></table></td></tr></table></td></tr></table>";el.innerHTML=s;for(var i=0;i<a.length;i++){el=$('tab'+k+'_'+i);if(el){if(href[i])el['tab_href']=href[i];if(hdiv[i])el['tab_hdiv']=hdiv[i];}}Tab.set(k,op.loadtab,2,op.populate);},set:function(n_tab,n_id,n_state,b_populate){var el=$('tab'+n_tab+'_'+n_id);var ch=n_state==2?'s':(n_state==1?'h':'t');var ol;if(!el)return;if(n_state==2){el['tab_selected']=1;for(var i=0;i<Tab._length[n_tab];i++){if(i==n_id)continue;ol=$('tab'+n_tab+'_'+i);if(ol&&ol.tab_selected==1){ol.tab_selected=0;Tab.set(n_tab,i,0,false);}}Tab.targetDiv='tab'+n_tab+'_div';if(b_populate){ol=$(Tab.targetDiv);if(ol){if(el.tab_hdiv){ol.innerHTML=el.tab_hdiv;}else{var href=el.tab_href?el.tab_href.replace(/%22/g,'"'):'about:blank';if(href.substr(0,11)=='javascript:'){eval(href.substr(11));}else{if(Tab._wholepage){location.href=href;}else{ol.innerHTML="<iframe id='tab"+n_tab+"_frame' scrolling='no' width='99%' frameborder='0' marginwidth='0' src='"+href+"'>Oops, your browser does not support iframes, please follow <a href='"+href+"'>this link</a>.</iframe>";}}}}}}else{if(el['tab_selected']==1)ch='s';}el=el.parentNode;el.className=ch+'ab-xx';el=el.parentNode;el.className=ch+'ab-11';el=el.parentNode;el.className=ch+'ab-10';el=el.parentNode;el.className=ch+'ab-01';el=el.parentNode;el.className=ch+'ab-00';},iframeResize:function(s_id){var el=$(s_id);if(el&&el.contentWindow&&el.contentWindow.document&&el.contentWindow.document.body&&el.contentWindow.document.body.scrollHeight){if(el.scrollHeight<el.contentWindow.document.body.scrollHeight+20)el.style.height=Dec.parse(el.contentWindow.document.body.scrollHeight)+20+'px';}},getCmdOptions:function(a,o,s_item,s_default,n_min,n_max){if(o&&typeof(o[s_item])!='undefined'){a[s_item]=o[s_item];if(n_min&&n_max&&(a[s_item]<n_min||a[s_item]>n_max))a[s_item]=s_default;}else{a[s_item]=s_default;}}};var TblMenu={attach:function(e,callback){if((e=$(e))){e._TblMenuSel=null;e._TblMenuCall=callback;var y=Dom.getFirstChildByType(e,'tbody'),x,i,j;if((y=Dom.getChildrenByType(y?y:e,'tr'))){for(j=y.length;--j>=0;){if((x=Dom.getChildrenByType(y[j],'td'))){for(i=x.length;--i>=0;){a=x[i];if(a.id){a._TblMenuCont=e;a.onmouseover=function(ev){TblMenu.mouseOver(ev,this);};a.onmouseout=function(){TblMenu.mouseOut(this);};a.onclick=function(ev){TblMenu.click(ev,this);};a.className='td_opt';}}}}}}},mouseOver:function(ev,td){if(td._TblMenuCont)if(td._TblMenuCont._TblMenuSel&&td._TblMenuCont._TblMenuSel.id!=td.id)td.className='td_hov';},mouseOut:function(td){if(td._TblMenuCont)if(td._TblMenuCont._TblMenuSel&&td._TblMenuCont._TblMenuSel.id!=td.id)td.className='td_opt';},click:function(ev,td){TblMenu.set(td,-2);},set:function(e,parm){if(e&&e._TblMenuCont){if(e._TblMenuCont._TblMenuSel&&e._TblMenuCont._TblMenuSel.id!=e.id)e._TblMenuCont._TblMenuSel.className='td_opt';(e._TblMenuCont._TblMenuSel=e).className='td_sel';e._TblMenuCont._TblMenuCall(e.id,parm);}}};var Button={enable:function(e,b){if((e=$s(e))){if(b){e.disabled=false;e.style.color='';}else{e.disabled=true;e.style.color='#999999';}}}};var Radio={getVal:function(e){if(typeof(e)=='string')e=document.getElementsByName(e);if(e)for(var i=0;i<e.length;i++)if(e[i].checked)return e[i].value;return '';},getValCmp:function(e,o_changed){var s=Radio.getVal(e);if(!o_changed.b_changed&&(e=$('o_'+e.substr(2))))o_changed.b_changed=s==e.value;return s;},setPrefixed:function(name,s,options){var e;if(options.indexOf(s)>=0){if((e=$('n_'+name+'_'+s)))e.checked=true;if((e=$('o_'+name)))e.value=s;return s;}return '';},validate:function(s_field,o_changed,b_must_change){var s,e_old,b_same;if((s=Radio.getVal(s_field))!=''){if(o_changed&&!o_changed.b_undo&&(e_old=$('z_'+s_field.substr(2))))o_changed.b_undo=s!=Str.trim(e_old.value);b_same=(e_old=$('o_'+s_field.substr(2)))&&s==Str.trim(e_old.value);if(b_same&&!b_must_change)return s;if(o_changed&&!o_changed.b_changed)o_changed.b_changed=!b_same;return s;}return '';}};var ImgSpin={attachSpinV:function(e){e.onmouseover=function(ev){Img.mouseOver(ev,this,4);};e.onmousemove=function(ev){Img.mouseOver(ev,this,4);};e.onmousewheel=function(ev){ImgSpin._wheel(ev,this,4,this.id);};e.onmouseout=function(){Img.mouseOut(this,4);};e.onclick=function(ev){Img.click(ev,this,4,this.id);};e.ondblclick=function(ev){if(!ev)Img.click(ev,this,4,this.id);};},attachSpinH:function(e){e.onmouseover=function(ev){Img.mouseOver(ev,this,8);};e.onmousemove=function(ev){Img.mouseOver(ev,this,8);};e.onmousewheel=function(ev){ImgSpin._wheel(ev,this,8,this.id);};e.onmouseout=function(){Img.mouseOut(this,8);};e.onclick=function(ev){Img.click(ev,this,8,this.id);};e.ondblclick=function(ev){if(!ev)Img.click(ev,this,8,this.id);};},_wheel:function(ev,img,type,s_id){ev||(ev=window.event);if(ev.wheelDelta&&(!Img._buttonsLoaded||!img))return;if(ev.srcElement&&ev.srcElement.getAttribute('sp_inc')=='F')return;var a=Img.buttons[type],o=ev.wheelDelta;if(o!=0&&a.onClick)a.onClick(s_id,o>=0);ev.cancelBubble=true;ev.returnValue=false;},click:function(s,u){function ff_bounds(n,p,u){var a=p.getAttribute('sp_min'),b=p.getAttribute('sp_max');if(a&&b){switch(u){case 'int':a=Dec.parse(a);if(n<a)return a;b=Dec.parse(b);if(n>b)return b;break;case 'float':a=Dbl.parse(a);if(n<a)n=a;b=Dbl.parse(b);if(n>b)n=b;n=Dbl.toStr(n,'');break;}}return n;};var k,e,p=$(s);if(p){k=p.getAttribute('sp_inc');if(k=='F'){Folders.onSpin(s,u);}else{if((e=$('n_'+s.substr(5)))){switch(k){case '0':s=Edit.getInt(e)+(u?1:-1);u='int';break;case '1':s=Edit.getInt(e)+(u?10:-10);u='int';break;case '2':s=Edit.getInt(e)+(u?100:-100);u='int';break;case '3':s=Edit.getInt(e)+(u?1000:-1000);u='int';break;case '4':s=Edit.getInt(e)+(u?10000:-10000);u='int';break;case 'a':s=Math.floor(Edit.getInt(e)/10)*10+(u?10:-10);u='int';break;case 'b':s=Math.floor(Edit.getInt(e)/100)*100+(u?100:-100);u='int';break;case 'c':s=Math.floor(Edit.getInt(e)/1000)*1000+(u?1000:-1000);u='int';break;case 'd':s=Math.floor(Edit.getInt(e)/10000)*10000+(u?10000:-10000);u='int';break;case 'e':s=Math.floor(Edit.getInt(e)/100000)*100000+(u?100000:-100000);u='int';break;case 'A':s=Edit.getDbl(e)+(u?0.01:-0.01);u='float';break;case 'B':s=Edit.getDbl(e)+(u?0.1:-0.1);u='float';break;case 'C':s=Edit.getDbl(e)+(u?1:-1);u='float';break;case 'D':s=Edit.getDbl(e)+(u?10:-10);u='float';break;case 'E':s=Edit.getDbl(e)+(u?100:-100);u='float';break;default:return;}e.value=ff_bounds(s,p,u);Undo.change(e);}}}}};var ImgPop={_zoomImg:null,_zoomDvd:0,_zoomSrc:'',_related:{},_onwership:false,_footer:false,skipShowOnWait:false,menuContext:'',setMenuText:function(e){if(Cookie.get('finder')=='N'){e.innerHTML='Edition Finder';ImgPop.menuContext='show';}else{e.innerHTML='Disable Edition Finder';ImgPop.menuContext='stop showing';}},show:function(e,ovr){if(ImgPop.skipShowOnWait)return;var auto=Cookie.get('finder')!='N';if(e&&(ovr||auto)){var f=ImgPop.getImgDiv(),g=$('img_zoom1'),h=$('img_zoom2'),s=e.src,z='',r,x,y,tx,ty,d,o,a,b;if(f&&g&&h){if(/^http:\/\/([a-z]\.)?dv1.us\/p0\/[0-9]{3}\/[0-9]{6}-d[0-9]+\.gif$/.test(s)){z=s.replace(/p0/,'p1').replace(/gif/,'jpg');y='http://dv1.us/d1/wait-big.gif';tx=356;ty=623;d=1;ImgPop._onwership=Filmaf.userCollection!=''&&(Filmaf.userCollection!=Filmaf.viewCollection||typeof(Home)!="undefined");}if(/^http:\/\/dv1.us\/usr\/[a-z-]\/[^\._]+_t\.jpg$/.test(s)){z=s.replace(/_t\./,'_p.');y='http://dv1.us/d1/wait.gif';tx=356;ty=289;d=0;ImgPop._onwership=false;}if(z&&ImgPop._zoomSrc!=z){if((r=$('pop_enable'))){if(auto){r.innerHTML='Disable Edition Finder';r.href='javascript:ImgPop.close(1)';}else{r.innerHTML='Enable Edition Finder';r.href='javascript:ImgPop.close(2)';}}ImgPop._zoomSrc=z;g.src=y;h.src='http://dv1.us/d1/1.gif';$('pop_text').innerHTML='';Pop.open(f,e,tx,ty,d);ImgPop._zoomImg=new Image();ImgPop._zoomImg.onload=function(){ImgPop._doneLoading();};ImgPop._zoomImg.src=z;if(d){ImgPop._zoomDvd=Dec.parse(e.id.substr(3));Ajax.asynchNoDup('img-pop','ImgPop.__paint','?dvd='+ImgPop._zoomDvd,0,250);}}}}},__paint:function(){var o={};if(!Ajax.getParms(o))return;var dvd=Ajax.statusInt(o.line1,'dvd'),y={has:false,amz:'&nbsp;',price:'&nbsp;',imdb:'&nbsp;',media:'&nbsp;',cnt:'&nbsp;',pub:'&nbsp;',rel:'&nbsp;'},s='',x={},i,same=0;if(ImgPop._zoomDvd!=dvd)return;ImgPop._related.same='';ImgPop._related.mine='';ImgPop._related.mine_count=0;ImgPop._related.other='';ImgPop._related.other_count=0;ImgPop._related.dvd=[];for(i=2;i<o.length&&ImgPop._parsePaint(o.lines[i],x);i++){ImgPop._related.dvd[i-1]=x.dvd;if(x.dvd==dvd){y.dvd=x.dvd;y.pic=x.pic;y.folder=x.folder;y.has=x.folder!='';y.amz=x.amz;y.price=x.price;y.imdb=x.imdb;y.media=x.media;y.cnt=x.cnt;y.pub=x.pub;y.rel=x.rel;ImgPop._paintGenAlternates(x,ImgPop._related,y.has?2:1);}else{ImgPop._paintGenAlternates(x,ImgPop._related,0);}}s+="<div id='pop_text2'>";if(ImgPop._onwership)if(y.has)s+=ImgPop.paintInColl(y.folder,'ImgPop.showAll()');else s+=ImgPop._paintAlternates(ImgPop._related,ImgPop._related.mine_count>0?1:0);else s+=ImgPop._paintAlternates(ImgPop._related,0);s+="</div><div style='overflow:hidden'><table class='img_bar' style='width:100%'><tr><td class='img_bar' style='border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.media+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.price+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.rel+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.amz+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.imdb+"</td></tr><tr><td class='img_bar' style='border-right:solid 2px #0059a6;border-top:solid 2px #0059a6'>"+y.cnt+"</td><td class='img_bar' style='border-left:solid 2px #0059a6;border-top:solid 2px #0059a6;overflow:hidden' colspan='4'>"+y.pub+"</td></tr></table></div>";$('pop_text').innerHTML=s;Pop.open('div_zoom','',0,0,2);},__paintExpand:function(){var o={};if(!Ajax.getParms(o))return;var dvd=Ajax.statusInt(o.line1,'dvd'),x={},i;ImgPop._related.same='';ImgPop._related.mine='';ImgPop._related.mine_count=0;ImgPop._related.other='';ImgPop._related.other_count=0;ImgPop._related.dvd=[];for(i=2;i<o.length&&ImgPop._parsePaint(o.lines[i],x);i++){ImgPop._related.dvd[i-1]=x.dvd;ImgPop._paintGenAlternates(x,ImgPop._related,x.dvd==dvd?(x.folder!=''?2:1):0);}$('pop_text').innerHTML=ImgPop._paintAlternates(ImgPop._related,2);},showAll:function(){$('pop_text2').innerHTML=ImgPop._paintAlternates(ImgPop._related,2);Pop.open('div_zoom','',0,0,2);},_paintGenAlternates:function(x,h,same){var z=same?'*':'',f='0000000'+x.dvd;f=f.substr(f.length-6,6);f=Filmaf.baseDomain+"/search.html?has="+f+"&init_form=str0_has_"+f;f="<div class='img_float2'><a id='b_"+x.dvd+"' class='dvd_pic' href='"+f+"'><img src='"+(x.pic=='-'?'http://dv1.us/d1/00/pic-no.gif':Img.getPicLoc(x.pic,1))+"' width='63' height='90' /></a> <div class='img_text'>"+z;z+="</div></div>";if(x.folder!=''){f+=ImgPop._getFolderName(x.folder)+z;if(!same){h.mine+=f;h.mine_count++;}}else{f+=x.mediaSm+'/'+x.cntSm+z;if(!same){h.other+=f;h.other_count++;}}if(same)h.same=f;},paintInColl:function(f,s){return "<div><div><div style='float:right'><a href='javascript:"+s+"'>[+]</a></div>In your collection</div><img src='http://dv1.us/d1/"+ImgPop._getFolderImg(f)+"' width='90px' height='90px' /><div class='img_text'>"+ImgPop._getFolderName(f)+"</div></div>";},_paintAlternates:function(h,mine){var tit,cnt,str;switch(mine){case 0:return "<div style='padding:0 4px 4px 4px'><div style='float:right'><a href='javascript:ImgPop.showAll()'>[+]</a></div>&nbsp;</div>";break;case 1:tit="<div style='float:right'><a href='javascript:ImgPop.showAll()'>[+]</a></div>Alternate editions in your collection";cnt=h.mine_count;str=h.mine;break;case 2:tit="Alternate editions";cnt=1+h.mine_count+h.other_count;str=h.same+h.mine+h.other;break;}if(!cnt)return '';var w=cnt*(63+22),t=cnt>4?" style='overflow-x:scroll'":'',c=cnt>4?" ("+cnt+")":'';return "<div style='padding:0 4px 2px 4px'><div style='padding-bottom:2px'>"+tit+c+"</div><div"+t+"><div style='height:104px;width:"+w+"px'>"+str+"</div></div></div>";},_getFolderName:function(s){switch(s){case 'owne':return 'owned';case 'wish':return 'wish&nbsp;list';case 'on-o':return 'on&nbsp;order';case 'work':return 'work';case 'have':return 'have&nbsp;seen';}return '';},_getFolderImg:function(s){switch(s){case 'owne':return 'chk-g.gif';case 'wish':return 'chk-r.gif';case 'on-o':return 'chk-b.gif';case 'work':return 'chk-y.gif';case 'have':return 'chk-z.gif';}return '1.gif';},_getMediaType:function(s,z){switch(s){case '2':return z?'BD/D':'Blu-ray/DVD';case '3':return z?'BD3d':'Blu-ray 3D';case 'A':return z?'Aud':'DVD Audio';case 'B':return z?'BD':'Blu-Ray';case 'C':return z?'HD/D':'HD DVD/DVD';case 'D':return z?'D':'DVD';case 'H':return z?'HD':'HD DVD';case 'O':return z?'Ot':'Other';case 'P':return z?'Hold':'Placeholder';case 'R':return z?'BD-R':'BD-R';case 'T':return z?'HD/D':'HD DVD/DVD';case 'V':return z?'D-R':'DVD-R';}return '&nbsp;';},_parsePaint:function(s,t){var i,n;s=s.split('\t');if(s.length>=10){t.dvd=s[0];t.pic=s[1];t.folder=s[2];t.amz=s[3];t.price=s[4];t.imdb=s[5];t.media=s[6];t.cnt=s[7];t.pub=s[8];t.rel=s[9].trim();t.amz=t.amz!=0?"amz: <a href='"+Filmaf.baseDomain+"/rt.php?vd=amz"+t.dvd+"'>x</a>":'&nbsp;';t.price=t.price>0?"<a href='"+Filmaf.baseDomain+"/rt.php?vd=amz"+t.dvd+"'>$"+t.price+"</a>":'&nbsp;';t.rel=t.rel!='-'?t.rel.substr(0,4)+'-'+t.rel.substr(4,2)+'-'+t.rel.substr(6,2):'&nbsp;';t.cnt=t.cnt!='-'?t.cnt.substr(1,t.cnt.length-2).toUpperCase():'&nbsp;';t.cntSm=t.cnt.substr(0,2);n='0000000'+t.dvd;n=n.substr(n.length-7,7);t.mediaSm=ImgPop._getMediaType(t.media,1);t.media="<a href='"+Filmaf.baseDomain+"/search.html?has="+n+"&init_form=str0_has_"+n+"'>"+ImgPop._getMediaType(t.media,0)+"</a>";if(t.imdb){n=t.imdb;t.imdb='imdb: ';for(i=0;i<n;i++)t.imdb+="<a href='"+Filmaf.baseDomain+"/rt.php?vd=imd"+t.dvd+"-"+i+"'>x</a> ";}else{t.imdb='&nbsp;';}return true;}return false;},getImgDiv:function(){var e=$('div_zoom');if(e)return e;var d=document.createElement('div'),s=d.style,b=document.getElementsByTagName('body').item(0);d.id='div_zoom';s.visibility='hidden';s.position='absolute';s.top=0;s.left=0;s.zIndex=7;b.appendChild(d);d.innerHTML="<div style='background:#0059a6'><div style='border:1px solid #6c8ba6;padding:3px'><div style='background:#ffffff;text-align:center;width:348px'><div><table class='img_bar' style='width:100%'><tr><td class='img_bar' style='border-bottom:solid 2px #0059a6;text-align:left'><div style='float:right'><a href='javascript:ImgPop.close(0)'>Close</a></div><a id='pop_enable' href='javascript:ImgPop.close(1)'>Disable Edition Finder</a></td></tr></table></div><div style='padding:8px 0 4px 0'><img id='img_zoom1' src='http://dv1.us/d1/1.gif' onclick='ImgPop.close(0)' /><img id='img_zoom2' src='http://dv1.us/d1/1.gif' onclick='ImgPop.close(0)' /></div><div id='pop_text'></div></div></div></div>";return d;},close:function(p){if(Pop.close('div_zoom')){ImgPop._zoomImg=null;ImgPop._zoomSrc='';}switch(p){case 1:Cookie.set('finder','N');break;case 2:Cookie.del('finder');break;}},_doneLoading:function(){var g=$('img_zoom1'),h=$('img_zoom2');;if(g&&h){g.src='http://dv1.us/d1/1.gif';h.src=ImgPop._zoomImg.src;}}};var Jump={_callback:null,attach:function(s_click,f_cb){Context.attach(s_click,false,'menu-jump-page');Jump._callback=f_cb;},attachSpin:function(t){var e,i,re=/[\&\?]pg=[0-9]*/i,s=location.href;s=re.exec(s);s=(s&&s.index>0)?s[0].substr(4):'1';t=t?Dec.parse(t.getAttribute('sp_max')):100;if(t<=0)t=100;if((e=$('n_jump')))e.value=s;for(i=1;i<=2;i++)if((e=$('is_'+i+'_jump'))){e.setAttribute('sp_max',t);ImgSpin.attachSpinV(e);}},setOnEnter:function(ev){if(Kbd.isEnter(ev)){Jump.set(-2);return false;}return true;},set:function(n){if(n<0&&(e=$('n_jump')))n=e.value;n=Dec.parse(Str.trim(n));if(n>0){if(Jump._callback){Jump._callback('page',n);Context.close();}else{var re=/[\&\?]pg=[0-9]*/i,s=location.href,p=n!=1?'&pg='+n:'',a;a=re.exec(s);if(a&&a.index>0)s=p.substr(4)!=a[0].substr(4)?s.replace(re,p):'';else s=p?s+p:'';if(s){if(s.indexOf('?')<0)if((a=s.indexOf('&'))>0)s=s.substr(0,a)+'?'+s.substr(a+1);location.href=s;}else{alert('You are already on page '+n+'.');}}}else{alert('Please enter the page number you would like to jump to.');}return false;}};var Kbd={isEnter:function(ev){return(window.event?window.event.keyCode:(ev?ev.which:null))==13;},isEditKey:function(c){switch(c){case 8:case 9:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 45:case 46:case 127:return true;}return false;}};var PageSize={attach:function(s_click){Context.attach(s_click,false,'menu-page-size');},attachSpin:function(t){var s=Dec.parse(Cookie.get('page')),e,i;if(t)t=Dec.parse(t.getAttribute('sp_max'));if(t<=0)t=200;if(s<=0)s=50;else if(s>t)s=t;if((e=$('n_pagesize')))e.value=s;for(i=1;i<=3;i++)if((e=$('is_'+i+'_pagesize'))){e.setAttribute('sp_max',t);ImgSpin.attachSpinV(e);}},setOnEnter:function(ev){if(Kbd.isEnter(ev)){PageSize.set(-2);return false;}return true;},set:function(n){var re=/[\&\?]pg=[0-9]*/i,s=location.href,m=Cookie.get('page'),o=n,p,a,e;if(n<0&&(e=$('n_pagesize')))n=e.value;n=Dec.parse(Str.trim(n));a=re.exec(s);if(a&&a.index>0)p=Dec.parse(a[0].substr(4));if(p<=0)p=1;if(n<=0)n=50;if(m<=0)m=50;if(m==n){alert(n+' is already your current page size.');}else{p=Math.floor((((p-1)*m+1)-1)/n)+1;q=p>1?'&pg='+p:'';if(a&&a.index>0){if(p!=n)s=s.replace(re,q);}else{if(p!=1)s=s+q;}if(s.indexOf('?')<0)if((a=s.indexOf('&'))>0)s=s.substr(0,a)+'?'+s.substr(a+1);Cookie.set('page',n);location.href=s;}return false;}};var Splash={show:function(a,c,href){var e,s='splash_div',z;if(document.getElementById)e=$(s).style;else if(document.all)e=document.all[s].style;else if(document.layers)e=document.layers[s];else return;switch(a){case 1:z=Dec.parse(Cookie.get('splash'));if(c>z){if(document.getElementById)e.left=Math.max(30,Math.floor((document.body.clientWidth-Dec.parse(e.width))/2))+'px';Splash._fadeIn(s,0,10,50);}break;case 0:case 2:href=false;case 3:Splash._fadeOut(s,100,20,50);Cookie.set('splash',c);if(href)location.href=href;break;}},_fadeIn:function(s,i,n,t){var e=$(s);if(e){i+=n;if(i>100)i=100;if(document.all&&document.all[s].filters)document.all[s].filters['alpha'].opacity=i;else if(e.style.MozOpacity)e.style.MozOpacity=i/100;else return e.style.visibility='visible';if(e.style.visibility!='visible')e.style.visibility='visible';if(i<100)setTimeout('Splash._fadeIn("'+s+'",'+i+','+n+','+t+')',t);}},_fadeOut:function(s,i,n,t){var e=$(s);if(e){i-=n;if(i<0)i=0;if(document.all&&document.all[s].filters)document.all[s].filters['alpha'].opacity=i;else if(e.style.MozOpacity)e.style.MozOpacity=i/100;else return(e.style.visibility='hidden');if(i>0)setTimeout('Splash._fadeOut("'+s+'",'+i+','+n+','+t+')',t);else e.style.visibility='hidden';}}};var Undo={_redo:{},setImg:function(x,b){var e,f,n,z,s,t='';s=x.id.substr(3);e=$('n_'+s);f=$('z_'+s);if(!e||!f)return;if(e&&e.type=='radio')return;n=e?(e.type=='checkbox'?(e.checked?'Y':'N'):e.value):'';z=f?f.value:'';if(n!=z){s=b?Img.buttons[7].b11.src:Img.buttons[7].b10.src;t='Undo';}else{if(n==Undo._getRedo(s)){s=Img.buttons[7].b00.src;}else{s=b?Img.buttons[7].b21.src:Img.buttons[7].b20.src;t='Redo';}}if(s!=x.src)x.src=s;x.title=t;},attach:function(x){var e,i,n='n'+x.id.substr(2);if((e=$(n))&&e.id==n){switch(e.tagName){case 'INPUT':switch(e.type){case 'text':e.onchange=e.onkeyup=e.onpaste=e.onblur=e.onmouseout=function(){Undo.change(this);};break;case 'checkbox':e.onclick=function(){Undo.change(this);};break;case 'hidden':break;default:alert('Missing attachUndo:1('+e.type+') for '+e.id);break;}break;case 'TEXTAREA':e.onchange=e.onkeyup=e.onpaste=e.onblur=e.onmouseout=function(){Undo.change(this);};break;case 'SELECT':e.onchange=function(){Undo.change(this);};break;default:alert('Missing attachUndo:2('+e.tagName+') for '+e.id);break;}}},set:function(e,v){if((e=$s(e))){switch(e.tagName){case 'INPUT':switch(e.type){case 'text':e.value=v;Undo.change(e);break;case 'hidden':e.value=v;Undo.change(e);Undo._updateDecode('g'+e.id.substr(1),v);break;case 'checkbox':e.checked=v!='N';Undo.change(e);break;default:alert('Missing Undo.set('+e.type+') for '+e.id);break;}break;case 'TEXTAREA':e.value=v;Undo.change(e);break;case 'SELECT':DropDown.selectFromVal(e,v);Undo.change(e);break;default:alert('Missing Undo.set('+e.tagName+') for '+e.id);break;}if(typeof(e.notifySet)=='function')e.notifySet();}},change:function(e){e=e.type=='radio'?e.id.substr(1,e.id.length-3):e.id.substr(1);e=$('zi'+e);if(e)Undo.setImg(e,false);},click:function(s,u){var n,z,g,nv,zv,ov;n=$('n_'+s);nv=n?(n.type=='checkbox'?(n.checked?'Y':'N'):n.value):'';z=$('z_'+s);zv=z?z.value:'';g=$('g_'+s);ov=Undo._getRedo(s);if(n&&z){if(nv!=zv){Undo._redo[s]=nv;Undo.set(n,zv);if(g)Undo.set(g,Decode.field(n.id,zv));}else{if(nv!=ov){Undo.set(n,ov);if(g)Undo.set(g,Decode.field(n.id,ov));}}}},_getRedo:function(s){if(typeof(Undo._redo[s])!="undefined")return Undo._redo[s];s=$('o_'+s);return s?(s.type=='checkbox'?(s.checked?'Y':'N'):s.value):'';},_updateDecode:function(e,s){if((e=$s(e)))if((s=Decode.field(e.id,s)))e.value=s;}};function ulBlog(s){s.s+="<li class='context-class-a-blog_pop'><ul id='context_fb_blog'><li>"+ulBlogForm('','')+"</li></ul></li><li class='context-class-a-more_pop'><ul id='context_fb_more'><li>"+Facebook.ulDiv()+"</li></ul></li>";};function ulBlogForm(cls,but){if(cls=='')cls='one_lbl';if(but=='')but="<input type='button' id='b_blog_and_home' value='Blog and go to homepage' onclick='DvdList.blog(2)' style='width:180px;margin-right:10px'><input type='button' value='Blog' onclick='DvdList.blog(1)' style='width:80px;margin-right:10px'>";cls="<div style='margin:4px 0 4px 0'><form id='mform_dvd_blog' name='mform_dvd_blog' action='javascript:void(0)'><div class='"+cls+"' style='margin:10px 0 4px 0;text-align:left'><div><table style='width:100%;white-space:nowrap'><tr><td style='width:97%'>Blog it: (<span id='rem1'>500</span>)</td><td style='width:1%'>Publish to Facebook:</td><td style='width:1%'><input id='blogfb_cb' type='checkbox' onclick='DvdList.blogfb()' /><img id='blogfb_img' src='http://dv1.us/d1/fb0.png' /></td></tr></table></div><textarea id='n_dvd_blog' style='width:100%;height:40px' maxlength='500' wrap='soft' onkeyup='Edit.countDown(\"rem1\",500 - this.value.length)'></textarea></div><div style='text-align:right;margin:4px 0 4px 0;white-space:nowrap'>"+but+"<input type='button' value='Cancel' onclick='DvdList.blog(0)' style='width:72px'></div></form></div>";return cls;};function ulDvd(s){s.s+="<li class='context-class-a-dvd_gen'><ul id='context_gen' onclick='onMenuClick(this)'><li></li><li id='cm_gen_pin1'><div style='position:relative;left:-16px'><strong>WARNING:</strong> Pinned criteria likely to<br />restrict contextual search results.</div></li><li id='cm_gen_pin2'></li><li id='cm_gen0_title'><div>Genre</div></li><li></li><li id='cm_gen0_filmaf'>FilmAf Database</li><li id='cm_gen0_mine'>My Collection</li><li id='cm_gen0_this'>This Collection</li><li></li><li id='cm_gen1_title'><div>Genre</div></li><li id='cm_gen1_sep1'></li><li id='cm_gen1_filmaf'>FilmAf Database</li><li id='cm_gen1_mine'>My Collection</li><li id='cm_gen1_this'>This Collection</li><li id='cm_gen1_sep2'></li><li id='cm_gen2_title'><div>Genre</div></li><li></li><li id='cm_gen2_filmaf'>FilmAf Database</li><li id='cm_gen2_mine'>My Collection</li><li id='cm_gen2_this'>This Collection</li></ul></li><li class='context-class-a-dvd_imdb'><ul id='context_imdb' onclick='onMenuClick(this)'><li></li><li id='cm_imdb_pin1'><div><strong>WARNING:</strong> Pinned criteria likely to<br />restrict contextual search results.</div></li><li id='cm_imdb_pin2'></li><li id='cm_imdb_title'><div>Search by &quot;<strong>IMDB id</strong>&quot;</div></li><li></li><li id='cm_imdb_filmaf'>FilmAf Database</li><li id='cm_imdb_mine'>My Collection</li><li id='cm_imdb_this'>This Collection</li><li></li><li id='cm_imdb_imdb'>IMDB site</li></ul></li><li class='context-class-a-dvd_dir'><ul id='context_dir' onclick='onMenuClick(this)'><li></li><li id='cm_dir_pin1'><div style='position:relative;left:-16px'><strong>WARNING:</strong> Pinned criteria likely to<br />restrict contextual search results.</div></li><li id='cm_dir_pin2'></li><li id='cm_dir_title'><div>Director</div></li><li></li><li id='cm_dir_filmaf'>FilmAf Database</li><li id='cm_dir_mine'>My Collection</li><li id='cm_dir_this'>This Collection</li><li id='cm_dir_xp'>Director Explorer</li></ul></li><li class='context-class-a-dvd_pub'><ul id='context_pub' onclick='onMenuClick(this)'><li></li><li id='cm_pub_pin1'><div style='position:relative;left:-16px'><strong>WARNING:</strong> Pinned criteria likely to<br />restrict contextual search results.</div></li><li id='cm_pub_pin2'></li><li id='cm_pub_title'><div>Publisher</div></li><li></li><li id='cm_pub_filmaf'>FilmAf Database</li><li id='cm_pub_mine'>My Collection</li><li id='cm_pub_this'>This Collection</li></ul></li>";};function ulDvdOne(s){s.s+="<li class='context-class-a-dvd_pic'><ul id='context_dvd' onclick='onMenuClick(this)'><li id='cm_dvd_title'><div>DVD</div></li><li></li><li id='cm_dvd_large'>Show Large Pic</li><li id='cm_dvd_blog'>Blog it<ul><li>"+ulBlogForm('','')+"</li></ul></li>"+Facebook.ul()+"<li></li><li id='cm_dvd_one'>One Pager</li><li id='cm_dvd_who'>Who&#39;s got it?</li><li></li><li id='cm_dvd_cart_add'>Add to Cart</li><li id='cm_dvd_cart_del'>Remove from Cart</li><li id='cm_dvd_prices'>Compare Prices</li><li></li><li id='cm_dvd_edit'>Correct Listing Info</li><li id='cm_dvd_pic'>Upload or Edit Pictures</li><li id='cm_dvd_spi'>Select Display Picture<ul id='context_dvd_img'><li></li><li><div id='cm_dvd_spi_div'>Hello.</div></li></ul></li></ul></li>";};function ulDvdMany(s){var b=typeof(DvdPricePrep)=='undefined';s.s+="<li class='context-class-a-dvd_pic'><ul id='context_dvd' onclick='onMenuClick(this)'><li id='cm_dvd_title'><div>DVD</div></li><li></li><li id='cm_dvd_large'>Show Large Pic</li><li id='cm_dvd_blog'>Blog it<ul><li>"+ulBlogForm('','')+"</li></ul></li>"+Facebook.ul()+"<li></li><li id='cm_dvd_one'>One Pager</li><li id='cm_dvd_who'>Who&#39;s got it?</li><li></li><li id='cm_dvd_copy'>Move to<ul id='context_dvd_copy'><li id='cm_dvd_copy_last'>last</li><li></li><li id='cm_dvd_copy_owned'>owned</li><li id='cm_dvd_copy_order'>on-order</li><li id='cm_dvd_copy_wish'>wish-list</li><li id='cm_dvd_copy_work'>work</li><li id='cm_dvd_copy_seen'>have-seen</li></ul></li><li id='cm_dvd_delete'>Delete from My Collection</li><li></li><li id='cm_dvd_cart_add'>Add to Cart</li><li id='cm_dvd_cart_del'>Remove from Cart</li><li id='cm_dvd_prices'>Compare Prices</li>"+(b?"<li></li><li id='cm_dvd_edit'>Correct Listing Info</li><li id='cm_dvd_pic'>Upload or Edit Pictures</li><li id='cm_dvd_mine'>Edit Custom Info</li><li id='cm_dvd_spi'>Select Display Picture<ul id='context_dvd_img'><li></li><li><div id='cm_dvd_spi_div'>Hello.</div></li></ul></li>":'')+"<li></li><li id='cm_sel'><a><span style='position:relative;left:-16px'>Action on <strong>Selected Titles</strong></span></a><ul id='context_sel'><li id='cm_sel_who'>Who&#39;s got them?</li><li></li><li id='cm_sel_copy'>Move to<ul id='context_sel_copy'><li></li><li id='cm_sel_copy_last'>last</li><li id='cm_sel_copy_last_'></li><li id='cm_sel_copy_owned'>owned</li><li id='cm_sel_copy_order'>on-order</li><li id='cm_sel_copy_wish'>wish-list</li><li id='cm_sel_copy_work'>work</li><li id='cm_sel_copy_seen'>have-seen</li></ul></li><li id='cm_sel_delete'>Delete from My Collection</li><li></li><li id='cm_sel_cart_add'>Add to Cart</li><li id='cm_sel_cart_del'>Remove from Cart</li><li id='cm_sel_prices'>Compare Prices</li>"+(b?"<li></li><li id='cm_sel_edit'>Correct Listing Info</li><li id='cm_sel_mine'>Edit Custom Info</li>":'')+"<li></li><li id='cm_sel_inv'>Toggle Selection</li><li id='cm_sel_all'>Select All</li><li id='cm_sel_none'>Unselect All</li></ul></li></ul></li>";};function ulJump(s){s.s+="<li id='menu-jump-page'><ul id='jump_page'><li><div style='margin:4px 0 4px 0'><form id='mform_jump' name='mform_jump' action=''><div style='white-space:nowrap'><div style='margin:4px 0 4px 0'>Jump to page:</div><table style='white-space:nowrap'><tr><td><input type='text' id='n_jump' onkeypress='return Jump.setOnEnter(event)' size='4'></td><td style='padding:0 12px 0 1px'><img src='http://dv1.us/d1/00/pn00.gif' id='is_2_jump' height='17' width='10' sp_min='1' sp_max='100' sp_inc='1' alt='Spin' /><img src='http://dv1.us/d1/00/pn00.gif' id='is_1_jump' height='17' width='10' sp_min='1' sp_max='100' sp_inc='0' alt='Spin' /></td><td style='text-align:right'><input type='button' value='go' onclick='Jump.set(-1)'></td></tr></table></div></form></div></li></ul></li>";};function ulPageSize(s){s.s+="<li id='menu-page-size'><ul id='page_size'><li><div style='margin:4px 0 4px 0'><form id='mform_pagesize' name='mform_pagesize' action=''><div style='white-space:nowrap'><div style='margin:4px 0 4px 0'>Preferred page size:</div><table style='white-space:nowrap'><tr><td><input type='text' id='n_pagesize' onkeypress='return PageSize.setOnEnter(event)' size='4'></td><td style='padding:0 12px 0 1px'><img src='http://dv1.us/d1/00/pn00.gif' id='is_3_pagesize' height='17' width='10' sp_min='1' sp_max='200' sp_inc='b' alt='Spin' /><img src='http://dv1.us/d1/00/pn00.gif' id='is_2_pagesize' height='17' width='10' sp_min='1' sp_max='200' sp_inc='a' alt='Spin' /><img src='http://dv1.us/d1/00/pn00.gif' id='is_1_pagesize' height='17' width='10' sp_min='1' sp_max='200' sp_inc='0' alt='Spin' /></td><td style='text-align:right'><input type='button' value='set' onclick='PageSize.set(-1)'></td></tr></table></div></form></div></li></ul></li>";};var DvdList={setListFormat:function(prop,row,edit){if(row<=0)row=Filmaf.firstRowNo;if(!prop||prop==Filmaf.presentationMode)return;switch(prop){case 'one':break;case 'prn':row=1;break;case 'src':default:row=Math.floor((row+Filmaf.reqPageSize-1)/Filmaf.reqPageSize);prop='';break;}if(row<1)row=1;Cookie.set('pm',prop);location.href=Url.setVal('edit',edit?'1':'',Url.setVal('pg',row>1?row:''));},showLargePic:function(s){var i,e=$('a_'+s);if(e&&(e=Dom.getFirstChildByType(e,'img')))if((i=e.src.indexOf(s.substr(1)+'-'))>=0)if((e=e.src.substr(i)))if((e=e.substr(0,e.length-4)))Win.showPic(e);},picMngt:function(s){if(s)Win.openPop(false,'target_pic',Filmaf.baseDomain+'/utils/x-pic-mngt.html?obj_type=dvd&obj='+s,0,0,1,1);else alert('Sorry, we did not find any titles selected.');},onePagerFlip:function(edit){if(Filmaf.presentationMode=='one')DvdList.setListFormat('src',Filmaf.contextRow,0);else DvdList.setListFormat('one',Filmaf.contextRow,edit);},searchByDvdId:function(s){s=encodeURIComponent(s).replace(/(\%20)+/g,'+');if(s)location.href=Filmaf.baseDomain+"/search.html?has="+s+"&init_form=str0_has_"+s;},folderToMove:function(id){switch(id){case 'copy_last':return Filmaf.lastMoveFolder;case 'copy_owned':return 'owned';case 'copy_order':return 'on-order';case 'copy_wish':return 'wish-list';case 'copy_work':return 'work';case 'copy_seen':return 'have-seen';}return 0;},dvdAction:function(s_form,s_id,s_action,s_where){function __dvdListEdit(s){if(s)Win.openPop(false,'targetedit',Filmaf.baseDomain+'/utils/x-dvd-edit.html?dvd='+s,0,0,1,1);else alert('Sorry, we did not find any titles selected.');};function __dvdListDel(s){var f;if(s&&(f=$('f_act'))){f.act.value='del';f.sub.value=s;f.tar.value='';f.action=location.href;f.submit();}};function __dvdListWho(s){location.href=Filmaf.baseDomain+'/who.html?dvd='+s;};function __dvdListMove(s,d){var f;if(s&&d&&(f=$('f_act'))){f.act.value='move';f.sub.value=s;f.tar.value=d;f.action=location.href;f.submit();}return true;};var a,f,i,s='';if(s_form){if((f=$(s_form))){a=DvdList.getSelListings(1,f);for(i=0;i<a.length;i++)s+=a[i]+',';s=s.substr(0,s.length-1);if(s_action=='move'){if(!f.sel_folder)return;if(!s_where)s_where=DropDown.getSelValue(f.sel_folder);}}}else{s=Dec.parse(s_id.replace(/^0+/g,''));}if(s){switch(s_action){case 'edit':__dvdListEdit(s);break;case 'delete':__dvdListDel(s);break;case 'who':__dvdListWho(s);break;case 'move':__dvdListMove(s,s_where);break;}}return true;},cartAdd:function(child){var f=Dom.getParentByType(child,'form'),c=Cookie.get('cart'),a=DvdList.getSelListings(1,f),i,h;c=c?','+c+',':'';if(a.length){for(i=a.length-1;i>=0;i--){if(a[i]){h=c.match(new RegExp(','+a[i]+'-[a-z0-9]*,','g'));if(h)c=h[0]+c.replace(new RegExp(','+a[i]+'-[a-z0-9]*,','g'),',').substr(1);else c=','+a[i]+'-'+(c?c:',');}}Cookie.set('cart',c);Cart.highlight(true);}return false;},cartDel:function(child){var f=Dom.getParentByType(child,'form'),c=Cookie.get('cart'),a=DvdList.getSelListings(1,f),i,h,b;c=c?','+c+',':'';if(a.length){for(i=a.length-1;i>=0;i--)if(a[i])c=c.replace(new RegExp(','+a[i]+'-[a-z0-9]*,','g'),',');Cookie.set('cart',c);Cart.highlight(true);}return false;},dvdSelect:function(f,n){var e,i,b,x;if(f&&f.elements){e=f.elements;b=1;for(i=0;i<e.length;i++){x=e[i];if(x.type=='checkbox'&&x.id.substr(0,3)=='cb_'&&x.id!='cb_all'){x.checked=n==2?!x.checked:n!=0;if(!x.checked)b=0;}}if((x=$('cb_all')))x.checked=b;}},blog:function(n){var e=$('n_dvd_blog'),f=$('blogfb_cb'),s,b=false;if(n){if(e){if((s=Str.trim(e.value))){f=f&&f.checked?'1':'0';s_post='version=v1&blog='+encodeURIComponent(s)+'&pic_source=D&pic_name=-&pic_id=0&obj_id='+Filmaf.contextStr+'&obj_type=D&fb='+f;switch(n){case 1:case 2:Ajax.asynch('home','DvdList.__blog'+(n==1?'':'Home'),'?mode=blog&what=set&user='+Filmaf.userCollection,s_post);break;case 3:Ajax.asynch('home','MicroblogPainter.__paint','?mode=blog&what=set&user='+Filmaf.userCollection+'&view='+Filmaf.viewCollection,s_post);break;}b=true;}else{alert('Sorry, did not get your message.');}e.value='';}}else{b=true;}if(b)Context.close();},blogfb:function(){var e=$('blogfb_cb'),f=$('blogfb_img');if(e&&f){f.src='http://dv1.us/d1/fb'+(e.checked?'1':'0')+'.png';Button.enable('b_blog_and_home',!e.checked);}},__blog:function(){DvdList._blogMe('');},_blogMe:function(loc){var o={};if(!Ajax.getParms(o))return;var fb=Ajax.statusInt(o.line1,'fb'),b={};if(fb&&o.length>=4&&DvdList.parseBlogFb(o.lines[3],b))Facebook.blog(b.obj_id,b.media_type,b.blog);if(loc)location.href=loc;else if(!fb)alert('Posted!');},parseBlogFb:function(s,t){var i,u,v;s=s.split('\t');t.location='';for(i=0;i<s.length;i+=2){u=s[i+1];v=Dom.decodeHtmlForInput(u);switch(s[i]){case 'user_id':t.user_id=u;break;case 'location':t.location=u;break;case 'media_type':t.media_type=u;break;case 'blog_id':t.blog_id=Dec.parse(u);break;case 'reply_num':t.reply_num=Dec.parse(u);break;case 'obj_id':t.obj_id=Dec.parse(u);break;case 'blog':t.blog=u;break;}}return t.location=='B';},__dvdPicSelect:function(){function parse(s,t){var i,u,v;s=s.split('\t');t.images='';for(i=0;i<s.length;i+=2){u=s[i+1];v=Dom.decodeHtmlForInput(u);switch(s[i]){case 'dvd_id':t.dvd_id=Dec.parse(u);break;case 'images':t.images=u;break;}}return t.images!='';};var o={};if(!Ajax.getParms(o))return;var x=DvdListMenuPrep.dvdImgSel,b={},s='',a,e,i;if(o.length>=3&&parse(o.lines[2],b)&&(e=$('cm_dvd_spi_div'))&&b.dvd_id==x){a=b.images.split(',');for(i=0;i<a.length;i++){if(i&&i%5==0)s+='</div><div>';b=a[i];s+="<a href='javascript:void(DvdList.dvdPicSelected("+x+",\""+b+"\"))' style='padding:10px 4px 10px 4px'><img src='"+Img.getPicLoc(b,1)+"' style='padding:4px;border: 1px solid #b1d3ec' /></a>";}e.innerHTML="<div>Please click on one of the pictures below for it to be displayed in your collection.</div><div style='padding:4px 0 4px 0'>"+s+"</div><div style='float:right;margin-bottom:4px'><input type='button' value='Use FilmAf&#34;s default' onclick='DvdList.dvdPicSelected("+x+",0)' /></div>";}},dvdPicSelected:function(dvd,pic){Ajax.asynch('pics','DvdList.__dvdPicSelected','?what=selcollectionpic&dvd='+dvd+'&pic='+pic);},__dvdPicSelected:function(){function parse(s,t){var i,u,v;s=s.split('\t');t.pic_name='';for(i=0;i<s.length;i+=2){u=s[i+1];v=Dom.decodeHtmlForInput(u);switch(s[i]){case 'dvd_id':t.dvd_id=Dec.parse(u);break;case 'pic_name':t.pic_name=u;break;}}return t.pic_name!='';};var o={};if(!Ajax.getParms(o))return;var b={},e;if(o.length>=3&&parse(o.lines[2],b)){e='000000'+b.dvd_id;if((e=$('zo_'+e.substr(e.length-7,7)))){e.src=/jpg$/.test(e.src)?Img.getPicLoc(b.pic_name,0):Img.getPicLoc(b.pic_name,1);Context.close();ImgPop.close(0);}}},getSelListings:function(b_warn_on_none,f){var x=[],i,k,e;if(f&&f.elements){f=f.elements;for(i=0,k=0;i<f.length;i++){e=f[i].id;if(e.substr(0,3)=='cb_'&&e!='cb_all')if(f[i].checked)x[k++]=Dec.parse(e.substr(3).replace(/^0+/g,''));}if(k)return x;else if(b_warn_on_none)alert('Sorry, there are no listings selected. In order\nto select a listing click on the check box next to it.');}return false;},isAnyAllSelected:function(f){var e,i,n=1,a=1;if(f&&f.elements){f=f.elements;for(i=0;i<f.length;i++){e=f[i].id;if(e.substr(0,3)=='cb_'&&e!='cb_all')if(f[i].checked)n=0;else a=0;}}return n?0:(a?2:1);},check:function(cb){if(cb&&cb.form&&cb.form.cb_all)cb.form.cb_all.checked=false;return false;},uncheckAll:function(child){var f=Dom.getParentByType(child,'form'),e,i,x;if(f&&f.elements){e=f.elements;for(i=0;i<e.length;i++){x=e[i];if(x.type=='checkbox'&&x.id.substr(0,3)=='cb_'&&x.id!='cb_longtitles')x.checked=false;}}return false;},checkAll:function(f){var e,c,i,x;if(f&&f.elements){e=f.elements;c=f.cb_all?f.cb_all.checked:true;for(i=0;i<e.length;i++){x=e[i];if(x.type=='checkbox'&&x.id.substr(0,3)=='cb_'&&x.id!='cb_all'&&x.id!='cb_longtitles')x.checked=c;}}return false;},isDvdInCart:function(i){if(typeof(i)=='string')i=Dec.parse(i);if(i){var r=new RegExp(','+i+'-[0-9]*,'),c=','+Cookie.get('cart')+',';return r.test(c);}return false;},setLongTitles:function(x){Cookie.set('longtitles',x?'Y':'');var g=window.self.document.getElementsByTagName('div'),i,e,f,s;for(i=g.length;--i>=0;){e=g[i];if(e.id&&e.id.substr(0,3)=='tf_'){if((f=$(e.id+'_sav'))){if((e.innerHTML.length>f.innerHTML.length)==(!x?true:false)){s=f.innerHTML;f.innerHTML=e.innerHTML;e.innerHTML=s;}}}}},synchLongTitles:function(){var e=$('cb_longtitles');if(e)e.checked=Cookie.get('longtitles')=='Y';},selectIfOne:function(){if(Filmaf.rowsShown==1){var f=$('f_list'),e=$('cb_all');if(f&&e){e.checked=true;DvdList.checkAll(f);}}}};var DvdListMenuPrep={dvdImgSel:0,onPopup:function(el){if(!this.id)return;var i=this.menu.items,t=this.menu.target,u=!(Filmaf.userCollection!=''),v=!(Filmaf.viewCollection!=''&&Filmaf.viewCollection!=Filmaf.userCollection),z=this;switch(this.id){case 'context_dvd':DvdListMenuPrep._contextDvd(i,t,u,v,el);break;case 'context_dvd_img':DvdListMenuPrep._contextDvdImg(Filmaf.contextStr);break;case 'context_dvd_copy':DvdListMenuPrep._contextDvdCopy(i);break;case 'context_sel':DvdListMenuPrep._contextSel(i,t);break;case 'context_sel_copy':DvdListMenuPrep._contextSelCopy(i);break;case 'context-float':break;case 'context_gen':DvdListMenuPrep._contextGen(i,t,u,v);break;case 'context_imdb':DvdListMenuPrep._contextImdb(i,t,u,v);break;case 'context_dir':DvdListMenuPrep._contextDir(i,t,u,v);break;case 'context_pub':DvdListMenuPrep._contextPub(i,t,u,v);break;case 'jump_page':Jump.attachSpin(t,null);break;case 'page_size':PageSize.attachSpin(t);break;case 'explain_pop':Explain.show(t.id,true);break;default:z.filmaf=SearchMenuPrep.onPopup;z.filmaf(el);break;}},_contextDvd:function(i,t,u,v,el){var b=Dom.getParentByType(t,'form'),g,h;Filmaf.contextForm=b?b.name:'';Filmaf.contextStr=t.id.substr(2);Filmaf.contextMed=t.id.substr(0,1);Filmaf.contextRow=0;t=Dom.getParentByType(t,'tr');if(t&&t.id&&t.id.substr(0,2)=='r_'){t=Dec.parse(t.id.substr(2));if(t>0)Filmaf.contextRow=t;}b=Img.isChecked($('ic_'+Filmaf.contextStr),1);g=Filmaf.userCollection=='';h=location.href.indexOf('/search.html?')>0;i.cm_dvd_title.labelTD.innerHTML="<span style='position:relative;left:-16px'>Action on DVD <strong>"+Filmaf.contextStr+'</strong></span>';i.cm_dvd_one.labelTD.innerHTML=Filmaf.presentationMode=='one'?"&quot;Standard Listing&quot; mode":"&quot;One Pager&quot; mode";i.cm_dvd_one.disable(typeof(DvdPricePrep)!='undefined');if(i.cm_dvd_copy)i.cm_dvd_copy.disable(g);if(i.cm_dvd_delete)i.cm_dvd_delete.disable(g);i.cm_dvd_cart_add.disable(b);i.cm_dvd_cart_del.disable(!b);if(i.cm_dvd_edit)i.cm_dvd_edit.disable(g);if(i.cm_dvd_pic)i.cm_dvd_pic.disable(g);if(i.cm_dvd_mine)i.cm_dvd_mine.disable(g||h);if(i.cm_dvd_spi)i.cm_dvd_spi.disable(u||!v||h||el.getAttribute('imgsel')!='1');i.cm_dvd_blog.disable(g);if($('div_zoom')){ImgPop.setMenuText(i.cm_dvd_large.labelTD);}else{i.cm_dvd_large.labelTD.innerHTML='Show Large Pic';ImgPop.menuContext='show large';}Facebook.ulPre(i,Filmaf.contextMed,Filmaf.contextStr);},_contextDvdImg:function(i){var e;i=Dec.parse(i);if(DvdListMenuPrep.dvdImgSel!=i&&(e=$('cm_dvd_spi_div'))){DvdListMenuPrep.dvdImgSel=i;e.innerHTML="<div>Retrieving Options...</div><div><img src='http://dv1.us/d1/wait.gif' /></div>";Ajax.asynch('pics','DvdList.__dvdPicSelect','?what=listpics&dvd='+i);}},_contextDvdCopy:function(i){var b=Filmaf.lastMoveFolder&&Filmaf.lastMoveFolder.indexOf('/')>0;i.cm_dvd_copy_last.labelTD.innerHTML=b?Filmaf.lastMoveFolder:'&lt;no previous subfolder&gt;';i.cm_dvd_copy_last.disable(!b);},_contextSel:function(i,t){var b=Dom.getParentByType(t,'form'),s=DvdList.isAnyAllSelected(b),g=Filmaf.userCollection=='',h=location.href.indexOf('/search.html?')>0;i.cm_sel_who.disable(!s);i.cm_sel_copy.disable(g||!s);i.cm_sel_delete.disable(g||!s);i.cm_sel_cart_add.disable(!s);i.cm_sel_cart_del.disable(!s);i.cm_sel_prices.disable(!s||typeof(DvdPricePrep)!='undefined');if(i.cm_sel_edit)i.cm_sel_edit.disable(g||!s);if(i.cm_sel_mine)i.cm_sel_mine.disable(g||!s||h);i.cm_sel_inv.disable(s!=1);i.cm_sel_all.disable(s==2);i.cm_sel_none.disable(s==0);},_contextSelCopy:function(i){var b=Filmaf.lastMoveFolder&&Filmaf.lastMoveFolder.indexOf('/')>0;if(b)i.cm_sel_copy_last.labelTD.innerHTML=Filmaf.lastMoveFolder;i.cm_sel_copy_last.display(b);i.cm_sel_copy_last_.display(b);},_contextGen:function(i,t,u,v){Filmaf.contextStr=Url.getVal('genre',t.href);var s_genre=t.innerHTML,n_slash=s_genre.indexOf(' / '),b;i.cm_gen0_title.labelTD.innerHTML="<span style='position:relative;left:-16px'>Search &quot;<strong>"+s_genre+'</strong>&quot; in:</span>';if(n_slash>=0){s_genre=s_genre.substr(0,n_slash);i.cm_gen1_title.labelTD.innerHTML="<span style='position:relative;left:-16px'>Search &quot;<strong>"+s_genre+'</strong>&quot; in:</span>';if(!i.cm_gen1_title.visible)i.cm_gen1_title.display(true);if(!i.cm_gen1_sep1.visible)i.cm_gen1_sep1.display(true);if(!i.cm_gen1_filmaf.visible)i.cm_gen1_filmaf.display(true);if(!i.cm_gen1_mine.visible)i.cm_gen1_mine.display(true);if(!i.cm_gen1_this.visible)i.cm_gen1_this.display(true);if(!i.cm_gen1_sep2.visible)i.cm_gen1_sep2.display(true);}else{if(i.cm_gen1_title.visible)i.cm_gen1_title.display(false);if(i.cm_gen1_sep1.visible)i.cm_gen1_sep1.display(false);if(i.cm_gen1_filmaf.visible)i.cm_gen1_filmaf.display(false);if(i.cm_gen1_mine.visible)i.cm_gen1_mine.display(false);if(i.cm_gen1_this.visible)i.cm_gen1_this.display(false);if(i.cm_gen1_sep2.visible)i.cm_gen1_sep2.display(false);}i.cm_gen2_title.labelTD.innerHTML="<span style='position:relative;left:-16px'>Search &quot;<strong>"+s_genre+' + Subgenres</strong>&quot; in:</span>';if(i.cm_gen0_mine.visible)i.cm_gen0_mine.disable(u);if(i.cm_gen0_this.visible)i.cm_gen0_this.disable(v);if(i.cm_gen1_mine.visible)i.cm_gen1_mine.disable(u);if(i.cm_gen1_this.visible)i.cm_gen1_this.disable(v);if(i.cm_gen2_mine.visible)i.cm_gen2_mine.disable(u);if(i.cm_gen2_this.visible)i.cm_gen2_this.disable(v);b=Search.isPinned();if(b!=i.cm_gen_pin1.visible)i.cm_gen_pin1.display(b);if(b!=i.cm_gen_pin2.visible)i.cm_gen_pin2.display(b);},_contextImdb:function(i,t,u,v){Filmaf.contextStr=Url.getVal('vd',t.href).substr(3);i.cm_imdb_mine.disable(u);i.cm_imdb_this.disable(v);var b=Search.isPinned();if(b!=i.cm_imdb_pin1.visible)i.cm_imdb_pin1.display(b);if(b!=i.cm_imdb_pin2.visible)i.cm_imdb_pin2.display(b);},_contextDir:function(i,t,u,v){var s=t.href,n=s.indexOf('/gd/');Filmaf.contextStr=decodeURIComponent(s.substr(n+4));i.cm_dir_title.labelTD.innerHTML="<span style='position:relative;left:-16px'>Search &quot;<strong>"+t.innerHTML+'</strong>&quot; in:</span>';i.cm_dir_mine.disable(u);i.cm_dir_this.disable(v);var b=Search.isPinned();if(b!=i.cm_dir_pin1.visible)i.cm_dir_pin1.display(b);if(b!=i.cm_dir_pin2.visible)i.cm_dir_pin2.display(b);},_contextPub:function(i,t,u,v){var s=t.href,n=s.indexOf('pub=');Filmaf.contextStr=decodeURIComponent(s.substr(n+4));i.cm_pub_title.labelTD.innerHTML="<span style='position:relative;left:-16px'>Search &quot;<strong>"+t.innerHTML+'</strong>&quot; in:</span>';i.cm_pub_mine.disable(u);i.cm_pub_this.disable(v);var b=Search.isPinned();if(b!=i.cm_pub_pin1.visible)i.cm_pub_pin1.display(b);if(b!=i.cm_pub_pin2.visible)i.cm_pub_pin2.display(b);}};var DvdListMenuAction={onClick:function(action){if(!action.info||!action.info.id)return;var id=action.info.id,md=id.substr(0,7),z=this;if(!(id=id.substr(7)))retutn;switch(md){case 'cm_imdb':DvdListMenuAction._clickSearchImdb(id.substr(1));break;case 'cm_gen0':case 'cm_gen1':case 'cm_gen2':DvdListMenuAction._clickSearchGenre(id.substr(1),md);break;case 'cm_dir_':case 'cm_pub_':DvdListMenuAction._clickSearchText(id,md.substr(3,3));break;case 'cm_dvd_':DvdListMenuAction._clickOneDvd(id);break;case 'cm_sel_':DvdListMenuAction._clickManyDvd(id);break;default:z.filmaf=SearchMenuAction.onClick;z.filmaf(action);break;}},_clickSearchText:function(ctx,opt){if(!Filmaf.contextStr)return;switch(ctx){case 'imdb':Win.openPop(false,'imdb',Filmaf.baseDomain+'/rt.php?vd=imd'+Filmaf.contextStr,0,0,0,1);break;case 'xp':DirXp.open(Filmaf.contextStr);break;default:Search.setSearch(ctx,opt,Filmaf.contextStr);break;}},_clickSearchImdb:function(ctx){if(!Filmaf.contextStr)return;DvdListMenuAction._clickSearchText(ctx,'imdb');},_clickSearchGenre:function(ctx,md){if(!Filmaf.contextStr)return;var m=Filmaf.contextStr.indexOf('-');if(m&&md!='cm_gen0'){Filmaf.contextStr=Filmaf.contextStr.substr(0,m);if(md=='cm_gen1')Filmaf.contextStr+='-nosub';}Search.setSearch(ctx,'genre',Filmaf.contextStr);},_clickOneDvd:function(id){var df=true,mv='';switch(id){case 'large':switch(ImgPop.menuContext){case 'show':ImgPop.show($('zo_'+Filmaf.contextStr),1);break;case 'stop showing':ImgPop.close(1);break;case 'show large':DvdList.showLargePic(Filmaf.contextStr);break;}break;case 'blog':break;case 'pic':DvdList.picMngt(Filmaf.contextStr);break;case 'prices':Price.click(Filmaf.contextStr,0);break;case 'cart_add':Img.check($('ic_'+Filmaf.contextStr),1,1);Cart.click(Filmaf.contextStr,true);break;case 'cart_del':Img.check($('ic_'+Filmaf.contextStr),1,0);Cart.click(Filmaf.contextStr,false);break;case 'mine':DvdList.onePagerFlip(1);break;case 'one':DvdList.onePagerFlip(0);break;case 'lst':DvdList.searchByDvdId(Filmaf.contextStr);break;case 'fb_see':Facebook.see(Filmaf.contextStr,Filmaf.contextMed);break;case 'fb_want':Facebook.want(Filmaf.contextStr,Filmaf.contextMed);break;case 'fb_order':Facebook.order(Filmaf.contextStr,Filmaf.contextMed);break;case 'fb_got':Facebook.get(Filmaf.contextStr,Filmaf.contextMed);break;case 'delete':case 'edit':case 'details':case 'who':df=false;default:if(df){if((mv=DvdList.folderToMove(id)))id='move';else break;}DvdList.dvdAction('',Filmaf.contextStr,id,mv);break;}},_clickManyDvd:function(id){var f=$(Filmaf.contextForm),df=true,mv='';if(!f)return;switch(id){case 'cart_add':DvdList.cartAdd(f);break;case 'cart_del':DvdList.cartDel(f);break;case 'inv':DvdList.dvdSelect(f,2);break;case 'all':DvdList.dvdSelect(f,1);break;case 'none':DvdList.dvdSelect(f,0);break;case 'prices':DvdList.cartAdd(f);location.href=Filmaf.baseDomain+'/price.html';break;case 'mine':DvdList.onePagerFlip(1);break;case 'delete':case 'edit':case 'details':case 'who':df=false;default:if(df){if((mv=DvdList.folderToMove(id)))id='move';else break;}DvdList.dvdAction(Filmaf.contextForm,'',id,mv);break;}}};